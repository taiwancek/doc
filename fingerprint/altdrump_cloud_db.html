<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<!DOCTYPE html>
<html lang='en' xmlns='http://www.w3.org/1999/xhtml' >
<head>
<title>altrump&#95;cloud&#95;db</title>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<!--<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>-->
<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>-->
<link rel="shortcut icon" href="https://www.dbschema.com/images/favicon.ico">
<style type='text/css'>
body {
    font-family: 'Segoe UI', 'Lucida sans', Dialog;
    font-size: 13px;
    background-color:#f5f5f5;
    margin: 10px;
}
</style>
</head>

<body>
<div class='svg-container'>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'   width='2430' height='1865' viewBox='0 0 2430 1865' >
  <script type='text/ecmascript'>
  <![CDATA[
  function hghl(el) { for ( var i in el ){ var elem = document.getElementById(el[i]); if ( elem != null ) elem.setAttribute('class','highlight');  }  }
  function uhghl(el) { for ( var i in el ){ var elem = document.getElementById(el[i]); if ( elem != null ) elem.setAttribute('class','scene'); }  } 
  ]]>
  </script> 

<style type='text/css'>
  text                { fill:#000000; font-family: Trebuchet MS, 'Trebuchet MS', Dialog; font-size:11px; }
  a text:hover        { fill:#94025f; text-shadow: 0px 0px 6px #d0ce00; font-size:13px; }
  text.highlight      { fill:#94025f; text-shadow: 0px 0px 4px #eac533; font-size:13px; }
  text.colType        { fill:#b3b3b3; }
  text.relName        { fill:#b09c7c; }
  path                { stroke:#5c554f; stroke-width:1.15; fill:none; }
  path                { stroke:#5c554f; stroke-width:1.15; fill:none;}
  path.virtual        { stroke:#b7642d; }
  path.logo           { fill:#fbeac0;fill-opacity:1;stroke-width:0.3;stroke:#222222; }
  path.dotted         { stroke-dasharray:4,2; }
  path.scene          { stroke-width:10; opacity:0;}
  path.highlight      { stroke-width:5; stroke:#c1a662; opacity:0.6;}
  rect.entity         { fill:#ffffff; stroke:#aaa; stroke-width:1;shape-rendering:crispEdges;filter:url(#shadow); }
  line.delim          { stroke-width:1; shape-rendering:crispEdges; }
  text.callout        { fill:#000000; font-family: Trebuchet MS, 'Trebuchet MS', Dialog; font-size:12px; }
  rect.callout        { fill:url(#calloutGradient); stroke:#bebdbd; stroke-width:0.5; filter: url(#shadow);}
  rect.grp            { stroke:#b1b1b1; stroke-width:1.7; opacity:0.8; }
  path.st0            { fill:#ececec;fill-opacity:1;stroke-width:0.6;stroke:#aaaaaa; }
</style>
<defs>
  <pattern id='layoutBgA' patternUnits='userSpaceOnUse'  width='10' height='20' x='0' y='0' viewBox='0 0 5 10'>  
     <line x1='-2' y1='1' x2='7' y2='10' stroke='#f3f3f3' stroke-width='.5'/>  
     <line x1='-2' y1='6' x2='7' y2='15' stroke='#f3f3f3' stroke-width='.5'/>  
     <line x1='-2' y1='-4' x2='7' y2='5' stroke='#f3f3f3' stroke-width='.5'/>  
  </pattern>  
  <radialGradient id='layoutBgB' gradientUnits='userSpaceOnUse' cx='50%' cy='50%' r='75%' fx='46%' fy='22%'>
     <stop offset='0%' stop-opacity='.2' stop-color='#f5f5f5' />  
     <stop offset='100%' stop-color='#efefef' />  
  </radialGradient>
  <pattern id='layoutBgTr' patternUnits='userSpaceOnUse'  width='300' height='300' x='0' y='0' viewBox='0 0 300 300'>  
  <path class='st0' d='m 62.011835,91.267143 c 3.536475,3.175214 2.262669,8.705999 -1.637711,11.015197 -3.594697,5.8423 -6.34682,-2.892623 -9.715478,-4.653898 -5.609222,-2.838926 2.050802,-6.680123 4.77004,-8.319046 2.334696,-0.724067 4.935143,0.312302 6.583149,1.957747 z m -2.720492,2.538595 c -2.698397,-3.517732 -9.282815,1.269287 -3.69635,3.568637 2.765331,5.605665 7.052809,-0.56184 3.69635,-3.568637 z' />
  <path class='st0' d='m 72.25864,84.624638 c 4.108046,3.143003 -0.737059,6.895259 -1.994918,8.323564 -3.586718,5.561143 -6.495079,-4.197379 -10.07759,-5.582178 -4.443422,-1.088878 1.349298,-7.249213 2.503526,-2.503449 2.464639,4.517161 2.304019,-3.70697 6.291113,-1.995914 1.280083,0.137865 2.410691,0.864819 3.277869,1.757977 z m -2.646109,2.323242 c -4.797162,-3.078383 -2.810517,6.305507 0.515161,1.990646 0.296432,-0.688582 0.01209,-1.493412 -0.515161,-1.990646 z' />
  <path class='st0' d='m 78.230641,79.436735 c 4.142121,3.027466 -2.020102,10.435276 -3.450543,5.477315 3.306312,-5.248112 -9.186019,-2.220094 -5.805994,-8.77679 -0.544141,-3.93011 6.797826,-2.102227 3.386015,0.245477 -0.181085,2.915838 4.637371,1.019311 5.870522,3.053982 z' />
  <path class='st0' d='m 82.744502,72.597397 c -4.901605,1.926521 1.146497,6.285555 2.559694,2.225783 6.21817,3.539297 -6.640186,8.416664 -7.590325,1.997457 -2.24365,-2.914883 4.026676,-10.148618 5.030631,-4.22324 z' />
  <path class='st0' d='m 90.727458,64.259158 c 1.583987,1.690029 3.321317,3.2696 4.81267,5.026353 -2.535706,6.849794 -6.445583,-5.918773 -8.388458,-0.167017 0.782768,2.03426 5.877405,3.752079 2.670979,5.711199 -3.315119,1.519161 -5.782422,-5.157931 -8.858893,-6.780537 -4.229842,-1.139816 1.510134,-7.074128 2.586227,-2.385939 3.141198,5.495193 1.840537,-5.598295 7.177489,-1.404062 z' />
  <path class='st0' d='m 99.622027,58.374253 c 1.493293,1.9548 -6.281936,7.024659 -0.885258,4.740447 0.386238,-4.434477 6.131941,-1.133173 2.175851,1.618005 -4.421491,6.12739 -13.666659,-3.151506 -7.058299,-7.136537 1.785129,-1.119329 4.348209,-0.743179 5.767706,0.778085 z m -2.900824,1.89746 c -3.608188,-2.208543 -2.280489,5.00803 -0.12563,0.329531 z' />
  <path class='st0' d='m 115.18023,50.570441 c -1.61703,5.201678 -4.6204,-0.364502 -7.01598,-1.749619 -4.40977,2.122562 4.89641,4.913939 1.89606,7.018157 -2.48061,3.877635 -4.11404,-4.060614 -7.01192,-2.6391 -1.76318,3.107252 7.28394,6.252304 0.87346,7.876177 -1.74515,-2.956649 -9.055498,-5.610518 -3.950378,-8.66062 1.696478,1.897023 1.770418,-5.43503 5.347308,-3.072411 -0.44014,-5.474701 6.11995,-4.950882 7.7846,-0.815355 0.69076,0.682329 1.39587,1.351469 2.07685,2.042771 z' />
  <path class='st0' d='m 120.54891,39.417125 c 2.50681,1.334124 4.80466,4.941837 0.75044,5.297362 -0.46414,1.89865 -5.25369,5.602652 -8.01742,1.815475 -3.87345,-2.809139 -0.0676,-7.603869 2.3036,-8.133924 1.6795,-3.853018 3.16703,-1.199465 4.96338,1.021087 z m -2.2464,2.175828 c -4.8049,-2.992167 -3.08987,6.380358 0.42374,2.036159 0.33052,-0.677508 0.12099,-1.525836 -0.42374,-2.036159 z' />
  <path class='st0' d='m 128.50836,24.06821 c -5.10403,3.035506 3.20535,6.383175 5.05938,9.450276 -0.91853,2.95886 -4.06493,3.650723 -5.34691,0.265618 -2.25715,-2.089033 -4.65672,-6.948595 -7.07024,-2.584686 -4.71758,-3.764394 3.81217,-5.812054 5.12382,-9.226328 0.75738,0.677487 1.38637,1.498638 2.23389,2.095175 z' />
  <path class='st0' d='m 137.14366,22.299812 c -3.09615,2.259885 0.71537,4.412454 1.99042,6.435866 -3.08975,5.080354 -5.91384,-2.98648 -8.92144,-4.094939 1.44369,-3.219573 3.3497,-1.335928 4.27156,-4.41058 0.97822,-0.894325 1.75044,1.871047 2.65946,2.069653 z' />
  <path class='st0' d='m 136.85093,14.890174 c 2.31562,5.283511 -7.17975,1.771993 -1.29675,-0.475107 l 0.7108,0.08973 z m 4.867,5.317354 c 2.56912,1.439678 4.26517,4.725219 0.30678,5.233637 -1.56592,-3.098864 -9.51683,-5.749448 -3.64502,-8.633714 1.17746,0.325095 2.15375,2.591149 3.33824,3.400077 z' />
  <path class='st0' d='m 149.95578,11.976423 c 2.50679,1.334142 4.80455,4.94192 0.75041,5.297394 -0.4641,1.898604 -5.25368,5.602645 -8.0174,1.81545 -3.87347,-2.80918 -0.0676,-7.603844 2.30366,-8.133968 1.67949,-3.8530525 3.16695,-1.1993573 4.96333,1.021124 z m -2.24641,2.175828 c -4.80489,-2.992177 -3.08986,6.380343 0.42374,2.036167 0.33055,-0.677518 0.121,-1.52585 -0.42374,-2.036167 z' />
  <path class='st0' d='m 153.26135,7.538431 c 2.60497,1.5799548 6.03999,5.944272 1.08117,6.050232 -2.53319,-3.231828 -7.20316,-6.4304525 -8.84748,-9.4582682 1.89121,-2.8664883 3.78452,-2.247699 5.38514,0.8929426 0.78017,0.8503859 1.57195,1.6911437 2.38118,2.5150667 z' />
  </pattern>  
  <linearGradient id='groupUnderTitleLine' x1='0%' y1='0%' x2='100%' y2='0%' >
          <stop offset='0%' stop-color='#999999' stop-opacity='0.7'/> 
          <stop offset='100%' stop-color='#999999' stop-opacity='0' /> 
   </linearGradient>
  <radialGradient id='calloutGradient' cx='25%' cy='20%' r='80%' fx='10%' fy='10%'>
	   <stop offset='0%' stop-color='#ffffff' />
    <stop offset='100%' stop-color='#f8f6d1' />
  </radialGradient>
  <filter id='shadow' width='120%' height='120%'> 
      <feOffset result='offOut' in='SourceGraphic' dx='1' dy='1' /> 
      <feColorMatrix result='matrixOut' in='offOut' type='matrix' 
      values='0.1 0 0 0 0 0 0.4 0 0 0 0 0 0.6 0 0 0 0 0 0.3 0' /> 
      <feGaussianBlur result='blurOut' in='matrixOut' stdDeviation='3' /> 
      <feBlend in='SourceGraphic' in2='blurOut' mode='normal' /> 
    </filter> 
  <filter id='fkShadow' height='130%'> 
    <feGaussianBlur in='SourceAlpha' stdDeviation='1.5'/> <!-- stdDeviation is how much to blur -->
    <feOffset dx='1.2' dy='1.2' result='offsetblur'/> <!-- how much to offset -->
    <feMerge>
    <feMergeNode/> <!-- this contains the offset blurred image -->
    <feMergeNode in='SourceGraphic'/> <!-- this contains the element that the filter is applied to -->
    </feMerge>
  </filter>
  <radialGradient id='legendGradient' fx='5%' fy='5%' r='75%' spreadMethod='pad'>
          <stop offset='0%' stop-color='#eefbf2' stop-opacity='1'/> 
          <stop offset='100%' stop-color='#cff9cb' stop-opacity='1' /> 
   </radialGradient>
  <symbol id='calloutArrowDown' overflow='visible' >
      <path d='M 0,0 L 7,11 L 15,0 z' style='fill:#f8f6d1;stroke:none; filter: url(#shadow);' />
      <path d='M 0,0 L 7,11 L 15,0' style='stroke:#bebdbd; stroke-width:0.5;' />
  </symbol>
  <symbol id='calloutArrowUp' overflow='visible' >
      <path d='M 0,15 L 7,3 L 15,15 z' style='fill:#ffffff; stroke:none; filter: url(#shadow);' />
      <path d='M 0,15 L 7,3 L 15,15' style='stroke:#bebdbd; stroke-width:0.5;' />
  </symbol>
  <symbol id='pk' overflow='visible' >
    <g transform='scale(0.99)'>
     <path style='fill:#fffa7d;stroke:#765f03;stroke-width:0.6;stroke-linecap:round;stroke-linejoin:round;'
        d='M 9.3678877,3.5695485 C 9.1030218,3.2729386 9.0796382,2.7628519 9.3396185,2.4517097 9.5449651,2.1956495 9.9040386,2.0980533 10.199638,2.2169415 10.533525,2.3415459 10.775153,2.706942 10.750675,3.0842709 10.737029,3.3980003 10.541153,3.699122 10.258248,3.8066067 9.966649,3.9250429 9.6169668,3.8418805 9.4008073,3.6062324 9.3894892,3.5943518 9.3785264,3.582104 9.3678886,3.5695487 z M 11.226617,6.9916004 C 11.888137,6.3548946 12.293488,5.4172188 12.311087,4.442353 12.378144,2.7379364 11.248678,1.0541269 9.7322318,0.44767357 8.3887112,-0.1280313 6.7865012,0.26822889 5.8918395,1.4007929 5.080823,2.3839145 4.9336815,3.8452096 5.3635544,5.101615 L 4.3670905,5.315913 C 4.0664984,5.3682645 4.0967703,5.6316724 4.2574957,5.8208829 L 4.9124,6.5655244 4.1543436,7.2512357 3.2136002,7.2163506 3.1674775,8.5586827 2.0406832,8.5086512 1.5965306,8.9299953 1.5471661,10.179833 0.75616674,10.195223 0.2112857,10.758575 0.15354288,11.735988 0.07199052,12.765553 c 0.36440953,0.238225 0.79006967,0.195492 1.44938278,-0.02675 L 6.3033562,8.1282037 6.8217102,8.6765688 C 6.9985465,8.8799427 7.3003699,8.7497574 7.358381,8.5016252 L 7.4938877,7.5084164 c 0.8537488,0.3985387 1.8303125,0.4711541 2.6851793,0.1427713 0.393927,-0.1407258 0.746858,-0.3701772 1.04755,-0.6595873 z'/>
     <path d='M 6.8014948,6.3102123 0.15369063,13.024481 0.21560535,12.141962 6.0062342,6.2683782 z'
        style='fill:#ffe5a5;fill-opacity:1;stroke:#854e31;stroke-width:0.06912433;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:3.00300009'/>
    </g>
  </symbol>
  <symbol id='dist' overflow='visible' >
    <g transform='scale(0.99)'>
      <path style='fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;' d='M 0.177,11.431 12.28,11.449'/>
      <path style='fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;' d='m 6.124,3.954 0.066,7.154 v 0'/>
      <rect width='11.78' height='3.40' x='0.40' y='0.44' style='fill:#fffa7d;stroke:#765f03;stroke-width:0.6;' ry='0.83'/>
      <rect width='11.78' height='3.40' x='0.40' y='5.609' style='fill:#fffa7d;stroke:#765f03;stroke-width:0.6;' ry='0.832'/>
    </g>
  </symbol>
  <symbol id='unq' overflow='visible' >
    <g transform='scale(0.99)'>
      <rect style='fill:#fbea8e;stroke:#7e4d31;stroke-width:0.71934468;stroke-linecap:round;stroke-linejoin:round;'
         width='2.29' height='8.43' x='7.48' y='-0.76' ry='1.14' transform='matrix(0.701,0.713,-0.727,0.685,0,0)' />
      <path style='fill:white;stroke:#858585;stroke-width:1.2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;'
         d='m 26.04,8.64 a 4.13,4.13 0 1 1 -8.26,0 4.13,4.13 0 1 1 8.26,0 z'
         transform='matrix(1.025,0,0,0.987,-14.690,-3.862)' />
      <text x='5.8' y='7.4' style='font-size:7px;fill:#8a8a8a;'>1</text>
    </g>
  </symbol>
  <symbol id='idx' overflow='visible' >
    <g transform='scale(0.99)'>
      <rect style='fill:#fbea8e;stroke:#7e4d31;stroke-width:0.71934468;stroke-linecap:round;stroke-linejoin:round;'
         width='2.29' height='8.43' x='7.48' y='-0.76' ry='1.14' transform='matrix(0.701,0.713,-0.727,0.685,0,0)' />
      <path style='fill:white;stroke:#858585;stroke-width:1.2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;'
         d='m 26.04,8.64 a 4.13,4.13 0 1 1 -8.26,0 4.13,4.13 0 1 1 8.26,0 z'
         transform='matrix(1.025,0,0,0.987,-14.690,-3.862)' />
    </g>
  </symbol>
  <symbol id='fk' overflow='visible' >
    <g transform='scale(0.87)'>
      <path style='fill:#f3e1b7;stroke:#7e471f;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
      d='M 12.48,0.33 7.07,0.89 9.067,2.974 0.329,11.731 1.073,12.597 9.811,3.841 11.77,5.78 z' />
    </g>
  </symbol>
  <symbol id='ref' overflow='visible' >
    <g transform='scale(0.87)'>
      <path style='fill:#f3e1b7;stroke:#7e471f;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
          d='M 0.10,12.70 5.31,12.15 3.40,10.06 11.82,1.32 11.11,0.45 2.68,9.19 0.80,7.24 z'/>
    </g>
  </symbol>
  <symbol id='flag0' overflow='visible' >
    <g transform='scale(0.92)'>
      <path style='fill:#b7d0f6;stroke:#000000;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
          d='M 0.12,12.67 0.16,7.22 C 2.59,7.22 4.13,8.78 9.22,4.22 5.68,4.98 2.53,4.50 0.09,1.80 z'/>
    </g>
  </symbol>
  <symbol id='flag1' overflow='visible' >
    <g transform='scale(0.92)'>
      <path style='fill:#f4a393;stroke:#000000;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
          d='M 0.12,12.67 0.16,7.22 C 2.59,7.22 4.13,8.78 9.22,4.22 5.68,4.98 2.53,4.50 0.09,1.80 z'/>
    </g>
  </symbol>
  <symbol id='flag2' overflow='visible' >
    <g transform='scale(0.92)'>
      <path style='fill:#77ec8b;stroke:#000000;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
          d='M 0.12,12.67 0.16,7.22 C 2.59,7.22 4.13,8.78 9.22,4.22 5.68,4.98 2.53,4.50 0.09,1.80 z'/>
    </g>
  </symbol>
  <symbol id='nn' overflow='visible' >
  <path style='stroke:#9b3e50;stroke-width:0.5;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;'
          d='M 0,0 3,3 M 0,3 3,0 z'/>
  </symbol>
  <symbol id='view' overflow='visible' >
    <g transform='scale(0.99)'>
     <line x1='12' y1='6' x2='19' y2='0' stroke='black' stroke-width='0.5' />
     <line x1='0' y1='6' x2='7' y2='0' stroke='black' stroke-width='0.5' />
     <circle cx='3' cy='6' r='3' fill='#f9ebbc' stroke='black' stroke-width='0.5'/>
     <circle cx='10' cy='6' r='3' fill='#f9ebbc' stroke='black' stroke-width='0.5'/>
    </g>
  </symbol>
  <marker id='arrow01' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 7.500,3.750 L 15.000,3.750 L 7.500,0.000 L 15.000,3.750 L 7.500,7.500' />
  </marker>
  <marker id='arrow1' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 7.500,3.750 L 15.000,3.750 L 7.500,0.000 L 15.000,3.750 L 7.500,7.500' />
  </marker>
  <marker id='foot01' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 0.00,3.75 L 15.00,3.75 z' />
    <circle cx='11.25' cy='3.75' r='2.50' style='fill:white;stroke:#5e554d;' />
    <path d='M 3.75,0.00 L 3.75, 7.50 z' />
  </marker>
  <marker id='foot0p' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 0.00,3.75 L 15.00,3.75 z' />
    <circle cx='11.25' cy='3.75' r='2.50' style='fill:white;stroke:#5e554d;' />
    <path d='M 0.00,0.00 L 7.50,3.75 L 0.00,7.50' />
  </marker>
  <marker id='foot1' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 0.00,3.75 L 15.00,3.75 z' />
    <path d='M 7.50,0.00 L 7.50, 7.50 z' />
    <path d='M 3.75,0.00 L 3.75, 7.50 z' />
  </marker>
  <marker id='foot1p' viewBox='0 0 15.00 7.50' refX='7.50' refY='3.75' markerUnits='strokeWidth' markerWidth='15.00' markerHeight='7.50' orient='auto'>
    <path d='M 0.00,3.75 L 15.00,3.75 z' />
    <path d='M 7.50,0.00 L 7.50, 7.50 z' />
    <path d='M 0.00,0.00 L 7.50,3.75 L 0.00,7.50' />
  </marker>
  <linearGradient id='tbg_c1d8ee' x1='0%' y1='0%' x2='0%' y2='100%' >
     <stop offset='0%' stop-color='#e0ecf8' /> 
     <stop offset='100%' stop-color='#c1d8ee' /> 
  </linearGradient>
  <linearGradient id='tbg_bfd4f5' x1='0%' y1='0%' x2='0%' y2='100%' >
     <stop offset='0%' stop-color='#e0e9f8' /> 
     <stop offset='100%' stop-color='#c1d3ee' /> 
  </linearGradient>
</defs>

<!-- == Desktop == -->
<rect x='1' y='1' width='2428' height='1863' rx='7' ry='7' style='fill:url(#layoutBgB); stroke:#777777; stroke-width:0.5;' />
<rect x='1' y='1' width='2428' height='1863' rx='7' ry='7' style='fill:url(#layoutBgA); stroke:#777777; stroke-width:0.5;' />

<!-- == Legend == -->
<g transform='translate(10,10)'>
  <rect x='10' y='10' width='330' height='56' rx='6' ry='6' style='fill:url(#legendGradient);filter:url(#shadow);'/> 
  <text x='20' y='43'>altrump_cloud_db</text> 
  <text x='20' y='57' style='fill:#aaaaaa; font-size:11px;'><tspan>Move the mouse over tables &amp; columns to read the comments.</tspan></text> 
<a xlink:href='https://www.dbschema.com'> <path class='logo' d='m 32.309685,20.963194 c 0.411708,4.732616 -4.298055,7.925636 -8.723583,6.970196 -6.616967,1.8448 -2.656457,-6.434594 -3.911969,-10.01566 -2.15469,-5.89407 6.06247,-3.508505 9.167655,-2.863689 2.199228,1.054873 3.389343,3.582089 3.467897,5.909153 z m -3.720955,0.01451 c 0.434195,-4.414565 -7.644142,-5.37533 -5.137307,0.107342 -1.812268,5.992146 5.532698,4.379388 5.137307,-0.107342 z' /> <path class='logo' d='m 44.329732,23.050637 c 0.850982,5.097305 -5.250434,4.558924 -7.144836,4.752415 -6.418993,1.64391 -1.872992,-7.49274 -3.541914,-10.942842 -2.499646,-3.817859 5.939283,-4.402698 3.538545,-0.13612 -1.287874,4.989123 4.215411,-1.154796 5.956717,2.809584 0.840273,0.970849 1.168829,2.272413 1.191488,3.516963 z m -3.519477,-0.09299 c -1.398216,-5.518069 -6.361061,2.717467 -0.984368,1.810718 0.686994,-0.30388 1.029454,-1.087638 0.984368,-1.810718 z' /> <path class='logo' d='m 52.234961,23.301163 c 0.954818,5.035675 -8.606408,6.284861 -6.262292,1.674914 6.000358,-1.604717 -5.188764,-7.870044 1.75972,-10.384908 2.288682,-3.253567 6.399287,3.075831 2.304111,2.48058 -2.124941,2.016587 2.688777,3.89858 2.198472,6.229403 z' /> <path class='logo' d='m 60.204336,21.349224 c -4.894917,-1.916474 -3.458707,5.391212 0.347494,3.37231 2.120589,6.821713 -10.599623,1.664746 -6.906229,-3.691132 0.354172,-3.663246 9.875349,-4.711252 6.558735,0.318822 z' /> <path class='logo' d='m 71.730617,20.654299 c 0.0013,2.316285 0.190131,4.655698 0.07825,6.958009 -6.532419,3.303565 -0.660423,-8.722256 -6.009639,-5.821653 -0.818815,2.024533 1.726403,6.746337 -1.95327,6.005484 -3.458346,-1.137537 -0.696275,-7.713407 -1.833252,-10.994208 -2.308916,-3.710131 5.93704,-4.164951 3.518609,0.0063 -1.462376,6.166445 5.169629,-2.857523 6.19931,3.846079 z' /> <path class='logo' d='m 82.245738,22.378957 c -0.24581,2.448954 -9.386766,0.8867 -3.885979,2.877055 3.312576,-2.99157 5.250902,3.334514 0.482647,2.665545 -7.415384,1.492275 -7.823196,-11.597641 -0.275476,-10.032117 2.068161,0.391458 3.682204,2.408824 3.678808,4.489517 z m -3.414436,-0.578473 c -1.124703,-4.072004 -5.087405,2.125488 -0.316922,0.156453 z' /> <path class='logo' d='m 98.936899,27.222794 c -4.73541,2.718339 -3.1239,-3.406557 -3.92611,-6.050494 -4.66985,-1.438471 0.21621,6.932413 -3.41219,6.438039 -4.46096,1.160054 -0.22824,-5.774711 -3.31526,-6.700429 -3.410722,1.082173 1.04451,9.536575 -4.745091,6.372895 0.746632,-3.355214 -2.776394,-10.269232 3.034971,-9.038963 -0.058,2.544602 5.00686,-2.785359 6.00342,1.37844 3.42021,-4.316316 7.851251,0.524966 6.24018,4.690538 0.0379,0.969988 0.0954,1.940046 0.12008,2.909974 z' /> <path class='logo' d='m 110.47859,22.686058 c 0.91826,2.682088 0.13016,6.890551 -3.0725,4.397004 -1.63641,1.077877 -7.664291,0.541832 -7.09365,-4.114836 -0.907891,-4.692933 5.14729,-5.625578 7.24058,-4.40354 3.85932,-1.686263 3.13176,1.271515 2.92557,4.121372 z m -3.12695,0.0704 c -1.46278,-5.460062 -6.61615,2.5826 -1.08221,1.782003 0.70431,-0.272594 1.13111,-1.037444 1.08221,-1.782003 z' /> </a>
</g>

<g transform='translate(0,110)'>
<!-- == Group 'User' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='299' y='235' width='632' height='410' />
<text x='310' y='250'>User</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='310' y='253' width='610' height='2' />

<!-- == Group 'Operator' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='1004' y='190' width='617' height='500' />
<text x='1015' y='205'>Operator</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='1015' y='208' width='595' height='2' />

<!-- == Group 'Device' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='1304' y='190' width='332' height='380' />
<text x='1315' y='205'>Device</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='1315' y='208' width='310' height='2' />

<!-- == Group 'Commodity_SaleActivity' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='1739' y='190' width='662' height='530' />
<text x='1750' y='205'>Commodity_SaleActivity</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='1750' y='208' width='640' height='2' />

<!-- == Group 'Order' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='1289' y='745' width='347' height='170' />
<text x='1300' y='760'>Order</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='1300' y='763' width='325' height='2' />

<!-- == Group 'Push_message(廢棄)' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='104' y='1390' width='437' height='305' />
<text x='115' y='1405'>Push_message(廢棄)</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='115' y='1408' width='415' height='2' />

<!-- == Group 'Group Mqtt Message' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='29' y='685' width='962' height='680' />
<text x='40' y='700'>Group Mqtt Message</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='40' y='703' width='940' height='2' />

<!-- == Group 'Firmware' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='839' y='1465' width='257' height='200' />
<text x='850' y='1480'>Firmware</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='850' y='1483' width='235' height='2' />

<!-- == Group 'Push Noti' == -->
<rect class='grp' style='fill:#c4e0f9;stroke:#ced8e0' x='1319' y='1405' width='272' height='260' />
<text x='1330' y='1420'>Push Noti</text>
<rect style='fill:url(#groupUnderTitleLine); stroke-width:2;' x='1330' y='1423' width='250' height='2' />

<!-- == Fk 'user_other_profile_fk_user_operator.id--operator.id' == -->
<path id='user_other_profile_fk_user_operator.id--operator.id'  onmouseover="hghl(['user_other_profile_fk_user_operator.id--operator.id','altdrump.user_other_profile.operator_id','altdrump.operator.id'])" onmouseout="uhghl(['user_other_profile_fk_user_operator.id--operator.id','altdrump.user_other_profile.operator_id','altdrump.operator.id'])" transform='translate(7,0)' class='scene' d='M 1125 285 L 1185,285' >
	<title>Fk fk_user_operator.id--operator.id
user_other_profile ref operator ( operator_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1125 285 L 1185,285' ></path>
<text x='1132' y='280' transform='rotate(0 1132,280)' title='Fk fk_user_operator.id--operator.id
user_other_profile ref operator ( operator_id -&gt; id )' class='relName' style='fill:#748ea7'>operator_id</text>
<!-- == Fk 'operator_fk_operator_city' == -->
<path id='operator_fk_operator_city'  onmouseover="hghl(['operator_fk_operator_city','altdrump.operator.city_id','altdrump.city.id'])" onmouseout="uhghl(['operator_fk_operator_city','altdrump.operator.city_id','altdrump.city.id'])" transform='translate(7,0)' class='scene' d='M 1320 495 L 1320,502 Q 1320,510 1327,510 L 1380,510' >
	<title>Fk fk_operator_city
operator ref city ( city_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1320 495 L 1320,502 Q 1320,510 1327,510 L 1380,510' ></path>
<text x='1333' y='495' transform='rotate(90 1333,495)' title='Fk fk_operator_city
operator ref city ( city_id -&gt; id )' class='relName' style='fill:#748ea7'>city_id</text>
<!-- == Fk 'operator_fk_operator_area' == -->
<path id='operator_fk_operator_area'  onmouseover="hghl(['operator_fk_operator_area','altdrump.operator.area_id','altdrump.area.id'])" onmouseout="uhghl(['operator_fk_operator_area','altdrump.operator.area_id','altdrump.area.id'])" transform='translate(7,0)' class='scene' d='M 1215 495 L 1215,555' >
	<title>Fk fk_operator_area
operator ref area ( area_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1215 495 L 1215,555' ></path>
<text x='1228' y='495' transform='rotate(90 1228,495)' title='Fk fk_operator_area
operator ref area ( area_id -&gt; id )' class='relName' style='fill:#748ea7'>area_id</text>
<!-- == Fk 'operator_fk_operator_operator_type' == -->
<path id='operator_fk_operator_operator_type'  onmouseover="hghl(['operator_fk_operator_operator_type','altdrump.operator.category_id','altdrump.operator_category.id'])" onmouseout="uhghl(['operator_fk_operator_operator_type','altdrump.operator.category_id','altdrump.operator_category.id'])" transform='translate(7,0)' class='scene' d='M 1305 210 L 1305,187 Q 1305,180 1312,180 L 1537,180 Q 1545,180 1545,187 L 1545,210' >
	<title>Fk fk_operator_operator_type
operator ref operator_category ( category_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1305 210 L 1305,187 Q 1305,180 1312,180 L 1537,180 Q 1545,180 1545,187 L 1545,210' ></path>
<text x='1307' y='205' transform='rotate(270 1307,205)' title='Fk fk_operator_operator_type
operator ref operator_category ( category_id -&gt; id )' class='relName' style='fill:#748ea7'>category_id</text>
<!-- == Fk 'area_fk_area_country' == -->
<path id='area_fk_area_country'  onmouseover="hghl(['area_fk_area_country','altdrump.area.city_id','altdrump.city.id'])" onmouseout="uhghl(['area_fk_area_country','altdrump.area.city_id','altdrump.city.id'])" transform='translate(7,0)' class='scene' d='M 1275 585 L 1380,585' >
	<title>Fk fk_area_country
area ref city ( city_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot0p)' marker-end='url(#arrow1)'    d='M 1275 585 L 1380,585' ></path>
<text x='1282' y='580' transform='rotate(0 1282,580)' title='Fk fk_area_country
area ref city ( city_id -&gt; id )' class='relName' style='fill:#748ea7'>city_id</text>
<!-- == Fk 'parent_operator_fk_parent_operator_operator' == -->
<path id='parent_operator_fk_parent_operator_operator'  onmouseover="hghl(['parent_operator_fk_parent_operator_operator','altdrump.parent_operator.operator_id','altdrump.operator.id'])" onmouseout="uhghl(['parent_operator_fk_parent_operator_operator','altdrump.parent_operator.operator_id','altdrump.operator.id'])" transform='translate(7,0)' class='scene' d='M 1470 405 L 1470,472 Q 1470,480 1462,480 L 1335,480' >
	<title>Fk fk_parent_operator_operator
parent_operator ref operator ( operator_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1470 405 L 1470,472 Q 1470,480 1462,480 L 1335,480' ></path>
<text x='1483' y='405' transform='rotate(90 1483,405)' title='Fk fk_parent_operator_operator
parent_operator ref operator ( operator_id -&gt; id )' class='relName' style='fill:#748ea7'>operator_id</text>
<!-- == Fk 'device_state_fk_device_state_device' == -->
<path id='device_state_fk_device_state_device'  onmouseover="hghl(['device_state_fk_device_state_device','altdrump.device_state.device_id','altdrump.device.id'])" onmouseout="uhghl(['device_state_fk_device_state_device','altdrump.device_state.device_id','altdrump.device.id'])" transform='translate(7,0)' class='scene' d='M 1500 420 L 1455,420' >
	<title>Fk fk_device_state_device
device_state ref device ( device_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1500 420 L 1455,420' ></path>
<text x='1461' y='415' transform='rotate(0 1461,415)' title='Fk fk_device_state_device
device_state ref device ( device_id -&gt; id )' class='relName' style='fill:#748ea7'>device_id</text>
<!-- == Fk 'order_fk_order_device_state' == -->
<path id='order_fk_order_device_state'  onmouseover="hghl(['order_fk_order_device_state','altdrump.order.device_state_id','altdrump.device_state.id'])" onmouseout="uhghl(['order_fk_order_device_state','altdrump.order.device_state_id','altdrump.device_state.id'])" transform='translate(7,0)' class='scene' d='M 1410 765 L 1410,637 Q 1410,630 1417,630 L 1522,630 Q 1530,630 1530,622 L 1530,555' >
	<title>Fk fk_order_device_state
order ref device_state ( device_state_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1410 765 L 1410,637 Q 1410,630 1417,630 L 1522,630 Q 1530,630 1530,622 L 1530,555' ></path>
<text x='1412' y='760' transform='rotate(270 1412,760)' title='Fk fk_order_device_state
order ref device_state ( device_state_id -&gt; id )' class='relName' style='fill:#748ea7'>device_state_id</text>
<!-- == Fk 'order_fk_order_commodity' == -->
<path id='order_fk_order_commodity'  onmouseover="hghl(['order_fk_order_commodity','altdrump.order.commodity_id','altdrump.commodity.id'])" onmouseout="uhghl(['order_fk_order_commodity','altdrump.order.commodity_id','altdrump.commodity.id'])" transform='translate(7,0)' class='scene' d='M 1425 885 L 1972,885 Q 1980,885 1980,877 L 1980,412 Q 1980,405 1987,405 L 1995,405' >
	<title>Fk fk_order_commodity
order ref commodity ( commodity_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1425 885 L 1972,885 Q 1980,885 1980,877 L 1980,412 Q 1980,405 1987,405 L 1995,405' ></path>
<text x='1432' y='880' transform='rotate(0 1432,880)' title='Fk fk_order_commodity
order ref commodity ( commodity_id -&gt; id )' class='relName' style='fill:#748ea7'>commodity_id</text>
<!-- == Fk 'order_sale_activity_fk_order_sale_activity_order' == -->
<path id='order_sale_activity_fk_order_sale_activity_order'  onmouseover="hghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order_sale_activity.order_id','altdrump.order.id'])" onmouseout="uhghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order_sale_activity.order_id','altdrump.order.id'])" transform='translate(7,0)' class='scene' d='M 1485 795 L 1425,795' >
	<title>Fk fk_order_sale_activity_order
order_sale_activity ref order ( order_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1485 795 L 1425,795' ></path>
<text x='1451' y='790' transform='rotate(0 1451,790)' title='Fk fk_order_sale_activity_order
order_sale_activity ref order ( order_id -&gt; id )' class='relName' style='fill:#748ea7'>order_id</text>
<!-- == Fk 'order_sale_activity_fk_order_sale_activity' == -->
<path id='order_sale_activity_fk_order_sale_activity'  onmouseover="hghl(['order_sale_activity_fk_order_sale_activity','altdrump.order_sale_activity.sale_activity_id','altdrump.sale_activity.id'])" onmouseout="uhghl(['order_sale_activity_fk_order_sale_activity','altdrump.order_sale_activity.sale_activity_id','altdrump.sale_activity.id'])" transform='translate(7,0)' class='scene' d='M 1605 765 L 1605,682 Q 1605,675 1612,675 L 1995,675' >
	<title>Fk fk_order_sale_activity
order_sale_activity ref sale_activity ( sale_activity_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1605 765 L 1605,682 Q 1605,675 1612,675 L 1995,675' ></path>
<text x='1607' y='760' transform='rotate(270 1607,760)' title='Fk fk_order_sale_activity
order_sale_activity ref sale_activity ( sale_activity_id -&gt; id )' class='relName' style='fill:#748ea7'>sale_activity_id</text>
<!-- == Fk 'device_channel_activity_fk_device_channel_activity' == -->
<path id='device_channel_activity_fk_device_channel_activity'  onmouseover="hghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_activity.d_c_c_id','altdrump.device_channel_commodity.id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_activity.d_c_c_id','altdrump.device_channel_commodity.id'])" transform='translate(7,0)' class='scene' d='M 1770 465 L 1770,375' >
	<title>Fk fk_device_channel_activity
device_channel_activity ref device_channel_commodity ( d_c_c_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1770 465 L 1770,375' ></path>
<text x='1772' y='460' transform='rotate(270 1772,460)' title='Fk fk_device_channel_activity
device_channel_activity ref device_channel_commodity ( d_c_c_id -&gt; id )' class='relName' style='fill:#748ea7'>d_c_c_id</text>
<!-- == Fk 'device_channel_activity_fk_device_channel_activity2' == -->
<path id='device_channel_activity_fk_device_channel_activity2'  onmouseover="hghl(['device_channel_activity_fk_device_channel_activity2','altdrump.device_channel_activity.sale_activity_id','altdrump.sale_activity.id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity2','altdrump.device_channel_activity.sale_activity_id','altdrump.sale_activity.id'])" transform='translate(7,0)' class='scene' d='M 1890 495 L 1995,495' >
	<title>Fk fk_device_channel_activity2
device_channel_activity ref sale_activity ( sale_activity_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1890 495 L 1995,495' ></path>
<text x='1897' y='490' transform='rotate(0 1897,490)' title='Fk fk_device_channel_activity2
device_channel_activity ref sale_activity ( sale_activity_id -&gt; id )' class='relName' style='fill:#748ea7'>sale_activity_id</text>
<!-- == Fk 'device_channel_commodity_fk_device_channel_commodity' == -->
<path id='device_channel_commodity_fk_device_channel_commodity'  onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_channel_commodity.device_state_id','altdrump.device_state.id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_channel_commodity.device_state_id','altdrump.device_state.id'])" transform='translate(7,0)' class='scene' d='M 1740 345 L 1642,345 Q 1635,345 1635,352 L 1635,412 Q 1635,420 1627,420 L 1605,420' >
	<title>Fk fk_device_channel_commodity
device_channel_commodity ref device_state ( device_state_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1740 345 L 1642,345 Q 1635,345 1635,352 L 1635,412 Q 1635,420 1627,420 L 1605,420' ></path>
<text x='1671' y='340' transform='rotate(0 1671,340)' title='Fk fk_device_channel_commodity
device_channel_commodity ref device_state ( device_state_id -&gt; id )' class='relName' style='fill:#748ea7'>device_state_id</text>
<!-- == Fk 'device_channel_commodity_fk_device_channel_commodity2' == -->
<path id='device_channel_commodity_fk_device_channel_commodity2'  onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.device_channel_commodity.commodity_id','altdrump.commodity.id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.device_channel_commodity.commodity_id','altdrump.commodity.id'])" transform='translate(7,0)' class='scene' d='M 1905 240 L 1995,240' >
	<title>Fk fk_device_channel_commodity2
device_channel_commodity ref commodity ( commodity_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1905 240 L 1995,240' ></path>
<text x='1912' y='235' transform='rotate(0 1912,235)' title='Fk fk_device_channel_commodity2
device_channel_commodity ref commodity ( commodity_id -&gt; id )' class='relName' style='fill:#748ea7'>commodity_id</text>
<!-- == Fk 'commodity_fk_commodity' == -->
<path id='commodity_fk_commodity'  onmouseover="hghl(['commodity_fk_commodity','altdrump.commodity.category_id','altdrump.commodity_category.id'])" onmouseout="uhghl(['commodity_fk_commodity','altdrump.commodity.category_id','altdrump.commodity_category.id'])" transform='translate(7,0)' class='scene' d='M 2145 240 L 2235,240' >
	<title>Fk fk_commodity
commodity ref commodity_category ( category_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot0p)' marker-end='url(#arrow1)'    d='M 2145 240 L 2235,240' ></path>
<text x='2152' y='235' transform='rotate(0 2152,235)' title='Fk fk_commodity
commodity ref commodity_category ( category_id -&gt; id )' class='relName' style='fill:#748ea7'>category_id</text>
<!-- == Fk 'device_fk_device_operator' == -->
<path id='device_fk_device_operator'  onmouseover="hghl(['device_fk_device_operator','altdrump.device.operator_id','altdrump.operator.id'])" onmouseout="uhghl(['device_fk_device_operator','altdrump.device.operator_id','altdrump.operator.id'])" transform='translate(7,0)' class='scene' d='M 1335 210 L 1335,202 Q 1335,195 1327,195 L 1327,195 Q 1320,195 1320,202 L 1320,210' >
	<title>Fk fk_device_operator
device ref operator ( operator_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1335 210 L 1335,202 Q 1335,195 1327,195 L 1327,195 Q 1320,195 1320,202 L 1320,210' ></path>
<text x='1337' y='205' transform='rotate(270 1337,205)' title='Fk fk_device_operator
device ref operator ( operator_id -&gt; id )' class='relName' style='fill:#748ea7'>operator_id</text>
<!-- == Fk 'device_action_fk_device_action_device' == -->
<path id='device_action_fk_device_action_device'  onmouseover="hghl(['device_action_fk_device_action_device','altdrump.device_action.device_id','altdrump.device.id'])" onmouseout="uhghl(['device_action_fk_device_action_device','altdrump.device_action.device_id','altdrump.device.id'])" transform='translate(7,0)' class='scene' d='M 1530 210 L 1530,202 Q 1530,195 1522,195 L 1447,195 Q 1440,195 1440,202 L 1440,210' >
	<title>Fk fk_device_action_device
device_action ref device ( device_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 1530 210 L 1530,202 Q 1530,195 1522,195 L 1447,195 Q 1440,195 1440,202 L 1440,210' ></path>
<text x='1532' y='205' transform='rotate(270 1532,205)' title='Fk fk_device_action_device
device_action ref device ( device_id -&gt; id )' class='relName' style='fill:#748ea7'>device_id</text>
<!-- == Fk 'push_log_fk_push_log_push_message' == -->
<path id='push_log_fk_push_log_push_message'  onmouseover="hghl(['push_log_fk_push_log_push_message','altdrump.push_log.p_m_id','altdrump.push_message.id'])" onmouseout="uhghl(['push_log_fk_push_log_push_message','altdrump.push_log.p_m_id','altdrump.push_message.id'])" transform='translate(7,0)' class='scene' d='M 450 1560 L 450,1567 Q 450,1575 442,1575 L 375,1575' >
	<title>Fk fk_push_log_push_message
push_log ref push_message ( p_m_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot0p)' marker-end='url(#arrow1)'    d='M 450 1560 L 450,1567 Q 450,1575 442,1575 L 375,1575' ></path>
<text x='463' y='1560' transform='rotate(90 463,1560)' title='Fk fk_push_log_push_message
push_log ref push_message ( p_m_id -&gt; id )' class='relName' style='fill:#748ea7'>p_m_id</text>
<!-- == Fk 'push_log_fk_push_log_push_device' == -->
<path id='push_log_fk_push_log_push_device'  onmouseover="hghl(['push_log_fk_push_log_push_device','altdrump.push_log.p_d_id','altdrump.push_device.uuid'])" onmouseout="uhghl(['push_log_fk_push_log_push_device','altdrump.push_log.p_d_id','altdrump.push_device.uuid'])" transform='translate(7,0)' class='scene' d='M 420 1425 L 382,1425 Q 375,1425 375,1417 L 375,1402 Q 375,1395 367,1395 L 232,1395 Q 225,1395 225,1402 L 225,1410' >
	<title>Fk fk_push_log_push_device
push_log ref push_device ( p_d_id -&gt; uuid )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot0p)' marker-end='url(#arrow1)'    d='M 420 1425 L 382,1425 Q 375,1425 375,1417 L 375,1402 Q 375,1395 367,1395 L 232,1395 Q 225,1395 225,1402 L 225,1410' ></path>
<text x='394' y='1420' transform='rotate(0 394,1420)' title='Fk fk_push_log_push_device
push_log ref push_device ( p_d_id -&gt; uuid )' class='relName' style='fill:#748ea7'>p_d_id</text>
<!-- == Fk 'push_queue_fk_push_queue_push_device' == -->
<path id='push_queue_fk_push_queue_push_device'  onmouseover="hghl(['push_queue_fk_push_queue_push_device','altdrump.push_queue.p_d_id','altdrump.push_device.uuid'])" onmouseout="uhghl(['push_queue_fk_push_queue_push_device','altdrump.push_queue.p_d_id','altdrump.push_device.uuid'])" transform='translate(7,0)' class='scene' d='M 270 1440 L 240,1440' >
	<title>Fk fk_push_queue_push_device
push_queue ref push_device ( p_d_id -&gt; uuid )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot1p)' marker-end='url(#arrow1)'    d='M 270 1440 L 240,1440' ></path>
<text x='244' y='1435' transform='rotate(0 244,1435)' title='Fk fk_push_queue_push_device
push_queue ref push_device ( p_d_id -&gt; uuid )' class='relName' style='fill:#748ea7'>p_d_id</text>
<!-- == Fk 'push_queue_fk_push_queue_push_message' == -->
<path id='push_queue_fk_push_queue_push_message'  onmouseover="hghl(['push_queue_fk_push_queue_push_message','altdrump.push_queue.p_m_id','altdrump.push_message.id'])" onmouseout="uhghl(['push_queue_fk_push_queue_push_message','altdrump.push_queue.p_m_id','altdrump.push_message.id'])" transform='translate(7,0)' class='scene' d='M 300 1530 L 300,1545' >
	<title>Fk fk_push_queue_push_message
push_queue ref push_message ( p_m_id -&gt; id )</title>
</path>
<path transform='translate(7,0)' marker-start='url(#foot0p)' marker-end='url(#arrow1)'    d='M 300 1530 L 300,1545' ></path>
<text x='313' y='1530' transform='rotate(90 313,1530)' title='Fk fk_push_queue_push_message
push_queue ref push_message ( p_m_id -&gt; id )' class='relName' style='fill:#748ea7'>p_m_id</text>
<!-- == Table 'user_other_profile' == -->
<rect class='entity' x='1020' y='263' width='105' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 1020 289 L 1020 270 Q 1020 263 1027 263 L 1118 263 Q 1125 263 1125 270 L 1125 289 L1020 289 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1020' y='263' width='105' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1020' y1='289' x2='1125' y2='289' style='stroke:#aeb7bf'/>
<line class='delim' x1='1035' y1='289' x2='1035' y2='353' style='stroke:#aeb7bf'/>
<line class='delim' x1='1114' y1='289' x2='1114' y2='353' style='stroke:#aeb7bf'/>
<a xlink:href='#user_other_profile'><text x='1024' y='281'>user_other_profile</text><title>Table altdrump.user_other_profile
使用者與營運商關聯表
&lt;br&gt;一個使用者對應一個營運商身份</title></a>
  <use id='nn' x='1022' y='297' xlink:href='#nn'/><a xlink:href='#user_other_profile.id'><use id='pk' x='1022' y='296' xlink:href='#pk'/><title>Pk pk_user_operator_id ( id ) </title></a>
<a xlink:href='#user_other_profile.id'><text id='altdrump.user_other_profile.id' x='1038' y='306'>id</text><title>id
* integer</title></a>
<text x='1122' y='303' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1022' y='312' xlink:href='#nn'/><a xlink:href='#user_other_profile.user_id'><use id='idx' x='1022' y='311' xlink:href='#idx'/><title>idx_user_operator_user_id ( user_id ) </title></a>
<a xlink:href='#user_other_profile.user_id'><text id='altdrump.user_other_profile.user_id' x='1038' y='321'>user_id</text><title>user_id
* integer</title></a>
<text x='1122' y='318' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1022' y='327' xlink:href='#nn'/><a xlink:href='#user_other_profile.operator_id'><use id='idx' x='1022' y='326' xlink:href='#idx'/><title>idx_user_operator_operator_id ( operator_id ) </title></a>
<a xlink:href='#user_other_profile.operator_id'><text id='altdrump.user_other_profile.operator_id' x='1038' y='336' onmouseover="hghl(['user_other_profile_fk_user_operator.id--operator.id','altdrump.operator.id'])" onmouseout="uhghl(['user_other_profile_fk_user_operator.id--operator.id','altdrump.operator.id'])">operator_id</text><title>operator_id
* integer</title></a>
<a xlink:href='#user_other_profile.operator_id'><use id='fk' x='1114' y='326' xlink:href='#fk'/><title>References operator ( operator_id -&gt; id ) </title></a>

<!-- == Table 'operator' == -->
<rect class='entity' x='1200' y='218' width='135' height='270' rx='7' ry='7' style='stroke:none'/>
<path d='M 1200 244 L 1200 225 Q 1200 218 1207 218 L 1328 218 Q 1335 218 1335 225 L 1335 244 L1200 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1200' y='218' width='135' height='270' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1200' y1='244' x2='1335' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='1215' y1='244' x2='1215' y2='488' style='stroke:#aeb7bf'/>
<line class='delim' x1='1324' y1='244' x2='1324' y2='488' style='stroke:#aeb7bf'/>
<a xlink:href='#operator'><text x='1243' y='236'>operator</text><title>Table altdrump.operator
營運商
&lt;br&gt;一位營運商只能屬於一個使用者</title></a>
  <use id='nn' x='1202' y='252' xlink:href='#nn'/><a xlink:href='#operator.id'><use id='pk' x='1202' y='251' xlink:href='#pk'/><title>Pk pk_operator_id ( id ) </title></a>
<a xlink:href='#operator.id'><text id='altdrump.operator.id' x='1218' y='261' onmouseover="hghl(['device_fk_device_operator','altdrump.device.operator_id','parent_operator_fk_parent_operator_operator','altdrump.parent_operator.operator_id','user_other_profile_fk_user_operator.id--operator.id','altdrump.user_other_profile.operator_id'])" onmouseout="uhghl(['device_fk_device_operator','altdrump.device.operator_id','parent_operator_fk_parent_operator_operator','altdrump.parent_operator.operator_id','user_other_profile_fk_user_operator.id--operator.id','altdrump.user_other_profile.operator_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#operator.id'><use id='ref' x='1324' y='251' xlink:href='#ref'/><title>Referred by device ( operator_id -&gt; id ) 
Referred by parent_operator ( operator_id -&gt; id ) 
Referred by user_other_profile ( operator_id -&gt; id ) </title></a>
  <use id='nn' x='1202' y='267' xlink:href='#nn'/><a xlink:href='#operator.category_id'><use id='idx' x='1202' y='266' xlink:href='#idx'/><title>idx_operator_type_id ( category_id ) </title></a>
<a xlink:href='#operator.category_id'><text id='altdrump.operator.category_id' x='1218' y='276' onmouseover="hghl(['operator_fk_operator_operator_type','altdrump.operator_category.id'])" onmouseout="uhghl(['operator_fk_operator_operator_type','altdrump.operator_category.id'])">category_id</text><title>category_id
* integer</title></a>
<a xlink:href='#operator.category_id'><use id='fk' x='1324' y='266' xlink:href='#fk'/><title>References operator_category ( category_id -&gt; id ) </title></a>
  <use id='nn' x='1202' y='282' xlink:href='#nn'/><a xlink:href='#operator.serial_number'><text id='altdrump.operator.serial_number' x='1218' y='291'>serial_number</text><title>serial_number
* varchar(16)
运营商编号</title></a>
<text x='1332' y='288' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1202' y='297' xlink:href='#nn'/><a xlink:href='#operator.name'><text id='altdrump.operator.name' x='1218' y='306'>name</text><title>name
* varchar(100)
运营商名称</title></a>
<text x='1332' y='303' text-anchor='end' class='colType'>t</text>  <a xlink:href='#operator.email'><text id='altdrump.operator.email' x='1218' y='321'>email</text><title>email
varchar(100)
營運商信箱</title></a>
<text x='1332' y='318' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1202' y='327' xlink:href='#nn'/><a xlink:href='#operator.country_id'><use id='idx' x='1202' y='326' xlink:href='#idx'/><title>idx_operator_country_id ( country_id ) </title></a>
<a xlink:href='#operator.country_id'><text id='altdrump.operator.country_id' x='1218' y='336' onmouseover="hghl(['operator_fk_operator_country','altdrump.country.id'])" onmouseout="uhghl(['operator_fk_operator_country','altdrump.country.id'])">country_id</text><title>country_id
* integer
國家id</title></a>
<a xlink:href='#operator.country_id'><use id='fk' x='1324' y='326' xlink:href='#fk'/><title>References country ( country_id -&gt; id ) </title></a>
  <use id='nn' x='1202' y='342' xlink:href='#nn'/><a xlink:href='#operator.city_id'><use id='idx' x='1202' y='341' xlink:href='#idx'/><title>idx_operator_city_id ( city_id ) </title></a>
<a xlink:href='#operator.city_id'><text id='altdrump.operator.city_id' x='1218' y='351' onmouseover="hghl(['operator_fk_operator_city','altdrump.city.id'])" onmouseout="uhghl(['operator_fk_operator_city','altdrump.city.id'])">city_id</text><title>city_id
* integer
縣市id</title></a>
<a xlink:href='#operator.city_id'><use id='fk' x='1324' y='341' xlink:href='#fk'/><title>References city ( city_id -&gt; id ) </title></a>
  <use id='nn' x='1202' y='357' xlink:href='#nn'/><a xlink:href='#operator.area_id'><use id='idx' x='1202' y='356' xlink:href='#idx'/><title>idx_operator_area_id ( area_id ) </title></a>
<a xlink:href='#operator.area_id'><text id='altdrump.operator.area_id' x='1218' y='366' onmouseover="hghl(['operator_fk_operator_area','altdrump.area.id'])" onmouseout="uhghl(['operator_fk_operator_area','altdrump.area.id'])">area_id</text><title>area_id
* integer
鄉鎮id</title></a>
<a xlink:href='#operator.area_id'><use id='fk' x='1324' y='356' xlink:href='#fk'/><title>References area ( area_id -&gt; id ) </title></a>
  <a xlink:href='#operator.address1'><text id='altdrump.operator.address1' x='1218' y='381'>address1</text><title>address1
varchar(255)
地址1</title></a>
<text x='1332' y='378' text-anchor='end' class='colType'>t</text>  <a xlink:href='#operator.address2'><text id='altdrump.operator.address2' x='1218' y='396'>address2</text><title>address2
varchar(255)
地址2</title></a>
<text x='1332' y='393' text-anchor='end' class='colType'>t</text>  <a xlink:href='#operator.profile'><text id='altdrump.operator.profile' x='1218' y='411'>profile</text><title>profile
json
其他營運商資訊</title></a>
  <use id='nn' x='1202' y='417' xlink:href='#nn'/><a xlink:href='#operator.created_at'><text id='altdrump.operator.created_at' x='1218' y='426'>created_at</text><title>created_at
* timestamptz
建立日期</title></a>
<text x='1332' y='423' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1202' y='432' xlink:href='#nn'/><a xlink:href='#operator.updated_at'><text id='altdrump.operator.updated_at' x='1218' y='441'>updated_at</text><title>updated_at
* timestamptz
更新日期</title></a>
<text x='1332' y='438' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1202' y='447' xlink:href='#nn'/><a xlink:href='#operator.created_by_user_id'><text id='altdrump.operator.created_by_user_id' x='1218' y='456'>created_by_user_id</text><title>created_by_user_id
* integer
由user_id建立</title></a>
<text x='1332' y='453' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1202' y='462' xlink:href='#nn'/><a xlink:href='#operator.updated_by_user_id'><text id='altdrump.operator.updated_by_user_id' x='1218' y='471'>updated_by_user_id</text><title>updated_by_user_id
* timestamptz
最後由user_id更新</title></a>
<text x='1332' y='468' text-anchor='end' class='colType'>d</text>
<!-- == Table 'area' == -->
<rect class='entity' x='1200' y='563' width='75' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 1200 589 L 1200 570 Q 1200 563 1207 563 L 1268 563 Q 1275 563 1275 570 L 1275 589 L1200 589 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1200' y='563' width='75' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1200' y1='589' x2='1275' y2='589' style='stroke:#aeb7bf'/>
<line class='delim' x1='1215' y1='589' x2='1215' y2='668' style='stroke:#aeb7bf'/>
<line class='delim' x1='1264' y1='589' x2='1264' y2='668' style='stroke:#aeb7bf'/>
<a xlink:href='#area'><text x='1223' y='581'>area</text><title>Table altdrump.area
鄉鎮</title></a>
  <use id='nn' x='1202' y='597' xlink:href='#nn'/><a xlink:href='#area.id'><use id='pk' x='1202' y='596' xlink:href='#pk'/><title>Pk pk_area_id ( id ) </title></a>
<a xlink:href='#area.id'><text id='altdrump.area.id' x='1218' y='606' onmouseover="hghl(['operator_fk_operator_area','altdrump.operator.area_id'])" onmouseout="uhghl(['operator_fk_operator_area','altdrump.operator.area_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#area.id'><use id='ref' x='1264' y='596' xlink:href='#ref'/><title>Referred by operator ( area_id -&gt; id ) </title></a>
  <a xlink:href='#area.city_id'><use id='idx' x='1202' y='611' xlink:href='#idx'/><title>idx_area_country_id ( city_id ) </title></a>
<a xlink:href='#area.city_id'><text id='altdrump.area.city_id' x='1218' y='621' onmouseover="hghl(['area_fk_area_country','altdrump.city.id'])" onmouseout="uhghl(['area_fk_area_country','altdrump.city.id'])">city_id</text><title>city_id
integer</title></a>
<a xlink:href='#area.city_id'><use id='fk' x='1264' y='611' xlink:href='#fk'/><title>References city ( city_id -&gt; id ) </title></a>
  <use id='nn' x='1202' y='627' xlink:href='#nn'/><a xlink:href='#area.name'><text id='altdrump.area.name' x='1218' y='636'>name</text><title>name
* varchar(50)
鄉鎮名稱</title></a>
<text x='1272' y='633' text-anchor='end' class='colType'>t</text>  <a xlink:href='#area.code'><text id='altdrump.area.code' x='1218' y='651'>code</text><title>code
varchar(16)
鄉鎮代碼</title></a>
<text x='1272' y='648' text-anchor='end' class='colType'>t</text>
<!-- == Table 'city' == -->
<rect class='entity' x='1395' y='503' width='90' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 1395 529 L 1395 510 Q 1395 503 1402 503 L 1478 503 Q 1485 503 1485 510 L 1485 529 L1395 529 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1395' y='503' width='90' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1395' y1='529' x2='1485' y2='529' style='stroke:#aeb7bf'/>
<line class='delim' x1='1410' y1='529' x2='1410' y2='608' style='stroke:#aeb7bf'/>
<line class='delim' x1='1474' y1='529' x2='1474' y2='608' style='stroke:#aeb7bf'/>
<a xlink:href='#city'><text x='1428' y='521'>city</text><title>Table altdrump.city
縣市</title></a>
  <use id='nn' x='1397' y='537' xlink:href='#nn'/><a xlink:href='#city.id'><use id='pk' x='1397' y='536' xlink:href='#pk'/><title>Pk pk_city_id ( id ) </title></a>
<a xlink:href='#city.id'><text id='altdrump.city.id' x='1413' y='546' onmouseover="hghl(['area_fk_area_country','altdrump.area.city_id','operator_fk_operator_city','altdrump.operator.city_id'])" onmouseout="uhghl(['area_fk_area_country','altdrump.area.city_id','operator_fk_operator_city','altdrump.operator.city_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#city.id'><use id='ref' x='1474' y='536' xlink:href='#ref'/><title>Referred by area ( city_id -&gt; id ) 
Referred by operator ( city_id -&gt; id ) </title></a>
  <use id='nn' x='1397' y='552' xlink:href='#nn'/><a xlink:href='#city.country_id'><use id='idx' x='1397' y='551' xlink:href='#idx'/><title>idx_city_country_id ( country_id ) </title></a>
<a xlink:href='#city.country_id'><text id='altdrump.city.country_id' x='1413' y='561' onmouseover="hghl(['city_fk_city_country','altdrump.country.id'])" onmouseout="uhghl(['city_fk_city_country','altdrump.country.id'])">country_id</text><title>country_id
* integer</title></a>
<a xlink:href='#city.country_id'><use id='fk' x='1474' y='551' xlink:href='#fk'/><title>References country ( country_id -&gt; id ) </title></a>
  <use id='nn' x='1397' y='567' xlink:href='#nn'/><a xlink:href='#city.name'><text id='altdrump.city.name' x='1413' y='576'>name</text><title>name
* varchar(50)
縣市名稱</title></a>
<text x='1482' y='573' text-anchor='end' class='colType'>t</text>  <a xlink:href='#city.code'><text id='altdrump.city.code' x='1413' y='591'>code</text><title>code
varchar(16)
縣市代碼</title></a>
<text x='1482' y='588' text-anchor='end' class='colType'>t</text>
<!-- == Table 'country' == -->
<rect class='entity' x='1530' y='413' width='60' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 1530 439 L 1530 420 Q 1530 413 1537 413 L 1583 413 Q 1590 413 1590 420 L 1590 439 L1530 439 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1530' y='413' width='60' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1530' y1='439' x2='1590' y2='439' style='stroke:#aeb7bf'/>
<line class='delim' x1='1545' y1='439' x2='1545' y2='503' style='stroke:#aeb7bf'/>
<line class='delim' x1='1579' y1='439' x2='1579' y2='503' style='stroke:#aeb7bf'/>
<a xlink:href='#country'><text x='1539' y='431'>country</text><title>Table altdrump.country
國家</title></a>
  <use id='nn' x='1532' y='447' xlink:href='#nn'/><a xlink:href='#country.id'><use id='pk' x='1532' y='446' xlink:href='#pk'/><title>Pk pk_country_id ( id ) </title></a>
<a xlink:href='#country.id'><text id='altdrump.country.id' x='1548' y='456' onmouseover="hghl(['city_fk_city_country','altdrump.city.country_id','operator_fk_operator_country','altdrump.operator.country_id'])" onmouseout="uhghl(['city_fk_city_country','altdrump.city.country_id','operator_fk_operator_country','altdrump.operator.country_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#country.id'><use id='ref' x='1579' y='446' xlink:href='#ref'/><title>Referred by city ( country_id -&gt; id ) 
Referred by operator ( country_id -&gt; id ) </title></a>
  <a xlink:href='#country.name'><text id='altdrump.country.name' x='1548' y='471'>name</text><title>name
varchar(50)
國家名稱</title></a>
<text x='1587' y='468' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1532' y='477' xlink:href='#nn'/><a xlink:href='#country.code'><text id='altdrump.country.code' x='1548' y='486'>code</text><title>code
* varchar(16)
國家代碼</title></a>
<text x='1587' y='483' text-anchor='end' class='colType'>t</text>
<!-- == Table 'parent_operator' == -->
<rect class='entity' x='1425' y='308' width='105' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 1425 334 L 1425 315 Q 1425 308 1432 308 L 1523 308 Q 1530 308 1530 315 L 1530 334 L1425 334 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1425' y='308' width='105' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1425' y1='334' x2='1530' y2='334' style='stroke:#aeb7bf'/>
<line class='delim' x1='1440' y1='334' x2='1440' y2='398' style='stroke:#aeb7bf'/>
<line class='delim' x1='1519' y1='334' x2='1519' y2='398' style='stroke:#aeb7bf'/>
<a xlink:href='#parent_operator'><text x='1434' y='326'>parent_operator</text><title>Table altdrump.parent_operator
子營運商關聯表。
&lt;br&gt;若operator.id不存在於parent_operator.operator_id則operator.id屬於parent operator。</title></a>
  <use id='nn' x='1427' y='342' xlink:href='#nn'/><a xlink:href='#parent_operator.id'><use id='pk' x='1427' y='341' xlink:href='#pk'/><title>Pk pk_parent_operator_id ( id ) </title></a>
<a xlink:href='#parent_operator.id'><text id='altdrump.parent_operator.id' x='1443' y='351'>id</text><title>id
* integer</title></a>
<text x='1527' y='348' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1427' y='357' xlink:href='#nn'/><a xlink:href='#parent_operator.operator_id'><use id='idx' x='1427' y='356' xlink:href='#idx'/><title>idx_parent_operator_operator_id ( operator_id ) </title></a>
<a xlink:href='#parent_operator.operator_id'><text id='altdrump.parent_operator.operator_id' x='1443' y='366' onmouseover="hghl(['parent_operator_fk_parent_operator_operator','altdrump.operator.id'])" onmouseout="uhghl(['parent_operator_fk_parent_operator_operator','altdrump.operator.id'])">operator_id</text><title>operator_id
* integer</title></a>
<a xlink:href='#parent_operator.operator_id'><use id='fk' x='1519' y='356' xlink:href='#fk'/><title>References operator ( operator_id -&gt; id ) </title></a>
  <use id='nn' x='1427' y='372' xlink:href='#nn'/><a xlink:href='#parent_operator.parent_id'><text id='altdrump.parent_operator.parent_id' x='1443' y='381'>parent_id</text><title>parent_id
* integer</title></a>
<text x='1527' y='378' text-anchor='end' class='colType'>#</text>
<!-- == Table 'operator_category' == -->
<rect class='entity' x='1500' y='218' width='105' height='75' rx='7' ry='7' style='stroke:none'/>
<path d='M 1500 244 L 1500 225 Q 1500 218 1507 218 L 1598 218 Q 1605 218 1605 225 L 1605 244 L1500 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1500' y='218' width='105' height='75' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1500' y1='244' x2='1605' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='1515' y1='244' x2='1515' y2='293' style='stroke:#aeb7bf'/>
<line class='delim' x1='1594' y1='244' x2='1594' y2='293' style='stroke:#aeb7bf'/>
<a xlink:href='#operator_category'><text x='1504' y='236'>operator_category</text><title>Table altdrump.operator_category
營運商類型</title></a>
  <use id='nn' x='1502' y='252' xlink:href='#nn'/><a xlink:href='#operator_category.id'><use id='pk' x='1502' y='251' xlink:href='#pk'/><title>Pk pk_operator_type_id ( id ) </title></a>
<a xlink:href='#operator_category.id'><text id='altdrump.operator_category.id' x='1518' y='261' onmouseover="hghl(['operator_fk_operator_operator_type','altdrump.operator.category_id'])" onmouseout="uhghl(['operator_fk_operator_operator_type','altdrump.operator.category_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#operator_category.id'><use id='ref' x='1594' y='251' xlink:href='#ref'/><title>Referred by operator ( category_id -&gt; id ) </title></a>
  <use id='nn' x='1502' y='267' xlink:href='#nn'/><a xlink:href='#operator_category.name'><text id='altdrump.operator_category.name' x='1518' y='276'>name</text><title>name
* varchar(50)
類型名稱</title></a>
<text x='1602' y='273' text-anchor='end' class='colType'>t</text>
<!-- == Table 'device_state' == -->
<rect class='entity' x='1515' y='398' width='90' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 1515 424 L 1515 405 Q 1515 398 1522 398 L 1598 398 Q 1605 398 1605 405 L 1605 424 L1515 424 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1515' y='398' width='90' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1515' y1='424' x2='1605' y2='424' style='stroke:#aeb7bf'/>
<line class='delim' x1='1530' y1='424' x2='1530' y2='548' style='stroke:#aeb7bf'/>
<line class='delim' x1='1594' y1='424' x2='1594' y2='548' style='stroke:#aeb7bf'/>
<a xlink:href='#device_state'><text x='1526' y='416'>device_state</text><title>Table altdrump.device_state
裝置狀態表
&lt;br&gt;state_key格式:/{serial_number}/param。如:/abcd1234/current_temperature</title></a>
  <use id='nn' x='1517' y='432' xlink:href='#nn'/><a xlink:href='#device_state.id'><use id='pk' x='1517' y='431' xlink:href='#pk'/><title>Pk pk_device_state_id ( id ) </title></a>
<a xlink:href='#device_state.id'><text id='altdrump.device_state.id' x='1533' y='441' onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_channel_commodity.device_state_id','order_fk_order_device_state','altdrump.order.device_state_id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_channel_commodity.device_state_id','order_fk_order_device_state','altdrump.order.device_state_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#device_state.id'><use id='ref' x='1594' y='431' xlink:href='#ref'/><title>Referred by device_channel_commodity ( device_state_id -&gt; id ) 
Referred by order ( device_state_id -&gt; id ) </title></a>
  <use id='nn' x='1517' y='447' xlink:href='#nn'/><a xlink:href='#device_state.device_id'><use id='idx' x='1517' y='446' xlink:href='#idx'/><title>idx_device_state_device_id ( device_id ) </title></a>
<a xlink:href='#device_state.device_id'><text id='altdrump.device_state.device_id' x='1533' y='456' onmouseover="hghl(['device_state_fk_device_state_device','altdrump.device.id'])" onmouseout="uhghl(['device_state_fk_device_state_device','altdrump.device.id'])">device_id</text><title>device_id
* integer</title></a>
<a xlink:href='#device_state.device_id'><use id='fk' x='1594' y='446' xlink:href='#fk'/><title>References device ( device_id -&gt; id ) </title></a>
  <use id='nn' x='1517' y='462' xlink:href='#nn'/><a xlink:href='#device_state.state_key'><text id='altdrump.device_state.state_key' x='1533' y='471'>state_key</text><title>state_key
* varchar(50)
裝置參數欄位名稱</title></a>
<text x='1602' y='468' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1517' y='477' xlink:href='#nn'/><a xlink:href='#device_state.state_value'><text id='altdrump.device_state.state_value' x='1533' y='486'>state_value</text><title>state_value
* varchar(50)
參數內容</title></a>
<text x='1602' y='483' text-anchor='end' class='colType'>t</text>  <a xlink:href='#device_state.description'><text id='altdrump.device_state.description' x='1533' y='501'>description</text><title>description
varchar(255)
狀態說明</title></a>
<text x='1602' y='498' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1517' y='507' xlink:href='#nn'/><a xlink:href='#device_state.created_at'><text id='altdrump.device_state.created_at' x='1533' y='516'>created_at</text><title>created_at
* timestamptz
建立時間</title></a>
<text x='1602' y='513' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1517' y='522' xlink:href='#nn'/><a xlink:href='#device_state.updated_at'><text id='altdrump.device_state.updated_at' x='1533' y='531'>updated_at</text><title>updated_at
* timestamptz
最後更新時間</title></a>
<text x='1602' y='528' text-anchor='end' class='colType'>d</text>
<!-- == Table 'order' == -->
<rect class='entity' x='1305' y='773' width='120' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 1305 799 L 1305 780 Q 1305 773 1312 773 L 1418 773 Q 1425 773 1425 780 L 1425 799 L1305 799 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1305' y='773' width='120' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1305' y1='799' x2='1425' y2='799' style='stroke:#aeb7bf'/>
<line class='delim' x1='1320' y1='799' x2='1320' y2='893' style='stroke:#aeb7bf'/>
<line class='delim' x1='1414' y1='799' x2='1414' y2='893' style='stroke:#aeb7bf'/>
<a xlink:href='#order'><text x='1349' y='791'>order</text><title>Table altdrump.order
訂單記錄表</title></a>
  <use id='nn' x='1307' y='807' xlink:href='#nn'/><a xlink:href='#order.id'><use id='pk' x='1307' y='806' xlink:href='#pk'/><title>Pk pk_order_id ( id ) </title></a>
<a xlink:href='#order.id'><text id='altdrump.order.id' x='1323' y='816' onmouseover="hghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order_sale_activity.order_id'])" onmouseout="uhghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order_sale_activity.order_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#order.id'><use id='ref' x='1414' y='806' xlink:href='#ref'/><title>Referred by order_sale_activity ( order_id -&gt; id ) </title></a>
  <use id='nn' x='1307' y='822' xlink:href='#nn'/><a xlink:href='#order.commodity_id'><use id='idx' x='1307' y='821' xlink:href='#idx'/><title>idx_order_commodity_id ( commodity_id ) </title></a>
<a xlink:href='#order.commodity_id'><text id='altdrump.order.commodity_id' x='1323' y='831' onmouseover="hghl(['order_fk_order_commodity','altdrump.commodity.id'])" onmouseout="uhghl(['order_fk_order_commodity','altdrump.commodity.id'])">commodity_id</text><title>commodity_id
* integer
商品ID</title></a>
<a xlink:href='#order.commodity_id'><use id='fk' x='1414' y='821' xlink:href='#fk'/><title>References commodity ( commodity_id -&gt; id ) </title></a>
  <use id='nn' x='1307' y='837' xlink:href='#nn'/><a xlink:href='#order.device_state_id'><use id='idx' x='1307' y='836' xlink:href='#idx'/><title>idx_order_device_state_id ( device_state_id ) </title></a>
<a xlink:href='#order.device_state_id'><text id='altdrump.order.device_state_id' x='1323' y='846' onmouseover="hghl(['order_fk_order_device_state','altdrump.device_state.id'])" onmouseout="uhghl(['order_fk_order_device_state','altdrump.device_state.id'])">device_state_id</text><title>device_state_id
* integer
軌道ID</title></a>
<a xlink:href='#order.device_state_id'><use id='fk' x='1414' y='836' xlink:href='#fk'/><title>References device_state ( device_state_id -&gt; id ) </title></a>
  <use id='nn' x='1307' y='852' xlink:href='#nn'/><a xlink:href='#order.price'><text id='altdrump.order.price' x='1323' y='861'>price</text><title>price
* integer
訂單金額</title></a>
<text x='1422' y='858' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1307' y='867' xlink:href='#nn'/><a xlink:href='#order.created_at'><text id='altdrump.order.created_at' x='1323' y='876'>created_at</text><title>created_at
* timestamptz
交易時間</title></a>
<text x='1422' y='873' text-anchor='end' class='colType'>d</text>
<!-- == Table 'order_sale_activity' == -->
<rect class='entity' x='1500' y='773' width='120' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 1500 799 L 1500 780 Q 1500 773 1507 773 L 1613 773 Q 1620 773 1620 780 L 1620 799 L1500 799 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1500' y='773' width='120' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1500' y1='799' x2='1620' y2='799' style='stroke:#aeb7bf'/>
<line class='delim' x1='1515' y1='799' x2='1515' y2='863' style='stroke:#aeb7bf'/>
<line class='delim' x1='1609' y1='799' x2='1609' y2='863' style='stroke:#aeb7bf'/>
<a xlink:href='#order_sale_activity'><text x='1511' y='791'>order_sale_activity</text><title>Table altdrump.order_sale_activity
訂單銷售活動關聯表</title></a>
  <use id='nn' x='1502' y='807' xlink:href='#nn'/><a xlink:href='#order_sale_activity.id'><use id='pk' x='1502' y='806' xlink:href='#pk'/><title>Pk pk_order_sale_activity_id ( id ) </title></a>
<a xlink:href='#order_sale_activity.id'><text id='altdrump.order_sale_activity.id' x='1518' y='816'>id</text><title>id
* integer</title></a>
<text x='1617' y='813' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1502' y='822' xlink:href='#nn'/><a xlink:href='#order_sale_activity.order_id'><use id='idx' x='1502' y='821' xlink:href='#idx'/><title>idx_order_sale_activity_order_id ( order_id ) </title></a>
<a xlink:href='#order_sale_activity.order_id'><text id='altdrump.order_sale_activity.order_id' x='1518' y='831' onmouseover="hghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order.id'])" onmouseout="uhghl(['order_sale_activity_fk_order_sale_activity_order','altdrump.order.id'])">order_id</text><title>order_id
* integer</title></a>
<a xlink:href='#order_sale_activity.order_id'><use id='fk' x='1609' y='821' xlink:href='#fk'/><title>References order ( order_id -&gt; id ) </title></a>
  <use id='nn' x='1502' y='837' xlink:href='#nn'/><a xlink:href='#order_sale_activity.sale_activity_id'><use id='idx' x='1502' y='836' xlink:href='#idx'/><title>idx_order_sale_activity_sale_activity_id ( sale_activity_id ) </title></a>
<a xlink:href='#order_sale_activity.sale_activity_id'><text id='altdrump.order_sale_activity.sale_activity_id' x='1518' y='846' onmouseover="hghl(['order_sale_activity_fk_order_sale_activity','altdrump.sale_activity.id'])" onmouseout="uhghl(['order_sale_activity_fk_order_sale_activity','altdrump.sale_activity.id'])">sale_activity_id</text><title>sale_activity_id
* integer</title></a>
<a xlink:href='#order_sale_activity.sale_activity_id'><use id='fk' x='1609' y='836' xlink:href='#fk'/><title>References sale_activity ( sale_activity_id -&gt; id ) </title></a>

<!-- == Table 'device_channel_activity' == -->
<rect class='entity' x='1755' y='473' width='135' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 1755 499 L 1755 480 Q 1755 473 1762 473 L 1883 473 Q 1890 473 1890 480 L 1890 499 L1755 499 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1755' y='473' width='135' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1755' y1='499' x2='1890' y2='499' style='stroke:#aeb7bf'/>
<line class='delim' x1='1770' y1='499' x2='1770' y2='563' style='stroke:#aeb7bf'/>
<line class='delim' x1='1879' y1='499' x2='1879' y2='563' style='stroke:#aeb7bf'/>
<a xlink:href='#device_channel_activity'><text x='1761' y='491'>device_channel_activity</text><title>Table altdrump.device_channel_activity
軌道商品活動關聯表
&lt;br&gt;一軌道商品可以有多個銷售活動</title></a>
  <use id='nn' x='1757' y='507' xlink:href='#nn'/><a xlink:href='#device_channel_activity.id'><use id='pk' x='1757' y='506' xlink:href='#pk'/><title>Pk pk_device_channel_activity_id ( id ) </title></a>
<a xlink:href='#device_channel_activity.id'><text id='altdrump.device_channel_activity.id' x='1773' y='516'>id</text><title>id
* integer</title></a>
<text x='1887' y='513' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1757' y='522' xlink:href='#nn'/><a xlink:href='#device_channel_activity.sale_activity_id'><use id='idx' x='1757' y='521' xlink:href='#idx'/><title>idx_device_channel_activity_sale_activity_id ( sale_activity_id ) </title></a>
<a xlink:href='#device_channel_activity.sale_activity_id'><text id='altdrump.device_channel_activity.sale_activity_id' x='1773' y='531' onmouseover="hghl(['device_channel_activity_fk_device_channel_activity2','altdrump.sale_activity.id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity2','altdrump.sale_activity.id'])">sale_activity_id</text><title>sale_activity_id
* integer
銷售活動ID</title></a>
<a xlink:href='#device_channel_activity.sale_activity_id'><use id='fk' x='1879' y='521' xlink:href='#fk'/><title>References sale_activity ( sale_activity_id -&gt; id ) </title></a>
  <use id='nn' x='1757' y='537' xlink:href='#nn'/><a xlink:href='#device_channel_activity.d_c_c_id'><use id='idx' x='1757' y='536' xlink:href='#idx'/><title>idx_device_channel_activity_d_c_c_id ( d_c_c_id ) </title></a>
<a xlink:href='#device_channel_activity.d_c_c_id'><text id='altdrump.device_channel_activity.d_c_c_id' x='1773' y='546' onmouseover="hghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_commodity.id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_commodity.id'])">d_c_c_id</text><title>d_c_c_id
* integer
裝置軌道商品ID</title></a>
<a xlink:href='#device_channel_activity.d_c_c_id'><use id='fk' x='1879' y='536' xlink:href='#fk'/><title>References device_channel_commodity ( d_c_c_id -&gt; id ) </title></a>

<!-- == Table 'device_channel_commodity' == -->
<rect class='entity' x='1755' y='218' width='150' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 1755 244 L 1755 225 Q 1755 218 1762 218 L 1898 218 Q 1905 218 1905 225 L 1905 244 L1755 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1755' y='218' width='150' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1755' y1='244' x2='1905' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='1770' y1='244' x2='1770' y2='368' style='stroke:#aeb7bf'/>
<line class='delim' x1='1894' y1='244' x2='1894' y2='368' style='stroke:#aeb7bf'/>
<a xlink:href='#device_channel_commodity'><text x='1760' y='236'>device_channel_commodity</text><title>Table altdrump.device_channel_commodity
裝置軌道銷售商品
&lt;br&gt;一個軌道只能有一個商品</title></a>
  <use id='nn' x='1757' y='252' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.id'><use id='pk' x='1757' y='251' xlink:href='#pk'/><title>Pk pk_sale_history_id ( id ) </title></a>
<a xlink:href='#device_channel_commodity.id'><text id='altdrump.device_channel_commodity.id' x='1773' y='261' onmouseover="hghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_activity.d_c_c_id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity','altdrump.device_channel_activity.d_c_c_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#device_channel_commodity.id'><use id='ref' x='1894' y='251' xlink:href='#ref'/><title>Referred by device_channel_activity ( d_c_c_id -&gt; id ) </title></a>
  <use id='nn' x='1757' y='267' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.device_state_id'><use id='idx' x='1757' y='266' xlink:href='#idx'/><title>idx_device_channel_commodity_device_state_id ( device_state_id ) </title></a>
<a xlink:href='#device_channel_commodity.device_state_id'><text id='altdrump.device_channel_commodity.device_state_id' x='1773' y='276' onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_state.id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity','altdrump.device_state.id'])">device_state_id</text><title>device_state_id
* integer
裝置軌道編號</title></a>
<a xlink:href='#device_channel_commodity.device_state_id'><use id='fk' x='1894' y='266' xlink:href='#fk'/><title>References device_state ( device_state_id -&gt; id ) </title></a>
  <use id='nn' x='1757' y='282' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.commodity_id'><use id='idx' x='1757' y='281' xlink:href='#idx'/><title>idx_device_channel_commodity_commodity_id ( commodity_id ) </title></a>
<a xlink:href='#device_channel_commodity.commodity_id'><text id='altdrump.device_channel_commodity.commodity_id' x='1773' y='291' onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.commodity.id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.commodity.id'])">commodity_id</text><title>commodity_id
* integer
商品ID</title></a>
<a xlink:href='#device_channel_commodity.commodity_id'><use id='fk' x='1894' y='281' xlink:href='#fk'/><title>References commodity ( commodity_id -&gt; id ) </title></a>
  <use id='nn' x='1757' y='297' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.created_at'><text id='altdrump.device_channel_commodity.created_at' x='1773' y='306'>created_at</text><title>created_at
* timestamptz
建立時間</title></a>
<text x='1902' y='303' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1757' y='312' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.updated_at'><text id='altdrump.device_channel_commodity.updated_at' x='1773' y='321'>updated_at</text><title>updated_at
* timestamptz
更新時間</title></a>
<text x='1902' y='318' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1757' y='327' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.created_by_use_id'><text id='altdrump.device_channel_commodity.created_by_use_id' x='1773' y='336'>created_by_use_id</text><title>created_by_use_id
* integer
由user_id建立</title></a>
<text x='1902' y='333' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1757' y='342' xlink:href='#nn'/><a xlink:href='#device_channel_commodity.updated_by_user_id'><text id='altdrump.device_channel_commodity.updated_by_user_id' x='1773' y='351'>updated_by_user_id</text><title>updated_by_user_id
* integer
最後由user_id更新</title></a>
<text x='1902' y='348' text-anchor='end' class='colType'>#</text>
<!-- == Table 'commodity_category' == -->
<rect class='entity' x='2250' y='218' width='135' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 2250 244 L 2250 225 Q 2250 218 2257 218 L 2378 218 Q 2385 218 2385 225 L 2385 244 L2250 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='2250' y='218' width='135' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='2250' y1='244' x2='2385' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='2265' y1='244' x2='2265' y2='353' style='stroke:#aeb7bf'/>
<line class='delim' x1='2374' y1='244' x2='2374' y2='353' style='stroke:#aeb7bf'/>
<a xlink:href='#commodity_category'><text x='2264' y='236'>commodity_category</text><title>Table altdrump.commodity_category
商品類型</title></a>
  <use id='nn' x='2252' y='252' xlink:href='#nn'/><a xlink:href='#commodity_category.id'><use id='pk' x='2252' y='251' xlink:href='#pk'/><title>Pk pk_commodity_category_id ( id ) </title></a>
<a xlink:href='#commodity_category.id'><text id='altdrump.commodity_category.id' x='2268' y='261' onmouseover="hghl(['commodity_fk_commodity','altdrump.commodity.category_id'])" onmouseout="uhghl(['commodity_fk_commodity','altdrump.commodity.category_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#commodity_category.id'><use id='ref' x='2374' y='251' xlink:href='#ref'/><title>Referred by commodity ( category_id -&gt; id ) </title></a>
  <use id='nn' x='2252' y='267' xlink:href='#nn'/><a xlink:href='#commodity_category.name'><text id='altdrump.commodity_category.name' x='2268' y='276'>name</text><title>name
* varchar(50)
類型名稱</title></a>
<text x='2382' y='273' text-anchor='end' class='colType'>t</text>  <use id='nn' x='2252' y='282' xlink:href='#nn'/><a xlink:href='#commodity_category.created_at'><text id='altdrump.commodity_category.created_at' x='2268' y='291'>created_at</text><title>created_at
* timestamptz
建立時間</title></a>
<text x='2382' y='288' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2252' y='297' xlink:href='#nn'/><a xlink:href='#commodity_category.updated_at'><text id='altdrump.commodity_category.updated_at' x='2268' y='306'>updated_at</text><title>updated_at
* timestamptz
更新時間</title></a>
<text x='2382' y='303' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2252' y='312' xlink:href='#nn'/><a xlink:href='#commodity_category.created_by_user_id'><text id='altdrump.commodity_category.created_by_user_id' x='2268' y='321'>created_by_user_id</text><title>created_by_user_id
* integer
由user_id建立</title></a>
<text x='2382' y='318' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2252' y='327' xlink:href='#nn'/><a xlink:href='#commodity_category.updated_by_user_id'><text id='altdrump.commodity_category.updated_by_user_id' x='2268' y='336'>updated_by_user_id</text><title>updated_by_user_id
* integer
最後由user_id更新</title></a>
<text x='2382' y='333' text-anchor='end' class='colType'>#</text>
<!-- == Table 'commodity' == -->
<rect class='entity' x='2010' y='218' width='135' height='210' rx='7' ry='7' style='stroke:none'/>
<path d='M 2010 244 L 2010 225 Q 2010 218 2017 218 L 2138 218 Q 2145 218 2145 225 L 2145 244 L2010 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='2010' y='218' width='135' height='210' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='2010' y1='244' x2='2145' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='2025' y1='244' x2='2025' y2='428' style='stroke:#aeb7bf'/>
<line class='delim' x1='2134' y1='244' x2='2134' y2='428' style='stroke:#aeb7bf'/>
<a xlink:href='#commodity'><text x='2048' y='236'>commodity</text><title>Table altdrump.commodity
商品</title></a>
  <use id='nn' x='2012' y='252' xlink:href='#nn'/><a xlink:href='#commodity.id'><use id='pk' x='2012' y='251' xlink:href='#pk'/><title>Pk pk_commodity_id ( id ) </title></a>
<a xlink:href='#commodity.id'><text id='altdrump.commodity.id' x='2028' y='261' onmouseover="hghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.device_channel_commodity.commodity_id','order_fk_order_commodity','altdrump.order.commodity_id'])" onmouseout="uhghl(['device_channel_commodity_fk_device_channel_commodity2','altdrump.device_channel_commodity.commodity_id','order_fk_order_commodity','altdrump.order.commodity_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#commodity.id'><use id='ref' x='2134' y='251' xlink:href='#ref'/><title>Referred by device_channel_commodity ( commodity_id -&gt; id ) 
Referred by order ( commodity_id -&gt; id ) </title></a>
  <use id='nn' x='2012' y='267' xlink:href='#nn'/><a xlink:href='#commodity.serial_number'><text id='altdrump.commodity.serial_number' x='2028' y='276'>serial_number</text><title>serial_number
* integer
商品序號</title></a>
<text x='2142' y='273' text-anchor='end' class='colType'>#</text>  <a xlink:href='#commodity.category_id'><use id='idx' x='2012' y='281' xlink:href='#idx'/><title>idx_commodity_category_id ( category_id ) </title></a>
<a xlink:href='#commodity.category_id'><text id='altdrump.commodity.category_id' x='2028' y='291' onmouseover="hghl(['commodity_fk_commodity','altdrump.commodity_category.id'])" onmouseout="uhghl(['commodity_fk_commodity','altdrump.commodity_category.id'])">category_id</text><title>category_id
integer
商品類型</title></a>
<a xlink:href='#commodity.category_id'><use id='fk' x='2134' y='281' xlink:href='#fk'/><title>References commodity_category ( category_id -&gt; id ) </title></a>
  <a xlink:href='#commodity.price'><text id='altdrump.commodity.price' x='2028' y='306'>price</text><title>price
integer default 0
商品價格</title></a>
<text x='2142' y='303' text-anchor='end' class='colType'>#</text>  <a xlink:href='#commodity.profile'><text id='altdrump.commodity.profile' x='2028' y='321'>profile</text><title>profile
json
商品其他資訊</title></a>
  <use id='nn' x='2012' y='327' xlink:href='#nn'/><a xlink:href='#commodity.is_delete'><text id='altdrump.commodity.is_delete' x='2028' y='336'>is_delete</text><title>is_delete
* bool default false
是否為刪除狀態</title></a>
<text x='2142' y='333' text-anchor='end' class='colType'>b</text>  <use id='nn' x='2012' y='342' xlink:href='#nn'/><a xlink:href='#commodity.created_at'><text id='altdrump.commodity.created_at' x='2028' y='351'>created_at</text><title>created_at
* timestamptz
建立時間</title></a>
<text x='2142' y='348' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='357' xlink:href='#nn'/><a xlink:href='#commodity.updated_at'><text id='altdrump.commodity.updated_at' x='2028' y='366'>updated_at</text><title>updated_at
* timestamptz
最後更新時間</title></a>
<text x='2142' y='363' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='372' xlink:href='#nn'/><a xlink:href='#commodity.created_by_user_id'><text id='altdrump.commodity.created_by_user_id' x='2028' y='381'>created_by_user_id</text><title>created_by_user_id
* integer
由user_id建立</title></a>
<text x='2142' y='378' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='387' xlink:href='#nn'/><a xlink:href='#commodity.updated_by_user_id'><text id='altdrump.commodity.updated_by_user_id' x='2028' y='396'>updated_by_user_id</text><title>updated_by_user_id
* integer
最後由user_id更新</title></a>
<text x='2142' y='393' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='402' xlink:href='#nn'/><a xlink:href='#commodity.active'><text id='altdrump.commodity.active' x='2028' y='411'>active</text><title>active
* smallint default 0
啟動狀態
&lt;br&gt;0:關閉
&lt;br&gt;1:啟動
&lt;br&gt;第一次新增預設為0</title></a>
<text x='2142' y='408' text-anchor='end' class='colType'>#</text>
<!-- == Table 'device' == -->
<rect class='entity' x='1320' y='218' width='135' height='240' rx='7' ry='7' style='stroke:none'/>
<path d='M 1320 244 L 1320 225 Q 1320 218 1327 218 L 1448 218 Q 1455 218 1455 225 L 1455 244 L1320 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1320' y='218' width='135' height='240' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1320' y1='244' x2='1455' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='1335' y1='244' x2='1335' y2='458' style='stroke:#aeb7bf'/>
<line class='delim' x1='1444' y1='244' x2='1444' y2='458' style='stroke:#aeb7bf'/>
<a xlink:href='#device'><text x='1369' y='236'>device</text><title>Table altdrump.device
裝置。
&lt;br&gt;一台裝置只能屬於一位營運商。</title></a>
  <use id='nn' x='1322' y='252' xlink:href='#nn'/><a xlink:href='#device.id'><use id='pk' x='1322' y='251' xlink:href='#pk'/><title>Pk pk_device_id ( id ) </title></a>
<a xlink:href='#device.id'><text id='altdrump.device.id' x='1338' y='261' onmouseover="hghl(['device_action_fk_device_action_device','altdrump.device_action.device_id','device_state_fk_device_state_device','altdrump.device_state.device_id'])" onmouseout="uhghl(['device_action_fk_device_action_device','altdrump.device_action.device_id','device_state_fk_device_state_device','altdrump.device_state.device_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#device.id'><use id='ref' x='1444' y='251' xlink:href='#ref'/><title>Referred by device_action ( device_id -&gt; id ) 
Referred by device_state ( device_id -&gt; id ) </title></a>
  <use id='nn' x='1322' y='267' xlink:href='#nn'/><a xlink:href='#device.operator_id'><use id='idx' x='1322' y='266' xlink:href='#idx'/><title>idx_device_operator_id ( operator_id ) </title></a>
<a xlink:href='#device.operator_id'><text id='altdrump.device.operator_id' x='1338' y='276' onmouseover="hghl(['device_fk_device_operator','altdrump.operator.id'])" onmouseout="uhghl(['device_fk_device_operator','altdrump.operator.id'])">operator_id</text><title>operator_id
* integer</title></a>
<a xlink:href='#device.operator_id'><use id='fk' x='1444' y='266' xlink:href='#fk'/><title>References operator ( operator_id -&gt; id ) </title></a>
  <use id='nn' x='1322' y='282' xlink:href='#nn'/><a xlink:href='#device.serial_number'><text id='altdrump.device.serial_number' x='1338' y='291'>serial_number</text><title>serial_number
* varchar(20)
裝置序號</title></a>
<text x='1452' y='288' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1322' y='297' xlink:href='#nn'/><a xlink:href='#device.name'><text id='altdrump.device.name' x='1338' y='306'>name</text><title>name
* varchar(50)
裝置暱稱</title></a>
<text x='1452' y='303' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1322' y='312' xlink:href='#nn'/><a xlink:href='#device.category'><text id='altdrump.device.category' x='1338' y='321'>category</text><title>category
* varchar(50)
類型名稱</title></a>
<text x='1452' y='318' text-anchor='end' class='colType'>t</text>  <a xlink:href='#device.profile'><text id='altdrump.device.profile' x='1338' y='336'>profile</text><title>profile
json
其他資訊
&lt;br&gt;JSON格式</title></a>
  <use id='nn' x='1322' y='342' xlink:href='#nn'/><a xlink:href='#device.active'><text id='altdrump.device.active' x='1338' y='351'>active</text><title>active
* smallint default 0
啟動狀態
&lt;br&gt;0:關閉
&lt;br&gt;1:啟動
&lt;br&gt;第一次新增時預設為關閉</title></a>
<text x='1452' y='348' text-anchor='end' class='colType'>#</text>  <a xlink:href='#device.lat'><text id='altdrump.device.lat' x='1338' y='366'>lat</text><title>lat
float8
經度</title></a>
<text x='1452' y='363' text-anchor='end' class='colType'>#</text>  <a xlink:href='#device.lon'><text id='altdrump.device.lon' x='1338' y='381'>lon</text><title>lon
float8
緯度</title></a>
<text x='1452' y='378' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1322' y='387' xlink:href='#nn'/><a xlink:href='#device.created_at'><text id='altdrump.device.created_at' x='1338' y='396'>created_at</text><title>created_at
* timestamptz
建立日期</title></a>
<text x='1452' y='393' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1322' y='402' xlink:href='#nn'/><a xlink:href='#device.updated_at'><text id='altdrump.device.updated_at' x='1338' y='411'>updated_at</text><title>updated_at
* timestamptz
更新日期</title></a>
<text x='1452' y='408' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1322' y='417' xlink:href='#nn'/><a xlink:href='#device.created_by_user_id'><text id='altdrump.device.created_by_user_id' x='1338' y='426'>created_by_user_id</text><title>created_by_user_id
* integer
由user_id建立</title></a>
<text x='1452' y='423' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1322' y='432' xlink:href='#nn'/><a xlink:href='#device.updated_by_user_id'><text id='altdrump.device.updated_by_user_id' x='1338' y='441'>updated_by_user_id</text><title>updated_by_user_id
* integer
最後由user_id更新</title></a>
<text x='1452' y='438' text-anchor='end' class='colType'>#</text>
<!-- == Table 'device_action' == -->
<rect class='entity' x='1515' y='218' width='105' height='165' rx='7' ry='7' style='stroke:none'/>
<path d='M 1515 244 L 1515 225 Q 1515 218 1522 218 L 1613 218 Q 1620 218 1620 225 L 1620 244 L1515 244 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1515' y='218' width='105' height='165' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1515' y1='244' x2='1620' y2='244' style='stroke:#aeb7bf'/>
<line class='delim' x1='1530' y1='244' x2='1530' y2='383' style='stroke:#aeb7bf'/>
<line class='delim' x1='1609' y1='244' x2='1609' y2='383' style='stroke:#aeb7bf'/>
<a xlink:href='#device_action'><text x='1531' y='236'>device_action</text><title>Table altdrump.device_action
裝置指令記錄表
&lt;br&gt;action_key格式:/serial_number/param/action。如回傳裝置當前溫度:/abcd1234/current_temperature/return</title></a>
  <use id='nn' x='1517' y='252' xlink:href='#nn'/><a xlink:href='#device_action.id'><use id='pk' x='1517' y='251' xlink:href='#pk'/><title>Pk pk_device_action_id ( id ) </title></a>
<a xlink:href='#device_action.id'><text id='altdrump.device_action.id' x='1533' y='261'>id</text><title>id
* integer</title></a>
<text x='1617' y='258' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1517' y='267' xlink:href='#nn'/><a xlink:href='#device_action.device_id'><use id='idx' x='1517' y='266' xlink:href='#idx'/><title>idx_device_action_device_id ( device_id ) </title></a>
<a xlink:href='#device_action.device_id'><text id='altdrump.device_action.device_id' x='1533' y='276' onmouseover="hghl(['device_action_fk_device_action_device','altdrump.device.id'])" onmouseout="uhghl(['device_action_fk_device_action_device','altdrump.device.id'])">device_id</text><title>device_id
* integer</title></a>
<a xlink:href='#device_action.device_id'><use id='fk' x='1609' y='266' xlink:href='#fk'/><title>References device ( device_id -&gt; id ) </title></a>
  <use id='nn' x='1517' y='282' xlink:href='#nn'/><a xlink:href='#device_action.action_key'><text id='altdrump.device_action.action_key' x='1533' y='291'>action_key</text><title>action_key
* varchar(50)
指令名稱</title></a>
<text x='1617' y='288' text-anchor='end' class='colType'>t</text>  <a xlink:href='#device_action.action_value'><text id='altdrump.device_action.action_value' x='1533' y='306'>action_value</text><title>action_value
varchar(50)
指令附帶參數</title></a>
<text x='1617' y='303' text-anchor='end' class='colType'>t</text>  <a xlink:href='#device_action.description'><text id='altdrump.device_action.description' x='1533' y='321'>description</text><title>description
varchar(255)
指令描述</title></a>
<text x='1617' y='318' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1517' y='327' xlink:href='#nn'/><a xlink:href='#device_action.created_at'><text id='altdrump.device_action.created_at' x='1533' y='336'>created_at</text><title>created_at
* timestamptz
指令發送時間</title></a>
<text x='1617' y='333' text-anchor='end' class='colType'>d</text>  <a xlink:href='#device_action.return_result'><text id='altdrump.device_action.return_result' x='1533' y='351'>return_result</text><title>return_result
json
返回結果</title></a>
  <a xlink:href='#device_action.return_at'><text id='altdrump.device_action.return_at' x='1533' y='366'>return_at</text><title>return_at
timestamptz
裝置回應時間</title></a>
<text x='1617' y='363' text-anchor='end' class='colType'>d</text>
<!-- == Table 'sale_activity' == -->
<rect class='entity' x='2010' y='443' width='135' height='255' rx='7' ry='7' style='stroke:none'/>
<path d='M 2010 469 L 2010 450 Q 2010 443 2017 443 L 2138 443 Q 2145 443 2145 450 L 2145 469 L2010 469 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='2010' y='443' width='135' height='255' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='2010' y1='469' x2='2145' y2='469' style='stroke:#aeb7bf'/>
<line class='delim' x1='2025' y1='469' x2='2025' y2='698' style='stroke:#aeb7bf'/>
<line class='delim' x1='2134' y1='469' x2='2134' y2='698' style='stroke:#aeb7bf'/>
<a xlink:href='#sale_activity'><text x='2044' y='461'>sale_activity</text><title>Table altdrump.sale_activity
銷售活動</title></a>
  <use id='nn' x='2012' y='477' xlink:href='#nn'/><a xlink:href='#sale_activity.id'><use id='pk' x='2012' y='476' xlink:href='#pk'/><title>Pk pk_sale_activity_id ( id ) </title></a>
<a xlink:href='#sale_activity.id'><text id='altdrump.sale_activity.id' x='2028' y='486' onmouseover="hghl(['device_channel_activity_fk_device_channel_activity2','altdrump.device_channel_activity.sale_activity_id','order_sale_activity_fk_order_sale_activity','altdrump.order_sale_activity.sale_activity_id'])" onmouseout="uhghl(['device_channel_activity_fk_device_channel_activity2','altdrump.device_channel_activity.sale_activity_id','order_sale_activity_fk_order_sale_activity','altdrump.order_sale_activity.sale_activity_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#sale_activity.id'><use id='ref' x='2134' y='476' xlink:href='#ref'/><title>Referred by device_channel_activity ( sale_activity_id -&gt; id ) 
Referred by order_sale_activity ( sale_activity_id -&gt; id ) </title></a>
  <use id='nn' x='2012' y='492' xlink:href='#nn'/><a xlink:href='#sale_activity.activity_category_id'><text id='altdrump.sale_activity.activity_category_id' x='2028' y='501'>activity_category_id</text><title>activity_category_id
* integer</title></a>
<text x='2142' y='498' text-anchor='end' class='colType'>#</text>  <a xlink:href='#sale_activity.name'><text id='altdrump.sale_activity.name' x='2028' y='516'>name</text><title>name
varchar(50)
活動名稱</title></a>
<text x='2142' y='513' text-anchor='end' class='colType'>t</text>  <a xlink:href='#sale_activity.descriptiosn'><text id='altdrump.sale_activity.descriptiosn' x='2028' y='531'>descriptiosn</text><title>descriptiosn
varchar(255)
活動描述</title></a>
<text x='2142' y='528' text-anchor='end' class='colType'>t</text>  <use id='nn' x='2012' y='537' xlink:href='#nn'/><a xlink:href='#sale_activity.code'><text id='altdrump.sale_activity.code' x='2028' y='546'>code</text><title>code
* varchar(50)
活動代碼</title></a>
<text x='2142' y='543' text-anchor='end' class='colType'>t</text>  <use id='nn' x='2012' y='552' xlink:href='#nn'/><a xlink:href='#sale_activity.active'><text id='altdrump.sale_activity.active' x='2028' y='561'>active</text><title>active
* smallint default 0
啟動狀態
&lt;br&gt;0:關閉
&lt;br&gt;1:啟動
&lt;br&gt;第一次建立活動時預設為關閉</title></a>
<text x='2142' y='558' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='567' xlink:href='#nn'/><a xlink:href='#sale_activity.base_price'><text id='altdrump.sale_activity.base_price' x='2028' y='576'>base_price</text><title>base_price
* integer
基礎價格。需滿足此架夠才可使用此活動</title></a>
<text x='2142' y='573' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='582' xlink:href='#nn'/><a xlink:href='#sale_activity.discount'><text id='altdrump.sale_activity.discount' x='2028' y='591'>discount</text><title>discount
* integer
折扣百分比</title></a>
<text x='2142' y='588' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='597' xlink:href='#nn'/><a xlink:href='#sale_activity.priority'><text id='altdrump.sale_activity.priority' x='2028' y='606'>priority</text><title>priority
* integer default 0
活動優先權。值越高代表優先權高</title></a>
<text x='2142' y='603' text-anchor='end' class='colType'>#</text>  <use id='nn' x='2012' y='612' xlink:href='#nn'/><a xlink:href='#sale_activity.start_at'><text id='altdrump.sale_activity.start_at' x='2028' y='621'>start_at</text><title>start_at
* timestamptz
活動開始時間</title></a>
<text x='2142' y='618' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='627' xlink:href='#nn'/><a xlink:href='#sale_activity.end_at'><text id='altdrump.sale_activity.end_at' x='2028' y='636'>end_at</text><title>end_at
* timestamptz
活動結束時間</title></a>
<text x='2142' y='633' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='642' xlink:href='#nn'/><a xlink:href='#sale_activity.created_at'><text id='altdrump.sale_activity.created_at' x='2028' y='651'>created_at</text><title>created_at
* timestamptz
建立時間</title></a>
<text x='2142' y='648' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='657' xlink:href='#nn'/><a xlink:href='#sale_activity.created_by_user_id'><text id='altdrump.sale_activity.created_by_user_id' x='2028' y='666'>created_by_user_id</text><title>created_by_user_id
* timestamptz
由user_id建立</title></a>
<text x='2142' y='663' text-anchor='end' class='colType'>d</text>  <use id='nn' x='2012' y='672' xlink:href='#nn'/><a xlink:href='#sale_activity.is_delete'><text id='altdrump.sale_activity.is_delete' x='2028' y='681'>is_delete</text><title>is_delete
* bool default false
活動狀態是否為刪除</title></a>
<text x='2142' y='678' text-anchor='end' class='colType'>b</text>
<!-- == Table 'push_message' == -->
<rect class='entity' x='285' y='1553' width='90' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 285 1579 L 285 1560 Q 285 1553 292 1553 L 368 1553 Q 375 1553 375 1560 L 375 1579 L285 1579 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='285' y='1553' width='90' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='285' y1='1579' x2='375' y2='1579' style='stroke:#aeb7bf'/>
<line class='delim' x1='300' y1='1579' x2='300' y2='1673' style='stroke:#aeb7bf'/>
<line class='delim' x1='364' y1='1579' x2='364' y2='1673' style='stroke:#aeb7bf'/>
<a xlink:href='#push_message'><text x='292' y='1571'>push_message</text><title>Table altdrump.push_message
推播訊息</title></a>
  <use id='nn' x='287' y='1587' xlink:href='#nn'/><a xlink:href='#push_message.id'><use id='pk' x='287' y='1586' xlink:href='#pk'/><title>Pk pk_push_message_id ( id ) </title></a>
<a xlink:href='#push_message.id'><text id='altdrump.push_message.id' x='303' y='1596' onmouseover="hghl(['push_log_fk_push_log_push_message','altdrump.push_log.p_m_id','push_queue_fk_push_queue_push_message','altdrump.push_queue.p_m_id'])" onmouseout="uhghl(['push_log_fk_push_log_push_message','altdrump.push_log.p_m_id','push_queue_fk_push_queue_push_message','altdrump.push_queue.p_m_id'])">id</text><title>id
* integer</title></a>
<a xlink:href='#push_message.id'><use id='ref' x='364' y='1586' xlink:href='#ref'/><title>Referred by push_log ( p_m_id -&gt; id ) 
Referred by push_queue ( p_m_id -&gt; id ) </title></a>
  <a xlink:href='#push_message.payload'><text id='altdrump.push_message.payload' x='303' y='1611'>payload</text><title>payload
varchar(4096)
推播內容</title></a>
<text x='372' y='1608' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_message.is_delete'><text id='altdrump.push_message.is_delete' x='303' y='1626'>is_delete</text><title>is_delete
varchar(1) default 0
1:代表已經刪除，將不被推播
0:代表需要被推播</title></a>
<text x='372' y='1623' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_message.created_at'><text id='altdrump.push_message.created_at' x='303' y='1641'>created_at</text><title>created_at
timestamptz default current_timestamp</title></a>
<text x='372' y='1638' text-anchor='end' class='colType'>d</text>  <a xlink:href='#push_message.total'><text id='altdrump.push_message.total' x='303' y='1656'>total</text><title>total
integer
預計傳送總數</title></a>
<text x='372' y='1653' text-anchor='end' class='colType'>#</text>
<!-- == Table 'push_log' == -->
<rect class='entity' x='435' y='1418' width='90' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 435 1444 L 435 1425 Q 435 1418 442 1418 L 518 1418 Q 525 1418 525 1425 L 525 1444 L435 1444 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='435' y='1418' width='90' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='435' y1='1444' x2='525' y2='1444' style='stroke:#aeb7bf'/>
<line class='delim' x1='450' y1='1444' x2='450' y2='1553' style='stroke:#aeb7bf'/>
<line class='delim' x1='514' y1='1444' x2='514' y2='1553' style='stroke:#aeb7bf'/>
<a xlink:href='#push_log'><text x='455' y='1436'>push_log</text><title>Table altdrump.push_log</title></a>
  <use id='nn' x='437' y='1452' xlink:href='#nn'/><a xlink:href='#push_log.id'><use id='pk' x='437' y='1451' xlink:href='#pk'/><title>Pk pk_push_mesaage_log_id ( id ) </title></a>
<a xlink:href='#push_log.id'><text id='altdrump.push_log.id' x='453' y='1461'>id</text><title>id
* integer</title></a>
<text x='522' y='1458' text-anchor='end' class='colType'>#</text>  <a xlink:href='#push_log.p_m_id'><use id='idx' x='437' y='1466' xlink:href='#idx'/><title>idx_push_log_p_m_id ( p_m_id ) </title></a>
<a xlink:href='#push_log.p_m_id'><text id='altdrump.push_log.p_m_id' x='453' y='1476' onmouseover="hghl(['push_log_fk_push_log_push_message','altdrump.push_message.id'])" onmouseout="uhghl(['push_log_fk_push_log_push_message','altdrump.push_message.id'])">p_m_id</text><title>p_m_id
integer
message id</title></a>
<a xlink:href='#push_log.p_m_id'><use id='fk' x='514' y='1466' xlink:href='#fk'/><title>References push_message ( p_m_id -&gt; id ) </title></a>
  <a xlink:href='#push_log.p_d_id'><use id='idx' x='437' y='1481' xlink:href='#idx'/><title>idx_push_log_p_d_id ( p_d_id ) </title></a>
<a xlink:href='#push_log.p_d_id'><text id='altdrump.push_log.p_d_id' x='453' y='1491' onmouseover="hghl(['push_log_fk_push_log_push_device','altdrump.push_device.uuid'])" onmouseout="uhghl(['push_log_fk_push_log_push_device','altdrump.push_device.uuid'])">p_d_id</text><title>p_d_id
integer
device_id</title></a>
<a xlink:href='#push_log.p_d_id'><use id='fk' x='514' y='1481' xlink:href='#fk'/><title>References push_device ( p_d_id -&gt; uuid ) </title></a>
  <a xlink:href='#push_log.result'><text id='altdrump.push_log.result' x='453' y='1506'>result</text><title>result
varchar(1024)</title></a>
<text x='522' y='1503' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_log.created_at'><text id='altdrump.push_log.created_at' x='453' y='1521'>created_at</text><title>created_at
timestamptz</title></a>
<text x='522' y='1518' text-anchor='end' class='colType'>d</text>  <a xlink:href='#push_log.success'><text id='altdrump.push_log.success' x='453' y='1536'>success</text><title>success
varchar(1)
傳送成功</title></a>
<text x='522' y='1533' text-anchor='end' class='colType'>t</text>
<!-- == Table 'interview_order' == -->
<rect class='entity' x='1545' y='968' width='105' height='255' rx='7' ry='7' style='stroke:none'/>
<path d='M 1545 994 L 1545 975 Q 1545 968 1552 968 L 1643 968 Q 1650 968 1650 975 L 1650 994 L1545 994 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1545' y='968' width='105' height='255' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1545' y1='994' x2='1650' y2='994' style='stroke:#aeb7bf'/>
<line class='delim' x1='1560' y1='994' x2='1560' y2='1223' style='stroke:#aeb7bf'/>
<line class='delim' x1='1639' y1='994' x2='1639' y2='1223' style='stroke:#aeb7bf'/>
<a xlink:href='#interview_order'><text x='1556' y='986'>interview_order</text><title>Table altdrump.interview_order
特洛依拜訪表單</title></a>
  <use id='nn' x='1547' y='1002' xlink:href='#nn'/><a xlink:href='#interview_order.id'><use id='pk' x='1547' y='1001' xlink:href='#pk'/><title>Pk pk_interview_order_id ( id ) </title></a>
<a xlink:href='#interview_order.id'><text id='altdrump.interview_order.id' x='1563' y='1011'>id</text><title>id
* bigserial</title></a>
<text x='1647' y='1008' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1547' y='1017' xlink:href='#nn'/><a xlink:href='#interview_order.city'><text id='altdrump.interview_order.city' x='1563' y='1026'>city</text><title>city
* varchar(48)
所屬區域單位</title></a>
<text x='1647' y='1023' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1547' y='1032' xlink:href='#nn'/><a xlink:href='#interview_order.water'><text id='altdrump.interview_order.water' x='1563' y='1041'>water</text><title>water
* varchar(24)
負責人員</title></a>
<text x='1647' y='1038' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1547' y='1047' xlink:href='#nn'/><a xlink:href='#interview_order.school_type'><text id='altdrump.interview_order.school_type' x='1563' y='1056'>school_type</text><title>school_type
* varchar(24)
客戶學校屬性</title></a>
<text x='1647' y='1053' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.demand'><text id='altdrump.interview_order.demand' x='1563' y='1071'>demand</text><title>demand
text
需求資訊,json格式</title></a>
<text x='1647' y='1068' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1547' y='1077' xlink:href='#nn'/><a xlink:href='#interview_order.c_school'><text id='altdrump.interview_order.c_school' x='1563' y='1086'>c_school</text><title>c_school
* varchar(128)
客戶學校</title></a>
<text x='1647' y='1083' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.c_association'><text id='altdrump.interview_order.c_association' x='1563' y='1101'>c_association</text><title>c_association
varchar(256)
客戶學校社團</title></a>
<text x='1647' y='1098' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1547' y='1107' xlink:href='#nn'/><a xlink:href='#interview_order.c_name'><text id='altdrump.interview_order.c_name' x='1563' y='1116'>c_name</text><title>c_name
* varchar(24)
客戶名稱</title></a>
<text x='1647' y='1113' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.c_nick'><text id='altdrump.interview_order.c_nick' x='1563' y='1131'>c_nick</text><title>c_nick
varchar(48)
客戶暱稱</title></a>
<text x='1647' y='1128' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.c_phone'><text id='altdrump.interview_order.c_phone' x='1563' y='1146'>c_phone</text><title>c_phone
varchar(24)
客戶手機</title></a>
<text x='1647' y='1143' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.c_line_id'><text id='altdrump.interview_order.c_line_id' x='1563' y='1161'>c_line_id</text><title>c_line_id
varchar(48)
客戶LINE ID</title></a>
<text x='1647' y='1158' text-anchor='end' class='colType'>t</text>  <a xlink:href='#interview_order.c_book_date'><text id='altdrump.interview_order.c_book_date' x='1563' y='1176'>c_book_date</text><title>c_book_date
timestamptz
預定取貨日期</title></a>
<text x='1647' y='1173' text-anchor='end' class='colType'>d</text>  <a xlink:href='#interview_order.c_action_date'><text id='altdrump.interview_order.c_action_date' x='1563' y='1191'>c_action_date</text><title>c_action_date
timestamptz
活動時間</title></a>
<text x='1647' y='1188' text-anchor='end' class='colType'>d</text>  <use id='nn' x='1547' y='1197' xlink:href='#nn'/><a xlink:href='#interview_order.created_at'><text id='altdrump.interview_order.created_at' x='1563' y='1206'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='1647' y='1203' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_role_user' == -->
<rect class='entity' x='510' y='263' width='90' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 510 289 L 510 270 Q 510 263 517 263 L 593 263 Q 600 263 600 270 L 600 289 L510 289 ' style='fill:url(#tbg_bfd4f5);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='510' y='263' width='90' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb5bf'/>
<line class='delim' x1='510' y1='289' x2='600' y2='289' style='stroke:#aeb5bf'/>
<line class='delim' x1='525' y1='289' x2='525' y2='353' style='stroke:#aeb5bf'/>
<line class='delim' x1='589' y1='289' x2='589' y2='353' style='stroke:#aeb5bf'/>
<a xlink:href='#rel_role_user'><text x='520' y='281'>rel_role_user</text><title>Table altdrump.rel_role_user
角色與使用者關聯表
&lt;br&gt;一個使用者對應一個角色</title></a>
  <use id='nn' x='512' y='297' xlink:href='#nn'/><a xlink:href='#rel_role_user.id'><use id='pk' x='512' y='296' xlink:href='#pk'/><title>Pk pk_role_user_id ( id ) </title></a>
<a xlink:href='#rel_role_user.id'><text id='altdrump.rel_role_user.id' x='528' y='306'>id</text><title>id
* integer</title></a>
<text x='597' y='303' text-anchor='end' class='colType'>#</text>  <a xlink:href='#rel_role_user.role_uuid'><use id='idx' x='512' y='311' xlink:href='#idx'/><title>idx_role_user_role_id ( role_uuid ) </title></a>
<a xlink:href='#rel_role_user.role_uuid'><text id='altdrump.rel_role_user.role_uuid' x='528' y='321'>role_uuid</text><title>role_uuid
uuid</title></a>
  <a xlink:href='#rel_role_user.user_uuid'><use id='idx' x='512' y='326' xlink:href='#idx'/><title>idx_role_user_user_id ( user_uuid ) </title></a>
<a xlink:href='#rel_role_user.user_uuid'><text id='altdrump.rel_role_user.user_uuid' x='528' y='336'>user_uuid</text><title>user_uuid
uuid</title></a>

<!-- == Table 'user_action' == -->
<rect class='entity' x='660' y='503' width='90' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 660 529 L 660 510 Q 660 503 667 503 L 743 503 Q 750 503 750 510 L 750 529 L660 529 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='660' y='503' width='90' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='660' y1='529' x2='750' y2='529' style='stroke:#aeb7bf'/>
<line class='delim' x1='675' y1='529' x2='675' y2='623' style='stroke:#aeb7bf'/>
<line class='delim' x1='739' y1='529' x2='739' y2='623' style='stroke:#aeb7bf'/>
<a xlink:href='#user_action'><text x='674' y='521'>user_action</text><title>Table altdrump.user_action
使用者行動授權表</title></a>
  <use id='nn' x='662' y='537' xlink:href='#nn'/><a xlink:href='#user_action.id'><use id='pk' x='662' y='536' xlink:href='#pk'/><title>Pk pk_user_action_id ( id ) </title></a>
<a xlink:href='#user_action.id'><text id='altdrump.user_action.id' x='678' y='546'>id</text><title>id
* integer</title></a>
<text x='747' y='543' text-anchor='end' class='colType'>#</text>  <use id='nn' x='662' y='552' xlink:href='#nn'/><a xlink:href='#user_action.user_uuid'><use id='idx' x='662' y='551' xlink:href='#idx'/><title>idx_user_action_user_id ( user_uuid ) </title></a>
<a xlink:href='#user_action.user_uuid'><text id='altdrump.user_action.user_uuid' x='678' y='561'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <use id='nn' x='662' y='567' xlink:href='#nn'/><a xlink:href='#user_action.access_key'><text id='altdrump.user_action.access_key' x='678' y='576'>access_key</text><title>access_key
* varchar(255)
授權碼</title></a>
<text x='747' y='573' text-anchor='end' class='colType'>t</text>  <use id='nn' x='662' y='582' xlink:href='#nn'/><a xlink:href='#user_action.action_code'><text id='altdrump.user_action.action_code' x='678' y='591'>action_code</text><title>action_code
* integer
行為代碼
&lt;br&gt;1:啟動帳號
&lt;br&gt;2:重設密碼</title></a>
<text x='747' y='588' text-anchor='end' class='colType'>#</text>  <use id='nn' x='662' y='597' xlink:href='#nn'/><a xlink:href='#user_action.expire'><text id='altdrump.user_action.expire' x='678' y='606'>expire</text><title>expire
* timestamptz
有效時間。
當前時間+24小時</title></a>
<text x='747' y='603' text-anchor='end' class='colType'>d</text>
<!-- == Table 'local_role' == -->
<rect class='entity' x='315' y='263' width='120' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 315 289 L 315 270 Q 315 263 322 263 L 428 263 Q 435 263 435 270 L 435 289 L315 289 ' style='fill:url(#tbg_bfd4f5);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='315' y='263' width='120' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb5bf'/>
<line class='delim' x1='315' y1='289' x2='435' y2='289' style='stroke:#aeb5bf'/>
<line class='delim' x1='330' y1='289' x2='330' y2='383' style='stroke:#aeb5bf'/>
<line class='delim' x1='424' y1='289' x2='424' y2='383' style='stroke:#aeb5bf'/>
<a xlink:href='#local_role'><text x='348' y='281'>local_role</text><title>Table altdrump.local_role
角色</title></a>
  <use id='nn' x='317' y='297' xlink:href='#nn'/><a xlink:href='#local_role.uuid'><use id='pk' x='317' y='296' xlink:href='#pk'/><title>Pk pk_table_0_id ( uuid ) </title></a>
<a xlink:href='#local_role.uuid'><text id='altdrump.local_role.uuid' x='333' y='306'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='317' y='312' xlink:href='#nn'/><a xlink:href='#local_role.name'><text id='altdrump.local_role.name' x='333' y='321'>name</text><title>name
* varchar(100)
群組名稱</title></a>
<text x='432' y='318' text-anchor='end' class='colType'>t</text>  <use id='nn' x='317' y='327' xlink:href='#nn'/><a xlink:href='#local_role.active'><text id='altdrump.local_role.active' x='333' y='336'>active</text><title>active
* smallint default 1
啟動狀態
&lt;br&gt;0:關閉
&lt;br&gt;1:啟動
&lt;br&gt;若此群組為關閉狀態，則歸屬於此群組的使用者也都會關閉。</title></a>
<text x='432' y='333' text-anchor='end' class='colType'>#</text>  <a xlink:href='#local_role.created_by_uuid'><text id='altdrump.local_role.created_by_uuid' x='333' y='351'>created_by_uuid</text><title>created_by_uuid
uuid
父UUID</title></a>
  <use id='nn' x='317' y='357' xlink:href='#nn'/><a xlink:href='#local_role.is_super'><text id='altdrump.local_role.is_super' x='333' y='366'>is_super</text><title>is_super
* bool default false
是否為超級管理者群組</title></a>
<text x='432' y='363' text-anchor='end' class='colType'>b</text>
<!-- == Table 'app' == -->
<rect class='entity' x='45' y='713' width='90' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 45 739 L 45 720 Q 45 713 52 713 L 128 713 Q 135 713 135 720 L 135 739 L45 739 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='45' y='713' width='90' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='45' y1='739' x2='135' y2='739' style='stroke:#aeb7bf'/>
<line class='delim' x1='60' y1='739' x2='60' y2='848' style='stroke:#aeb7bf'/>
<line class='delim' x1='124' y1='739' x2='124' y2='848' style='stroke:#aeb7bf'/>
<a xlink:href='#app'><text x='78' y='731'>app</text><title>Table altdrump.app</title></a>
  <use id='nn' x='47' y='747' xlink:href='#nn'/><a xlink:href='#app.uuid'><use id='pk' x='47' y='746' xlink:href='#pk'/><title>Pk pk_application_id ( uuid ) </title></a>
<a xlink:href='#app.uuid'><text id='altdrump.app.uuid' x='63' y='756'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='47' y='762' xlink:href='#nn'/><a xlink:href='#app.title'><text id='altdrump.app.title' x='63' y='771'>title</text><title>title
* varchar(100) default application name</title></a>
<text x='132' y='768' text-anchor='end' class='colType'>t</text>  <use id='nn' x='47' y='777' xlink:href='#nn'/><a xlink:href='#app.user_uuid'><use id='idx' x='47' y='776' xlink:href='#idx'/><title>idx_application_u_id ( user_uuid ) </title></a>
<a xlink:href='#app.user_uuid'><text id='altdrump.app.user_uuid' x='63' y='786'>user_uuid</text><title>user_uuid
* uuid
user uuid</title></a>
  <use id='nn' x='47' y='792' xlink:href='#nn'/><a xlink:href='#app.is_delete'><text id='altdrump.app.is_delete' x='63' y='801'>is_delete</text><title>is_delete
* bool default false
應用程式狀態是否被刪除</title></a>
<text x='132' y='798' text-anchor='end' class='colType'>b</text>  <use id='nn' x='47' y='807' xlink:href='#nn'/><a xlink:href='#app.created_at'><text id='altdrump.app.created_at' x='63' y='816'>created_at</text><title>created_at
* timestamptz</title></a>
<text x='132' y='813' text-anchor='end' class='colType'>d</text>  <a xlink:href='#app.test'><text id='altdrump.app.test' x='63' y='831'>test</text><title>test
bigint</title></a>
<text x='132' y='828' text-anchor='end' class='colType'>#</text>
<!-- == Table 'facebook_user' == -->
<rect class='entity' x='795' y='473' width='120' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 795 499 L 795 480 Q 795 473 802 473 L 908 473 Q 915 473 915 480 L 915 499 L795 499 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='795' y='473' width='120' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='795' y1='499' x2='915' y2='499' style='stroke:#aeb7bf'/>
<line class='delim' x1='810' y1='499' x2='810' y2='623' style='stroke:#aeb7bf'/>
<line class='delim' x1='904' y1='499' x2='904' y2='623' style='stroke:#aeb7bf'/>
<a xlink:href='#facebook_user'><text x='816' y='491'>facebook_user</text><title>Table altdrump.facebook_user</title></a>
  <a xlink:href='#facebook_user.local_user_uuid'><text id='altdrump.facebook_user.local_user_uuid' x='813' y='516'>local_user_uuid</text><title>local_user_uuid
uuid</title></a>
  <a xlink:href='#facebook_user.f_id'><text id='altdrump.facebook_user.f_id' x='813' y='531'>f_id</text><title>f_id
bigint</title></a>
<text x='912' y='528' text-anchor='end' class='colType'>#</text>  <a xlink:href='#facebook_user.token'><text id='altdrump.facebook_user.token' x='813' y='546'>token</text><title>token
varchar(1024)</title></a>
<text x='912' y='543' text-anchor='end' class='colType'>t</text>  <a xlink:href='#facebook_user.name'><text id='altdrump.facebook_user.name' x='813' y='561'>name</text><title>name
varchar(50)</title></a>
<text x='912' y='558' text-anchor='end' class='colType'>t</text>  <a xlink:href='#facebook_user.email'><text id='altdrump.facebook_user.email' x='813' y='576'>email</text><title>email
varchar(50)</title></a>
<text x='912' y='573' text-anchor='end' class='colType'>t</text>  <a xlink:href='#facebook_user.created_at'><text id='altdrump.facebook_user.created_at' x='813' y='591'>created_at</text><title>created_at
timestamptz</title></a>
<text x='912' y='588' text-anchor='end' class='colType'>d</text>  <a xlink:href='#facebook_user.updated_at'><text id='altdrump.facebook_user.updated_at' x='813' y='606'>updated_at</text><title>updated_at
timestamptz</title></a>
<text x='912' y='603' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_two_group' == -->
<rect class='entity' x='450' y='713' width='105' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 450 739 L 450 720 Q 450 713 457 713 L 548 713 Q 555 713 555 720 L 555 739 L450 739 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='450' y='713' width='105' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='450' y1='739' x2='555' y2='739' style='stroke:#aeb7bf'/>
<line class='delim' x1='465' y1='739' x2='465' y2='818' style='stroke:#aeb7bf'/>
<line class='delim' x1='544' y1='739' x2='544' y2='818' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_two_group'><text x='464' y='731'>rel_two_group</text><title>Table altdrump.rel_two_group
用來找尋已存在的兩人對話群組</title></a>
  <use id='nn' x='452' y='747' xlink:href='#nn'/><a xlink:href='#rel_two_group.id'><use id='pk' x='452' y='746' xlink:href='#pk'/><title>Pk pk_rel_two_group_id ( id ) </title></a>
<a xlink:href='#rel_two_group.id'><text id='altdrump.rel_two_group.id' x='468' y='756'>id</text><title>id
* bigserial</title></a>
<text x='552' y='753' text-anchor='end' class='colType'>#</text>  <use id='nn' x='452' y='762' xlink:href='#nn'/><a xlink:href='#rel_two_group.a_uuid'><use id='idx' x='452' y='761' xlink:href='#idx'/><title>idx_rel_two_group_a_uuid ( a_uuid ) </title></a>
<a xlink:href='#rel_two_group.a_uuid'><text id='altdrump.rel_two_group.a_uuid' x='468' y='771'>a_uuid</text><title>a_uuid
* uuid
a person uuid</title></a>
  <use id='nn' x='452' y='777' xlink:href='#nn'/><a xlink:href='#rel_two_group.b_uuid'><use id='idx' x='452' y='776' xlink:href='#idx'/><title>idx_rel_two_group_b_uuid ( b_uuid ) </title></a>
<a xlink:href='#rel_two_group.b_uuid'><text id='altdrump.rel_two_group.b_uuid' x='468' y='786'>b_uuid</text><title>b_uuid
* uuid
b person uuid</title></a>
  <use id='nn' x='452' y='792' xlink:href='#nn'/><a xlink:href='#rel_two_group.mq_grp_uuid'><use id='idx' x='452' y='791' xlink:href='#idx'/><title>idx_rel_two_group_mq_g_id ( mq_grp_uuid ) </title></a>
<a xlink:href='#rel_two_group.mq_grp_uuid'><text id='altdrump.rel_two_group.mq_grp_uuid' x='468' y='801'>mq_grp_uuid</text><title>mq_grp_uuid
* uuid</title></a>

<!-- == Table 'rel_msg_user' == -->
<rect class='entity' x='165' y='1028' width='105' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 165 1054 L 165 1035 Q 165 1028 172 1028 L 263 1028 Q 270 1028 270 1035 L 270 1054 L165 1054 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='165' y='1028' width='105' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='165' y1='1054' x2='270' y2='1054' style='stroke:#aeb7bf'/>
<line class='delim' x1='180' y1='1054' x2='180' y2='1163' style='stroke:#aeb7bf'/>
<line class='delim' x1='259' y1='1054' x2='259' y2='1163' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_msg_user'><text x='182' y='1046'>rel_msg_user</text><title>Table altdrump.rel_msg_user</title></a>
  <use id='nn' x='167' y='1062' xlink:href='#nn'/><a xlink:href='#rel_msg_user.uuid'><use id='pk' x='167' y='1061' xlink:href='#pk'/><title>Pk pk_rel_user_msg_id ( uuid ) </title></a>
<a xlink:href='#rel_msg_user.uuid'><text id='altdrump.rel_msg_user.uuid' x='183' y='1071'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='167' y='1077' xlink:href='#nn'/><a xlink:href='#rel_msg_user.mq_msg_uuid'><use id='idx' x='167' y='1076' xlink:href='#idx'/><title>idx_rel_msg_user_mq_m_id ( mq_msg_uuid ) </title></a>
<a xlink:href='#rel_msg_user.mq_msg_uuid'><text id='altdrump.rel_msg_user.mq_msg_uuid' x='183' y='1086'>mq_msg_uuid</text><title>mq_msg_uuid
* uuid
mq message uuid</title></a>
  <use id='nn' x='167' y='1092' xlink:href='#nn'/><a xlink:href='#rel_msg_user.user_uuid'><use id='idx' x='167' y='1091' xlink:href='#idx'/><title>idx_rel_msg_user_u_id ( user_uuid ) </title></a>
<a xlink:href='#rel_msg_user.user_uuid'><text id='altdrump.rel_msg_user.user_uuid' x='183' y='1101'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <use id='nn' x='167' y='1107' xlink:href='#nn'/><a xlink:href='#rel_msg_user.send_at'><text id='altdrump.rel_msg_user.send_at' x='183' y='1116'>send_at</text><title>send_at
* timestamptz default current_timestamp
傳送時間</title></a>
<text x='267' y='1113' text-anchor='end' class='colType'>d</text>  <a xlink:href='#rel_msg_user.read_at'><text id='altdrump.rel_msg_user.read_at' x='183' y='1131'>read_at</text><title>read_at
timestamptz</title></a>
<text x='267' y='1128' text-anchor='end' class='colType'>d</text>  <use id='nn' x='167' y='1137' xlink:href='#nn'/><a xlink:href='#rel_msg_user.owner'><text id='altdrump.rel_msg_user.owner' x='183' y='1146'>owner</text><title>owner
* bool default false
message owner</title></a>
<text x='267' y='1143' text-anchor='end' class='colType'>b</text>
<!-- == Table 'iot_device_media' == -->
<rect class='entity' x='705' y='1058' width='105' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 705 1084 L 705 1065 Q 705 1058 712 1058 L 803 1058 Q 810 1058 810 1065 L 810 1084 L705 1084 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='705' y='1058' width='105' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='705' y1='1084' x2='810' y2='1084' style='stroke:#aeb7bf'/>
<line class='delim' x1='720' y1='1084' x2='720' y2='1163' style='stroke:#aeb7bf'/>
<line class='delim' x1='799' y1='1084' x2='799' y2='1163' style='stroke:#aeb7bf'/>
<a xlink:href='#iot_device_media'><text x='711' y='1076'>iot_device_media</text><title>Table altdrump.iot_device_media
裝置相關媒體</title></a>
  <use id='nn' x='707' y='1092' xlink:href='#nn'/><a xlink:href='#iot_device_media.uuid'><use id='pk' x='707' y='1091' xlink:href='#pk'/><title>Pk pk_iot_device_media_id ( uuid ) </title></a>
<a xlink:href='#iot_device_media.uuid'><text id='altdrump.iot_device_media.uuid' x='723' y='1101'>uuid</text><title>uuid
* uuid default gen_random_uuid()</title></a>
  <use id='nn' x='707' y='1107' xlink:href='#nn'/><a xlink:href='#iot_device_media.dev_uuid'><use id='idx' x='707' y='1106' xlink:href='#idx'/><title>idx_iot_device_media_d_id ( dev_uuid ) </title></a>
<a xlink:href='#iot_device_media.dev_uuid'><text id='altdrump.iot_device_media.dev_uuid' x='723' y='1116'>dev_uuid</text><title>dev_uuid
* uuid
device id</title></a>
  <use id='nn' x='707' y='1122' xlink:href='#nn'/><a xlink:href='#iot_device_media.uer_uuid'><use id='idx' x='707' y='1121' xlink:href='#idx'/><title>idx_iot_device_media_u_id ( uer_uuid ) </title></a>
<a xlink:href='#iot_device_media.uer_uuid'><text id='altdrump.iot_device_media.uer_uuid' x='723' y='1131'>uer_uuid</text><title>uer_uuid
* uuid
user uuid</title></a>
  <a xlink:href='#iot_device_media.url'><text id='altdrump.iot_device_media.url' x='723' y='1146'>url</text><title>url
varchar(1024)
資源網址</title></a>
<text x='807' y='1143' text-anchor='end' class='colType'>t</text>
<!-- == Table 'iot_device_chara' == -->
<rect class='entity' x='855' y='728' width='105' height='180' rx='7' ry='7' style='stroke:none'/>
<path d='M 855 754 L 855 735 Q 855 728 862 728 L 953 728 Q 960 728 960 735 L 960 754 L855 754 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='855' y='728' width='105' height='180' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='855' y1='754' x2='960' y2='754' style='stroke:#aeb7bf'/>
<line class='delim' x1='870' y1='754' x2='870' y2='908' style='stroke:#aeb7bf'/>
<line class='delim' x1='949' y1='754' x2='949' y2='908' style='stroke:#aeb7bf'/>
<a xlink:href='#iot_device_chara'><text x='863' y='746'>iot_device_chara</text><title>Table altdrump.iot_device_chara
iot device characteristic</title></a>
  <use id='nn' x='857' y='762' xlink:href='#nn'/><a xlink:href='#iot_device_chara.uuid'><use id='pk' x='857' y='761' xlink:href='#pk'/><title>Pk pk_mq_group_permission_id ( uuid ) </title></a>
<a xlink:href='#iot_device_chara.uuid'><text id='altdrump.iot_device_chara.uuid' x='873' y='771'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='857' y='777' xlink:href='#nn'/><a xlink:href='#iot_device_chara.dev_uuid'><use id='idx' x='857' y='776' xlink:href='#idx'/><title>idx_iot_device_chara_d_id ( dev_uuid ) </title></a>
<a xlink:href='#iot_device_chara.dev_uuid'><text id='altdrump.iot_device_chara.dev_uuid' x='873' y='786'>dev_uuid</text><title>dev_uuid
* uuid</title></a>
  <a xlink:href='#iot_device_chara.desciption'><text id='altdrump.iot_device_chara.desciption' x='873' y='801'>desciption</text><title>desciption
text
chars description</title></a>
<text x='957' y='798' text-anchor='end' class='colType'>t</text>  <use id='nn' x='857' y='807' xlink:href='#nn'/><a xlink:href='#iot_device_chara.has_write'><text id='altdrump.iot_device_chara.has_write' x='873' y='816'>has_write</text><title>has_write
* bool default false</title></a>
<text x='957' y='813' text-anchor='end' class='colType'>b</text>  <use id='nn' x='857' y='822' xlink:href='#nn'/><a xlink:href='#iot_device_chara.has_read'><use id='idx' x='857' y='821' xlink:href='#idx'/><title>idx_mq_group_permission_mq_g_id ( has_read ) </title></a>
<a xlink:href='#iot_device_chara.has_read'><text id='altdrump.iot_device_chara.has_read' x='873' y='831'>has_read</text><title>has_read
* bool default false</title></a>
<text x='957' y='828' text-anchor='end' class='colType'>b</text>  <use id='nn' x='857' y='837' xlink:href='#nn'/><a xlink:href='#iot_device_chara.has_notify'><text id='altdrump.iot_device_chara.has_notify' x='873' y='846'>has_notify</text><title>has_notify
* bool default false</title></a>
<text x='957' y='843' text-anchor='end' class='colType'>b</text>  <a xlink:href='#iot_device_chara.write_role'><text id='altdrump.iot_device_chara.write_role' x='873' y='861'>write_role</text><title>write_role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='957' y='858' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device_chara.read_role'><text id='altdrump.iot_device_chara.read_role' x='873' y='876'>read_role</text><title>read_role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='957' y='873' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device_chara.notify_role'><text id='altdrump.iot_device_chara.notify_role' x='873' y='891'>notify_role</text><title>notify_role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='957' y='888' text-anchor='end' class='colType'>t</text>
<!-- == Table 'rel_mq_group_device' == -->
<rect class='entity' x='330' y='848' width='120' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 330 874 L 330 855 Q 330 848 337 848 L 443 848 Q 450 848 450 855 L 450 874 L330 874 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='330' y='848' width='120' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='330' y1='874' x2='450' y2='874' style='stroke:#aeb7bf'/>
<line class='delim' x1='345' y1='874' x2='345' y2='968' style='stroke:#aeb7bf'/>
<line class='delim' x1='439' y1='874' x2='439' y2='968' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_mq_group_device'><text x='334' y='866'>rel_mq_group_device</text><title>Table altdrump.rel_mq_group_device
群組底下的成員(使用者/裝置)</title></a>
  <use id='nn' x='332' y='882' xlink:href='#nn'/><a xlink:href='#rel_mq_group_device.uuid'><use id='pk' x='332' y='881' xlink:href='#pk'/><title>Pk pk_rel_mq_group_id_0 ( uuid ) </title></a>
<a xlink:href='#rel_mq_group_device.uuid'><text id='altdrump.rel_mq_group_device.uuid' x='348' y='891'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='332' y='897' xlink:href='#nn'/><a xlink:href='#rel_mq_group_device.mq_grp_uuid'><use id='idx' x='332' y='896' xlink:href='#idx'/><title>idx_rel_mq_group_mq_g_id_0 ( mq_grp_uuid ) </title></a>
<a xlink:href='#rel_mq_group_device.mq_grp_uuid'><text id='altdrump.rel_mq_group_device.mq_grp_uuid' x='348' y='906'>mq_grp_uuid</text><title>mq_grp_uuid
* uuid
mq ground uuid</title></a>
  <use id='nn' x='332' y='912' xlink:href='#nn'/><a xlink:href='#rel_mq_group_device.dev_uuid'><use id='idx' x='332' y='911' xlink:href='#idx'/><title>idx_rel_mq_group_device_d_id ( dev_uuid ) </title></a>
<a xlink:href='#rel_mq_group_device.dev_uuid'><text id='altdrump.rel_mq_group_device.dev_uuid' x='348' y='921'>dev_uuid</text><title>dev_uuid
* uuid
user id or device uuid</title></a>
  <a xlink:href='#rel_mq_group_device.role'><text id='altdrump.rel_mq_group_device.role' x='348' y='936'>role</text><title>role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='447' y='933' text-anchor='end' class='colType'>t</text>  <use id='nn' x='332' y='942' xlink:href='#nn'/><a xlink:href='#rel_mq_group_device.join_at'><text id='altdrump.rel_mq_group_device.join_at' x='348' y='951'>join_at</text><title>join_at
* timestamptz default current_timestamp
加入時間</title></a>
<text x='447' y='948' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_msg_device' == -->
<rect class='entity' x='45' y='1208' width='105' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 45 1234 L 45 1215 Q 45 1208 52 1208 L 143 1208 Q 150 1208 150 1215 L 150 1234 L45 1234 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='45' y='1208' width='105' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='45' y1='1234' x2='150' y2='1234' style='stroke:#aeb7bf'/>
<line class='delim' x1='60' y1='1234' x2='60' y2='1343' style='stroke:#aeb7bf'/>
<line class='delim' x1='139' y1='1234' x2='139' y2='1343' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_msg_device'><text x='57' y='1226'>rel_msg_device</text><title>Table altdrump.rel_msg_device</title></a>
  <use id='nn' x='47' y='1242' xlink:href='#nn'/><a xlink:href='#rel_msg_device.uuid'><use id='pk' x='47' y='1241' xlink:href='#pk'/><title>Pk pk_rel_msg_device_id ( uuid ) </title></a>
<a xlink:href='#rel_msg_device.uuid'><text id='altdrump.rel_msg_device.uuid' x='63' y='1251'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='47' y='1257' xlink:href='#nn'/><a xlink:href='#rel_msg_device.mq_msg_uuid'><use id='idx' x='47' y='1256' xlink:href='#idx'/><title>idx_rel_msg_device_mq_m_id ( mq_msg_uuid ) </title></a>
<a xlink:href='#rel_msg_device.mq_msg_uuid'><text id='altdrump.rel_msg_device.mq_msg_uuid' x='63' y='1266'>mq_msg_uuid</text><title>mq_msg_uuid
* uuid</title></a>
  <use id='nn' x='47' y='1272' xlink:href='#nn'/><a xlink:href='#rel_msg_device.dev_uuid'><use id='idx' x='47' y='1271' xlink:href='#idx'/><title>idx_rel_msg_device_d_id ( dev_uuid ) </title></a>
<a xlink:href='#rel_msg_device.dev_uuid'><text id='altdrump.rel_msg_device.dev_uuid' x='63' y='1281'>dev_uuid</text><title>dev_uuid
* uuid</title></a>
  <use id='nn' x='47' y='1287' xlink:href='#nn'/><a xlink:href='#rel_msg_device.send_at'><text id='altdrump.rel_msg_device.send_at' x='63' y='1296'>send_at</text><title>send_at
* timestamptz default current_timestamp</title></a>
<text x='147' y='1293' text-anchor='end' class='colType'>d</text>  <a xlink:href='#rel_msg_device.read_at'><text id='altdrump.rel_msg_device.read_at' x='63' y='1311'>read_at</text><title>read_at
timestamptz</title></a>
<text x='147' y='1308' text-anchor='end' class='colType'>d</text>  <use id='nn' x='47' y='1317' xlink:href='#nn'/><a xlink:href='#rel_msg_device.owner'><text id='altdrump.rel_msg_device.owner' x='63' y='1326'>owner</text><title>owner
* bool default false</title></a>
<text x='147' y='1323' text-anchor='end' class='colType'>b</text>
<!-- == Table 'mq_message' == -->
<rect class='entity' x='45' y='1028' width='105' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 45 1054 L 45 1035 Q 45 1028 52 1028 L 143 1028 Q 150 1028 150 1035 L 150 1054 L45 1054 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='45' y='1028' width='105' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='45' y1='1054' x2='150' y2='1054' style='stroke:#aeb7bf'/>
<line class='delim' x1='60' y1='1054' x2='60' y2='1178' style='stroke:#aeb7bf'/>
<line class='delim' x1='139' y1='1054' x2='139' y2='1178' style='stroke:#aeb7bf'/>
<a xlink:href='#mq_message'><text x='63' y='1046'>mq_message</text><title>Table altdrump.mq_message
群組資訊</title></a>
  <use id='nn' x='47' y='1062' xlink:href='#nn'/><a xlink:href='#mq_message.uuid'><use id='pk' x='47' y='1061' xlink:href='#pk'/><title>Pk pk_message_id ( uuid ) </title></a>
<a xlink:href='#mq_message.uuid'><text id='altdrump.mq_message.uuid' x='63' y='1071'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='47' y='1077' xlink:href='#nn'/><a xlink:href='#mq_message.mq_grp_uuid'><use id='idx' x='47' y='1076' xlink:href='#idx'/><title>idx_mq_message_mg_g_id ( mq_grp_uuid ) </title></a>
<a xlink:href='#mq_message.mq_grp_uuid'><text id='altdrump.mq_message.mq_grp_uuid' x='63' y='1086'>mq_grp_uuid</text><title>mq_grp_uuid
* uuid
mg group id</title></a>
  <use id='nn' x='47' y='1092' xlink:href='#nn'/><a xlink:href='#mq_message.read_count'><text id='altdrump.mq_message.read_count' x='63' y='1101'>read_count</text><title>read_count
* smallint default 0</title></a>
<text x='147' y='1098' text-anchor='end' class='colType'>#</text>  <a xlink:href='#mq_message.message'><text id='altdrump.mq_message.message' x='63' y='1116'>message</text><title>message
text</title></a>
<text x='147' y='1113' text-anchor='end' class='colType'>t</text>  <use id='nn' x='47' y='1122' xlink:href='#nn'/><a xlink:href='#mq_message.type'><text id='altdrump.mq_message.type' x='63' y='1131'>type</text><title>type
* varchar(1) default 1
1: text</title></a>
<text x='147' y='1128' text-anchor='end' class='colType'>t</text>  <a xlink:href='#mq_message.created_at'><text id='altdrump.mq_message.created_at' x='63' y='1146'>created_at</text><title>created_at
timestamptz default current_timestamp</title></a>
<text x='147' y='1143' text-anchor='end' class='colType'>d</text>  <use id='nn' x='47' y='1152' xlink:href='#nn'/><a xlink:href='#mq_message.sender_uuid'><text id='altdrump.mq_message.sender_uuid' x='63' y='1161'>sender_uuid</text><title>sender_uuid
* uuid
發送者的uuid</title></a>

<!-- == Table 'mq_group' == -->
<rect class='entity' x='210' y='713' width='90' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 210 739 L 210 720 Q 210 713 217 713 L 293 713 Q 300 713 300 720 L 300 739 L210 739 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='210' y='713' width='90' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='210' y1='739' x2='300' y2='739' style='stroke:#aeb7bf'/>
<line class='delim' x1='225' y1='739' x2='225' y2='848' style='stroke:#aeb7bf'/>
<line class='delim' x1='289' y1='739' x2='289' y2='848' style='stroke:#aeb7bf'/>
<a xlink:href='#mq_group'><text x='227' y='731'>mq_group</text><title>Table altdrump.mq_group
mqtt群組</title></a>
  <use id='nn' x='212' y='747' xlink:href='#nn'/><a xlink:href='#mq_group.uuid'><use id='pk' x='212' y='746' xlink:href='#pk'/><title>Pk pk_mq_group_id ( uuid ) </title></a>
<a xlink:href='#mq_group.uuid'><text id='altdrump.mq_group.uuid' x='228' y='756'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='212' y='762' xlink:href='#nn'/><a xlink:href='#mq_group.app_uuid'><use id='idx' x='212' y='761' xlink:href='#idx'/><title>idx_mq_group_app_id ( app_uuid ) </title></a>
<a xlink:href='#mq_group.app_uuid'><text id='altdrump.mq_group.app_uuid' x='228' y='771'>app_uuid</text><title>app_uuid
* uuid</title></a>
  <use id='nn' x='212' y='777' xlink:href='#nn'/><a xlink:href='#mq_group.name'><text id='altdrump.mq_group.name' x='228' y='786'>name</text><title>name
* varchar(100) default 'group name'</title></a>
<text x='297' y='783' text-anchor='end' class='colType'>t</text>  <a xlink:href='#mq_group.key'><text id='altdrump.mq_group.key' x='228' y='801'>key</text><title>key
varchar(32)
加入群組所需驗證的密鑰</title></a>
<text x='297' y='798' text-anchor='end' class='colType'>t</text>  <use id='nn' x='212' y='807' xlink:href='#nn'/><a xlink:href='#mq_group.is_delete'><text id='altdrump.mq_group.is_delete' x='228' y='816'>is_delete</text><title>is_delete
* bool default false
群組是否被刪除</title></a>
<text x='297' y='813' text-anchor='end' class='colType'>b</text>  <use id='nn' x='212' y='822' xlink:href='#nn'/><a xlink:href='#mq_group.created_at'><text id='altdrump.mq_group.created_at' x='228' y='831'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='297' y='828' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_friend' == -->
<rect class='entity' x='870' y='923' width='105' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 870 949 L 870 930 Q 870 923 877 923 L 968 923 Q 975 923 975 930 L 975 949 L870 949 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='870' y='923' width='105' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='870' y1='949' x2='975' y2='949' style='stroke:#aeb7bf'/>
<line class='delim' x1='885' y1='949' x2='885' y2='1043' style='stroke:#aeb7bf'/>
<line class='delim' x1='964' y1='949' x2='964' y2='1043' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_friend'><text x='895' y='941'>rel_friend</text><title>Table altdrump.rel_friend
朋友關係</title></a>
  <use id='nn' x='872' y='957' xlink:href='#nn'/><a xlink:href='#rel_friend.id'><use id='pk' x='872' y='956' xlink:href='#pk'/><title>Pk pk_rel_friend_id ( id ) </title></a>
<a xlink:href='#rel_friend.id'><text id='altdrump.rel_friend.id' x='888' y='966'>id</text><title>id
* bigserial</title></a>
<text x='972' y='963' text-anchor='end' class='colType'>#</text>  <use id='nn' x='872' y='972' xlink:href='#nn'/><a xlink:href='#rel_friend.user_uuid'><use id='idx' x='872' y='971' xlink:href='#idx'/><title>idx_rel_friend_u_id ( user_uuid ) </title></a>
<a xlink:href='#rel_friend.user_uuid'><text id='altdrump.rel_friend.user_uuid' x='888' y='981'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <use id='nn' x='872' y='987' xlink:href='#nn'/><a xlink:href='#rel_friend.fri_user_uuid'><use id='idx' x='872' y='986' xlink:href='#idx'/><title>idx_rel_friend_fri_u_id ( fri_user_uuid ) </title></a>
<a xlink:href='#rel_friend.fri_user_uuid'><text id='altdrump.rel_friend.fri_user_uuid' x='888' y='996'>fri_user_uuid</text><title>fri_user_uuid
* uuid
朋友uuid</title></a>
  <use id='nn' x='872' y='1002' xlink:href='#nn'/><a xlink:href='#rel_friend.is_friend'><text id='altdrump.rel_friend.is_friend' x='888' y='1011'>is_friend</text><title>is_friend
* bool default true</title></a>
<text x='972' y='1008' text-anchor='end' class='colType'>b</text>  <use id='nn' x='872' y='1017' xlink:href='#nn'/><a xlink:href='#rel_friend.created_at'><text id='altdrump.rel_friend.created_at' x='888' y='1026'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='972' y='1023' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_mq_group_user' == -->
<rect class='entity' x='330' y='713' width='105' height='120' rx='7' ry='7' style='stroke:none'/>
<path d='M 330 739 L 330 720 Q 330 713 337 713 L 428 713 Q 435 713 435 720 L 435 739 L330 739 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='330' y='713' width='105' height='120' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='330' y1='739' x2='435' y2='739' style='stroke:#aeb7bf'/>
<line class='delim' x1='345' y1='739' x2='345' y2='833' style='stroke:#aeb7bf'/>
<line class='delim' x1='424' y1='739' x2='424' y2='833' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_mq_group_user'><text x='332' y='731'>rel_mq_group_user</text><title>Table altdrump.rel_mq_group_user
群組底下的成員使用者</title></a>
  <use id='nn' x='332' y='747' xlink:href='#nn'/><a xlink:href='#rel_mq_group_user.uuid'><use id='pk' x='332' y='746' xlink:href='#pk'/><title>Pk pk_rel_mq_group_id ( uuid ) </title></a>
<a xlink:href='#rel_mq_group_user.uuid'><text id='altdrump.rel_mq_group_user.uuid' x='348' y='756'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='332' y='762' xlink:href='#nn'/><a xlink:href='#rel_mq_group_user.mq_grp_uuid'><use id='idx' x='332' y='761' xlink:href='#idx'/><title>idx_rel_mq_group_mq_g_id ( mq_grp_uuid ) </title></a>
<a xlink:href='#rel_mq_group_user.mq_grp_uuid'><text id='altdrump.rel_mq_group_user.mq_grp_uuid' x='348' y='771'>mq_grp_uuid</text><title>mq_grp_uuid
* uuid
mq ground uuid</title></a>
  <use id='nn' x='332' y='777' xlink:href='#nn'/><a xlink:href='#rel_mq_group_user.user_uuid'><use id='idx' x='332' y='776' xlink:href='#idx'/><title>idx_rel_mq_group_user_user_uuid ( user_uuid ) </title></a>
<a xlink:href='#rel_mq_group_user.user_uuid'><text id='altdrump.rel_mq_group_user.user_uuid' x='348' y='786'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <a xlink:href='#rel_mq_group_user.role'><text id='altdrump.rel_mq_group_user.role' x='348' y='801'>role</text><title>role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='432' y='798' text-anchor='end' class='colType'>t</text>  <use id='nn' x='332' y='807' xlink:href='#nn'/><a xlink:href='#rel_mq_group_user.join_at'><text id='altdrump.rel_mq_group_user.join_at' x='348' y='816'>join_at</text><title>join_at
* timestamptz default current_timestamp
加入時間</title></a>
<text x='432' y='813' text-anchor='end' class='colType'>d</text>
<!-- == Table 'rel_user_device' == -->
<rect class='entity' x='570' y='848' width='90' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 570 874 L 570 855 Q 570 848 577 848 L 653 848 Q 660 848 660 855 L 660 874 L570 874 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='570' y='848' width='90' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='570' y1='874' x2='660' y2='874' style='stroke:#aeb7bf'/>
<line class='delim' x1='585' y1='874' x2='585' y2='998' style='stroke:#aeb7bf'/>
<line class='delim' x1='649' y1='874' x2='649' y2='998' style='stroke:#aeb7bf'/>
<a xlink:href='#rel_user_device'><text x='574' y='866'>rel_user_device</text><title>Table altdrump.rel_user_device
使用者底下的裝置</title></a>
  <use id='nn' x='572' y='882' xlink:href='#nn'/><a xlink:href='#rel_user_device.id'><use id='pk' x='572' y='881' xlink:href='#pk'/><title>Pk pk_rel_user_device_id ( id ) </title></a>
<a xlink:href='#rel_user_device.id'><text id='altdrump.rel_user_device.id' x='588' y='891'>id</text><title>id
* bigserial</title></a>
<text x='657' y='888' text-anchor='end' class='colType'>#</text>  <use id='nn' x='572' y='897' xlink:href='#nn'/><a xlink:href='#rel_user_device.user_uuid'><use id='idx' x='572' y='896' xlink:href='#idx'/><title>idx_rel_user_device_u_id ( user_uuid ) </title></a>
<a xlink:href='#rel_user_device.user_uuid'><text id='altdrump.rel_user_device.user_uuid' x='588' y='906'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <use id='nn' x='572' y='912' xlink:href='#nn'/><a xlink:href='#rel_user_device.dev_uuid'><use id='idx' x='572' y='911' xlink:href='#idx'/><title>idx_rel_user_device_d_id ( dev_uuid ) </title></a>
<a xlink:href='#rel_user_device.dev_uuid'><text id='altdrump.rel_user_device.dev_uuid' x='588' y='921'>dev_uuid</text><title>dev_uuid
* uuid</title></a>
  <use id='nn' x='572' y='927' xlink:href='#nn'/><a xlink:href='#rel_user_device.bind_at'><text id='altdrump.rel_user_device.bind_at' x='588' y='936'>bind_at</text><title>bind_at
* timestamptz default current_timestamp
綁定時間</title></a>
<text x='657' y='933' text-anchor='end' class='colType'>d</text>  <a xlink:href='#rel_user_device.unbind_at'><text id='altdrump.rel_user_device.unbind_at' x='588' y='951'>unbind_at</text><title>unbind_at
timestamptz
解除綁定時間</title></a>
<text x='657' y='948' text-anchor='end' class='colType'>d</text>  <use id='nn' x='572' y='957' xlink:href='#nn'/><a xlink:href='#rel_user_device.is_bind'><text id='altdrump.rel_user_device.is_bind' x='588' y='966'>is_bind</text><title>is_bind
* bool default true
裝置是否已經綁定,false代表使用者解除綁定</title></a>
<text x='657' y='963' text-anchor='end' class='colType'>b</text>  <a xlink:href='#rel_user_device.role'><text id='altdrump.rel_user_device.role' x='588' y='981'>role</text><title>role
varchar(1) default 2
1:manager,2:guest</title></a>
<text x='657' y='978' text-anchor='end' class='colType'>t</text>
<!-- == Table 'iot_device_behavior' == -->
<rect class='entity' x='555' y='1043' width='120' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 555 1069 L 555 1050 Q 555 1043 562 1043 L 668 1043 Q 675 1043 675 1050 L 675 1069 L555 1069 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='555' y='1043' width='120' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='555' y1='1069' x2='675' y2='1069' style='stroke:#aeb7bf'/>
<line class='delim' x1='570' y1='1069' x2='570' y2='1178' style='stroke:#aeb7bf'/>
<line class='delim' x1='664' y1='1069' x2='664' y2='1178' style='stroke:#aeb7bf'/>
<a xlink:href='#iot_device_behavior'><text x='563' y='1061'>iot_device_behavior</text><title>Table altdrump.iot_device_behavior</title></a>
  <a xlink:href='#iot_device_behavior.uuid'><text id='altdrump.iot_device_behavior.uuid' x='573' y='1086'>uuid</text><title>uuid
uuid</title></a>
  <a xlink:href='#iot_device_behavior.device_uuid '><text id='altdrump.iot_device_behavior.device_uuid ' x='573' y='1101'>device_uuid </text><title>device_uuid 
uuid</title></a>
  <a xlink:href='#iot_device_behavior.name'><text id='altdrump.iot_device_behavior.name' x='573' y='1116'>name</text><title>name
varchar(32)
行為名稱</title></a>
<text x='672' y='1113' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device_behavior.key'><text id='altdrump.iot_device_behavior.key' x='573' y='1131'>key</text><title>key
varchar(16)</title></a>
<text x='672' y='1128' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device_behavior.value'><text id='altdrump.iot_device_behavior.value' x='573' y='1146'>value</text><title>value
varchar(64)</title></a>
<text x='672' y='1143' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device_behavior.definition'><text id='altdrump.iot_device_behavior.definition' x='573' y='1161'>definition</text><title>definition
varchar(255)
描述</title></a>
<text x='672' y='1158' text-anchor='end' class='colType'>t</text>
<!-- == Table 'iot_device' == -->
<rect class='entity' x='690' y='848' width='120' height='195' rx='7' ry='7' style='stroke:none'/>
<path d='M 690 874 L 690 855 Q 690 848 697 848 L 803 848 Q 810 848 810 855 L 810 874 L690 874 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='690' y='848' width='120' height='195' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='690' y1='874' x2='810' y2='874' style='stroke:#aeb7bf'/>
<line class='delim' x1='705' y1='874' x2='705' y2='1043' style='stroke:#aeb7bf'/>
<line class='delim' x1='799' y1='874' x2='799' y2='1043' style='stroke:#aeb7bf'/>
<a xlink:href='#iot_device'><text x='722' y='866'>iot_device</text><title>Table altdrump.iot_device</title></a>
  <use id='nn' x='692' y='882' xlink:href='#nn'/><a xlink:href='#iot_device.uuid'><use id='pk' x='692' y='881' xlink:href='#pk'/><title>Pk pk_iot_device_uuid ( uuid ) </title></a>
<a xlink:href='#iot_device.uuid'><text id='altdrump.iot_device.uuid' x='708' y='891'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='692' y='897' xlink:href='#nn'/><a xlink:href='#iot_device.name'><text id='altdrump.iot_device.name' x='708' y='906'>name</text><title>name
* varchar(100) default 'device name'</title></a>
<text x='807' y='903' text-anchor='end' class='colType'>t</text>  <use id='nn' x='692' y='912' xlink:href='#nn'/><a xlink:href='#iot_device.udid'><text id='altdrump.iot_device.udid' x='708' y='921'>udid</text><title>udid
* varchar(64)
裝置唯一識別碼</title></a>
<text x='807' y='918' text-anchor='end' class='colType'>t</text>  <a xlink:href='#iot_device.aes'><text id='altdrump.iot_device.aes' x='708' y='936'>aes</text><title>aes
varchar(128)
AES密鑰</title></a>
<text x='807' y='933' text-anchor='end' class='colType'>t</text>  <use id='nn' x='692' y='942' xlink:href='#nn'/><a xlink:href='#iot_device.create_by_uuid'><use id='idx' x='692' y='941' xlink:href='#idx'/><title>idx_iot_device_create_by_uuid ( create_by_uuid ) </title></a>
<a xlink:href='#iot_device.create_by_uuid'><text id='altdrump.iot_device.create_by_uuid' x='708' y='951'>create_by_uuid</text><title>create_by_uuid
* uuid
由user uuid建立</title></a>
  <use id='nn' x='692' y='957' xlink:href='#nn'/><a xlink:href='#iot_device.is_disable'><text id='altdrump.iot_device.is_disable' x='708' y='966'>is_disable</text><title>is_disable
* bool default true
裝置有效狀態，false代表此裝置已經不可用</title></a>
<text x='807' y='963' text-anchor='end' class='colType'>b</text>  <use id='nn' x='692' y='972' xlink:href='#nn'/><a xlink:href='#iot_device.is_online'><text id='altdrump.iot_device.is_online' x='708' y='981'>is_online</text><title>is_online
* bool default false
裝置是否在線上(廢棄，使用ping_at時間來判斷是在線)</title></a>
<text x='807' y='978' text-anchor='end' class='colType'>b</text>  <use id='nn' x='692' y='987' xlink:href='#nn'/><a xlink:href='#iot_device.created_at'><text id='altdrump.iot_device.created_at' x='708' y='996'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='807' y='993' text-anchor='end' class='colType'>d</text>  <a xlink:href='#iot_device.ping_at'><text id='altdrump.iot_device.ping_at' x='708' y='1011'>ping_at</text><title>ping_at
timestamptz
最後ping時間(廢棄，使用redis)</title></a>
<text x='807' y='1008' text-anchor='end' class='colType'>d</text>  <a xlink:href='#iot_device.secret'><text id='altdrump.iot_device.secret' x='708' y='1026'>secret</text><title>secret
varchar(16)
金鑰。裝置推播驗證使用。</title></a>
<text x='807' y='1023' text-anchor='end' class='colType'>t</text>
<!-- == Table 'key_value' == -->
<rect class='entity' x='780' y='1193' width='60' height='75' rx='7' ry='7' style='stroke:none'/>
<path d='M 780 1219 L 780 1200 Q 780 1193 787 1193 L 833 1193 Q 840 1193 840 1200 L 840 1219 L780 1219 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='780' y='1193' width='60' height='75' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='780' y1='1219' x2='840' y2='1219' style='stroke:#aeb7bf'/>
<line class='delim' x1='795' y1='1219' x2='795' y2='1268' style='stroke:#aeb7bf'/>
<line class='delim' x1='829' y1='1219' x2='829' y2='1268' style='stroke:#aeb7bf'/>
<a xlink:href='#key_value'><text x='782' y='1211'>key_value</text><title>Table altdrump.key_value</title></a>
  <use id='nn' x='782' y='1227' xlink:href='#nn'/><a xlink:href='#key_value.key'><use id='pk' x='782' y='1226' xlink:href='#pk'/><title>Pk pk_key_value_key ( key ) </title></a>
<a xlink:href='#key_value.key'><text id='altdrump.key_value.key' x='798' y='1236'>key</text><title>key
* varchar(255)</title></a>
<text x='837' y='1233' text-anchor='end' class='colType'>t</text>  <a xlink:href='#key_value.value'><text id='altdrump.key_value.value' x='798' y='1251'>value</text><title>value
varchar(4096)</title></a>
<text x='837' y='1248' text-anchor='end' class='colType'>t</text>
<!-- == Table 'user_vendor' == -->
<rect class='entity' x='810' y='263' width='90' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 810 289 L 810 270 Q 810 263 817 263 L 893 263 Q 900 263 900 270 L 900 289 L810 289 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='810' y='263' width='90' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='810' y1='289' x2='900' y2='289' style='stroke:#aeb7bf'/>
<line class='delim' x1='825' y1='289' x2='825' y2='368' style='stroke:#aeb7bf'/>
<line class='delim' x1='889' y1='289' x2='889' y2='368' style='stroke:#aeb7bf'/>
<a xlink:href='#user_vendor'><text x='822' y='281'>user_vendor</text><title>Table altdrump.user_vendor
使用者與供應商綁定關係</title></a>
  <use id='nn' x='812' y='297' xlink:href='#nn'/><a xlink:href='#user_vendor.uuid'><use id='pk' x='812' y='296' xlink:href='#pk'/><title>Pk pk_user_vendor_uuid ( uuid ) </title></a>
<a xlink:href='#user_vendor.uuid'><text id='altdrump.user_vendor.uuid' x='828' y='306'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='812' y='312' xlink:href='#nn'/><a xlink:href='#user_vendor.code'><text id='altdrump.user_vendor.code' x='828' y='321'>code</text><title>code
* smallint default 0</title></a>
<text x='897' y='318' text-anchor='end' class='colType'>#</text>  <use id='nn' x='812' y='327' xlink:href='#nn'/><a xlink:href='#user_vendor.user_uuid'><text id='altdrump.user_vendor.user_uuid' x='828' y='336'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <a xlink:href='#user_vendor.created_at'><text id='altdrump.user_vendor.created_at' x='828' y='351'>created_at</text><title>created_at
timestamptz default current_timestamp</title></a>
<text x='897' y='348' text-anchor='end' class='colType'>d</text>
<!-- == Table 'local_user' == -->
<rect class='entity' x='645' y='263' width='120' height='240' rx='7' ry='7' style='stroke:none'/>
<path d='M 645 289 L 645 270 Q 645 263 652 263 L 758 263 Q 765 263 765 270 L 765 289 L645 289 ' style='fill:url(#tbg_bfd4f5);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='645' y='263' width='120' height='240' rx='7' ry='7' style='fill:none;stroke:#aeb5bf'/>
<line class='delim' x1='645' y1='289' x2='765' y2='289' style='stroke:#aeb5bf'/>
<line class='delim' x1='660' y1='289' x2='660' y2='503' style='stroke:#aeb5bf'/>
<line class='delim' x1='754' y1='289' x2='754' y2='503' style='stroke:#aeb5bf'/>
<a xlink:href='#local_user'><text x='677' y='281'>local_user</text><title>Table altdrump.local_user
使用者</title></a>
  <use id='nn' x='647' y='297' xlink:href='#nn'/><a xlink:href='#local_user.id'><use id='pk' x='647' y='296' xlink:href='#pk'/><title>Pk pk_table_id ( id ) </title></a>
<a xlink:href='#local_user.id'><text id='altdrump.local_user.id' x='663' y='306'>id</text><title>id
* bigserial</title></a>
<text x='762' y='303' text-anchor='end' class='colType'>#</text>  <use id='nn' x='647' y='312' xlink:href='#nn'/><a xlink:href='#local_user.uuid'><use id='unq' x='647' y='311' xlink:href='#unq'/><title>Unq unq_user_uuid ( uuid ) </title></a>
<a xlink:href='#local_user.uuid'><text id='altdrump.local_user.uuid' x='663' y='321'>uuid</text><title>uuid
* uuid</title></a>
  <a xlink:href='#local_user.name'><text id='altdrump.local_user.name' x='663' y='336'>name</text><title>name
varchar(50)
使用者名稱</title></a>
<text x='762' y='333' text-anchor='end' class='colType'>t</text>  <use id='nn' x='647' y='342' xlink:href='#nn'/><a xlink:href='#local_user.email'><text id='altdrump.local_user.email' x='663' y='351'>email</text><title>email
* varchar(50)
email帳號
&lt;br&gt;須唯一值</title></a>
<text x='762' y='348' text-anchor='end' class='colType'>t</text>  <use id='nn' x='647' y='357' xlink:href='#nn'/><a xlink:href='#local_user.secret'><text id='altdrump.local_user.secret' x='663' y='366'>secret</text><title>secret
* varchar(255)
使用bcrypt加密</title></a>
<text x='762' y='363' text-anchor='end' class='colType'>t</text>  <use id='nn' x='647' y='372' xlink:href='#nn'/><a xlink:href='#local_user.active'><text id='altdrump.local_user.active' x='663' y='381'>active</text><title>active
* smallint default 0
啟動狀態
&lt;br&gt;0:關閉
&lt;br&gt;1:啟動
&lt;br&gt;第一次註冊或新增使用者皆為關閉，須由啟動通知信進行啟動</title></a>
<text x='762' y='378' text-anchor='end' class='colType'>#</text>  <a xlink:href='#local_user.profile'><text id='altdrump.local_user.profile' x='663' y='396'>profile</text><title>profile
json
使用者其他資訊
&lt;br&gt;JSON格式</title></a>
  <use id='nn' x='647' y='402' xlink:href='#nn'/><a xlink:href='#local_user.created_at'><text id='altdrump.local_user.created_at' x='663' y='411'>created_at</text><title>created_at
* timestamptz</title></a>
<text x='762' y='408' text-anchor='end' class='colType'>d</text>  <use id='nn' x='647' y='417' xlink:href='#nn'/><a xlink:href='#local_user.updated_at'><text id='altdrump.local_user.updated_at' x='663' y='426'>updated_at</text><title>updated_at
* timestamptz default current_timestamp</title></a>
<text x='762' y='423' text-anchor='end' class='colType'>d</text>  <a xlink:href='#local_user.created_by_uuid'><text id='altdrump.local_user.created_by_uuid' x='663' y='441'>created_by_uuid</text><title>created_by_uuid
uuid
由user_id建立</title></a>
  <use id='nn' x='647' y='447' xlink:href='#nn'/><a xlink:href='#local_user.is_delete'><text id='altdrump.local_user.is_delete' x='663' y='456'>is_delete</text><title>is_delete
* bool default false
帳號是否被刪除</title></a>
<text x='762' y='453' text-anchor='end' class='colType'>b</text>  <use id='nn' x='647' y='462' xlink:href='#nn'/><a xlink:href='#local_user.is_super'><text id='altdrump.local_user.is_super' x='663' y='471'>is_super</text><title>is_super
* uuid default false</title></a>
  <a xlink:href='#local_user.vendor_code'><text id='altdrump.local_user.vendor_code' x='663' y='486'>vendor_code</text><title>vendor_code
smallint</title></a>
<text x='762' y='483' text-anchor='end' class='colType'>#</text>
<!-- == Table 'firmware_release' == -->
<rect class='entity' x='975' y='1493' width='105' height='75' rx='7' ry='7' style='stroke:none'/>
<path d='M 975 1519 L 975 1500 Q 975 1493 982 1493 L 1073 1493 Q 1080 1493 1080 1500 L 1080 1519 L975 1519 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='975' y='1493' width='105' height='75' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='975' y1='1519' x2='1080' y2='1519' style='stroke:#aeb7bf'/>
<line class='delim' x1='990' y1='1519' x2='990' y2='1568' style='stroke:#aeb7bf'/>
<line class='delim' x1='1069' y1='1519' x2='1069' y2='1568' style='stroke:#aeb7bf'/>
<a xlink:href='#firmware_release'><text x='982' y='1511'>firmware_release</text><title>Table altdrump.firmware_release</title></a>
  <use id='nn' x='977' y='1527' xlink:href='#nn'/><a xlink:href='#firmware_release.product_code'><use id='pk' x='977' y='1526' xlink:href='#pk'/><title>Pk pk_firmware_release_product_code ( product_code ) </title></a>
<a xlink:href='#firmware_release.product_code'><text id='altdrump.firmware_release.product_code' x='993' y='1536'>product_code</text><title>product_code
* smallint</title></a>
<text x='1077' y='1533' text-anchor='end' class='colType'>#</text>  <use id='nn' x='977' y='1542' xlink:href='#nn'/><a xlink:href='#firmware_release.uuid'><text id='altdrump.firmware_release.uuid' x='993' y='1551'>uuid</text><title>uuid
* uuid</title></a>

<!-- == Table 'firmware' == -->
<rect class='entity' x='855' y='1493' width='105' height='150' rx='7' ry='7' style='stroke:none'/>
<path d='M 855 1519 L 855 1500 Q 855 1493 862 1493 L 953 1493 Q 960 1493 960 1500 L 960 1519 L855 1519 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='855' y='1493' width='105' height='150' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='855' y1='1519' x2='960' y2='1519' style='stroke:#aeb7bf'/>
<line class='delim' x1='870' y1='1519' x2='870' y2='1643' style='stroke:#aeb7bf'/>
<line class='delim' x1='949' y1='1519' x2='949' y2='1643' style='stroke:#aeb7bf'/>
<a xlink:href='#firmware'><text x='882' y='1511'>firmware</text><title>Table altdrump.firmware</title></a>
  <use id='nn' x='857' y='1527' xlink:href='#nn'/><a xlink:href='#firmware.uuid'><use id='pk' x='857' y='1526' xlink:href='#pk'/><title>Pk pk_firmware_uuid ( uuid ) </title></a>
<a xlink:href='#firmware.uuid'><text id='altdrump.firmware.uuid' x='873' y='1536'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='857' y='1542' xlink:href='#nn'/><a xlink:href='#firmware.product_code'><text id='altdrump.firmware.product_code' x='873' y='1551'>product_code</text><title>product_code
* smallint</title></a>
<text x='957' y='1548' text-anchor='end' class='colType'>#</text>  <use id='nn' x='857' y='1557' xlink:href='#nn'/><a xlink:href='#firmware.build_code'><text id='altdrump.firmware.build_code' x='873' y='1566'>build_code</text><title>build_code
* smallint</title></a>
<text x='957' y='1563' text-anchor='end' class='colType'>#</text>  <use id='nn' x='857' y='1572' xlink:href='#nn'/><a xlink:href='#firmware.name'><text id='altdrump.firmware.name' x='873' y='1581'>name</text><title>name
* varchar(64)
上傳檔案名稱</title></a>
<text x='957' y='1578' text-anchor='end' class='colType'>t</text>  <a xlink:href='#firmware.url'><text id='altdrump.firmware.url' x='873' y='1596'>url</text><title>url
varchar(1024)</title></a>
<text x='957' y='1593' text-anchor='end' class='colType'>t</text>  <a xlink:href='#firmware.sha256'><text id='altdrump.firmware.sha256' x='873' y='1611'>sha256</text><title>sha256
varchar(64)</title></a>
<text x='957' y='1608' text-anchor='end' class='colType'>t</text>  <use id='nn' x='857' y='1617' xlink:href='#nn'/><a xlink:href='#firmware.created_at'><text id='altdrump.firmware.created_at' x='873' y='1626'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='957' y='1623' text-anchor='end' class='colType'>d</text>
<!-- == Table 'push_queue' == -->
<rect class='entity' x='285' y='1433' width='75' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 285 1459 L 285 1440 Q 285 1433 292 1433 L 353 1433 Q 360 1433 360 1440 L 360 1459 L285 1459 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='285' y='1433' width='75' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='285' y1='1459' x2='360' y2='1459' style='stroke:#aeb7bf'/>
<line class='delim' x1='300' y1='1459' x2='300' y2='1523' style='stroke:#aeb7bf'/>
<line class='delim' x1='349' y1='1459' x2='349' y2='1523' style='stroke:#aeb7bf'/>
<a xlink:href='#push_queue'><text x='290' y='1451'>push_queue</text><title>Table altdrump.push_queue
推播訊息佇列</title></a>
  <use id='nn' x='287' y='1467' xlink:href='#nn'/><a xlink:href='#push_queue.id'><use id='pk' x='287' y='1466' xlink:href='#pk'/><title>Pk pk_push_queue_id ( id ) </title></a>
<a xlink:href='#push_queue.id'><text id='altdrump.push_queue.id' x='303' y='1476'>id</text><title>id
* integer</title></a>
<text x='357' y='1473' text-anchor='end' class='colType'>#</text>  <a xlink:href='#push_queue.p_m_id'><use id='idx' x='287' y='1481' xlink:href='#idx'/><title>idx_push_queue_p_m_id ( p_m_id ) </title></a>
<a xlink:href='#push_queue.p_m_id'><text id='altdrump.push_queue.p_m_id' x='303' y='1491' onmouseover="hghl(['push_queue_fk_push_queue_push_message','altdrump.push_message.id'])" onmouseout="uhghl(['push_queue_fk_push_queue_push_message','altdrump.push_message.id'])">p_m_id</text><title>p_m_id
integer
訊息ID</title></a>
<a xlink:href='#push_queue.p_m_id'><use id='fk' x='349' y='1481' xlink:href='#fk'/><title>References push_message ( p_m_id -&gt; id ) </title></a>
  <use id='nn' x='287' y='1497' xlink:href='#nn'/><a xlink:href='#push_queue.p_d_id'><use id='idx' x='287' y='1496' xlink:href='#idx'/><title>idx_push_queue_p_d_id ( p_d_id ) </title></a>
<a xlink:href='#push_queue.p_d_id'><text id='altdrump.push_queue.p_d_id' x='303' y='1506' onmouseover="hghl(['push_queue_fk_push_queue_push_device','altdrump.push_device.uuid'])" onmouseout="uhghl(['push_queue_fk_push_queue_push_device','altdrump.push_device.uuid'])">p_d_id</text><title>p_d_id
* integer
裝置ID</title></a>
<a xlink:href='#push_queue.p_d_id'><use id='fk' x='349' y='1496' xlink:href='#fk'/><title>References push_device ( p_d_id -&gt; uuid ) </title></a>

<!-- == Table 'push_noti_log' == -->
<rect class='entity' x='1335' y='1433' width='90' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 1335 1459 L 1335 1440 Q 1335 1433 1342 1433 L 1418 1433 Q 1425 1433 1425 1440 L 1425 1459 L1335 1459 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1335' y='1433' width='90' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1335' y1='1459' x2='1425' y2='1459' style='stroke:#aeb7bf'/>
<line class='delim' x1='1350' y1='1459' x2='1350' y2='1568' style='stroke:#aeb7bf'/>
<line class='delim' x1='1414' y1='1459' x2='1414' y2='1568' style='stroke:#aeb7bf'/>
<a xlink:href='#push_noti_log'><text x='1343' y='1451'>push_noti_log</text><title>Table altdrump.push_noti_log</title></a>
  <use id='nn' x='1337' y='1467' xlink:href='#nn'/><a xlink:href='#push_noti_log.uuid'><use id='pk' x='1337' y='1466' xlink:href='#pk'/><title>Pk pk_push_noti_log_uuid ( uuid ) </title></a>
<a xlink:href='#push_noti_log.uuid'><text id='altdrump.push_noti_log.uuid' x='1353' y='1476'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='1337' y='1482' xlink:href='#nn'/><a xlink:href='#push_noti_log.noti_id'><text id='altdrump.push_noti_log.noti_id' x='1353' y='1491'>noti_id</text><title>noti_id
* integer</title></a>
<text x='1422' y='1488' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1337' y='1497' xlink:href='#nn'/><a xlink:href='#push_noti_log.token'><text id='altdrump.push_noti_log.token' x='1353' y='1506'>token</text><title>token
* varchar(1024)</title></a>
<text x='1422' y='1503' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1337' y='1512' xlink:href='#nn'/><a xlink:href='#push_noti_log.token_type'><text id='altdrump.push_noti_log.token_type' x='1353' y='1521'>token_type</text><title>token_type
* smallint
1:android,2:ios</title></a>
<text x='1422' y='1518' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1337' y='1527' xlink:href='#nn'/><a xlink:href='#push_noti_log.success'><text id='altdrump.push_noti_log.success' x='1353' y='1536'>success</text><title>success
* bool default false</title></a>
<text x='1422' y='1533' text-anchor='end' class='colType'>b</text>  <use id='nn' x='1337' y='1542' xlink:href='#nn'/><a xlink:href='#push_noti_log.created_at'><text id='altdrump.push_noti_log.created_at' x='1353' y='1551'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='1422' y='1548' text-anchor='end' class='colType'>d</text>
<!-- == Table 'push_noti' == -->
<rect class='entity' x='1455' y='1433' width='120' height='210' rx='7' ry='7' style='stroke:none'/>
<path d='M 1455 1459 L 1455 1440 Q 1455 1433 1462 1433 L 1568 1433 Q 1575 1433 1575 1440 L 1575 1459 L1455 1459 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='1455' y='1433' width='120' height='210' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='1455' y1='1459' x2='1575' y2='1459' style='stroke:#aeb7bf'/>
<line class='delim' x1='1470' y1='1459' x2='1470' y2='1643' style='stroke:#aeb7bf'/>
<line class='delim' x1='1564' y1='1459' x2='1564' y2='1643' style='stroke:#aeb7bf'/>
<a xlink:href='#push_noti'><text x='1488' y='1451'>push_noti</text><title>Table altdrump.push_noti
自訂推播訊息</title></a>
  <use id='nn' x='1457' y='1467' xlink:href='#nn'/><a xlink:href='#push_noti.id'><use id='pk' x='1457' y='1466' xlink:href='#pk'/><title>Pk pk_push_noti_id ( id ) </title></a>
<a xlink:href='#push_noti.id'><text id='altdrump.push_noti.id' x='1473' y='1476'>id</text><title>id
* bigserial</title></a>
<text x='1572' y='1473' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1457' y='1482' xlink:href='#nn'/><a xlink:href='#push_noti.title'><text id='altdrump.push_noti.title' x='1473' y='1491'>title</text><title>title
* varchar(64)</title></a>
<text x='1572' y='1488' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_noti.body'><text id='altdrump.push_noti.body' x='1473' y='1506'>body</text><title>body
text</title></a>
<text x='1572' y='1503' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_noti.data'><text id='altdrump.push_noti.data' x='1473' y='1521'>data</text><title>data
text</title></a>
<text x='1572' y='1518' text-anchor='end' class='colType'>t</text>  <use id='nn' x='1457' y='1527' xlink:href='#nn'/><a xlink:href='#push_noti.by_uuid'><text id='altdrump.push_noti.by_uuid' x='1473' y='1536'>by_uuid</text><title>by_uuid
* uuid
send by user uuid</title></a>
  <a xlink:href='#push_noti.application_code'><text id='altdrump.push_noti.application_code' x='1473' y='1551'>application_code</text><title>application_code
smallint</title></a>
<text x='1572' y='1548' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1457' y='1557' xlink:href='#nn'/><a xlink:href='#push_noti.query'><text id='altdrump.push_noti.query' x='1473' y='1566'>query</text><title>query
* varchar(256)
{application_code:1000, device_type: 1}

device_type: 1=&gt;all, 2=&gt;andoid, 3=&gt;ios</title></a>
<text x='1572' y='1563' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_noti.total'><text id='altdrump.push_noti.total' x='1473' y='1581'>total</text><title>total
integer default 0</title></a>
<text x='1572' y='1578' text-anchor='end' class='colType'>#</text>  <a xlink:href='#push_noti.success'><text id='altdrump.push_noti.success' x='1473' y='1596'>success</text><title>success
integer default 0</title></a>
<text x='1572' y='1593' text-anchor='end' class='colType'>#</text>  <a xlink:href='#push_noti.error'><text id='altdrump.push_noti.error' x='1473' y='1611'>error</text><title>error
integer default 0</title></a>
<text x='1572' y='1608' text-anchor='end' class='colType'>#</text>  <use id='nn' x='1457' y='1617' xlink:href='#nn'/><a xlink:href='#push_noti.created_at'><text id='altdrump.push_noti.created_at' x='1473' y='1626'>created_at</text><title>created_at
* timestamptz default current_timestamp</title></a>
<text x='1572' y='1623' text-anchor='end' class='colType'>d</text>
<!-- == Table 'push_device' == -->
<rect class='entity' x='120' y='1418' width='120' height='135' rx='7' ry='7' style='stroke:none'/>
<path d='M 120 1444 L 120 1425 Q 120 1418 127 1418 L 233 1418 Q 240 1418 240 1425 L 240 1444 L120 1444 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='120' y='1418' width='120' height='135' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='120' y1='1444' x2='240' y2='1444' style='stroke:#aeb7bf'/>
<line class='delim' x1='135' y1='1444' x2='135' y2='1553' style='stroke:#aeb7bf'/>
<line class='delim' x1='229' y1='1444' x2='229' y2='1553' style='stroke:#aeb7bf'/>
<a xlink:href='#push_device'><text x='147' y='1436'>push_device</text><title>Table altdrump.push_device</title></a>
  <use id='nn' x='122' y='1452' xlink:href='#nn'/><a xlink:href='#push_device.uuid'><use id='pk' x='122' y='1451' xlink:href='#pk'/><title>Pk pk_device_push_id ( uuid ) </title></a>
<a xlink:href='#push_device.uuid'><text id='altdrump.push_device.uuid' x='138' y='1461' onmouseover="hghl(['push_log_fk_push_log_push_device','altdrump.push_log.p_d_id','push_queue_fk_push_queue_push_device','altdrump.push_queue.p_d_id'])" onmouseout="uhghl(['push_log_fk_push_log_push_device','altdrump.push_log.p_d_id','push_queue_fk_push_queue_push_device','altdrump.push_queue.p_d_id'])">uuid</text><title>uuid
* uuid</title></a>
<a xlink:href='#push_device.uuid'><use id='ref' x='229' y='1451' xlink:href='#ref'/><title>Referred by push_log ( p_d_id -&gt; uuid ) 
Referred by push_queue ( p_d_id -&gt; uuid ) </title></a>
  <use id='nn' x='122' y='1467' xlink:href='#nn'/><a xlink:href='#push_device.user_uuid'><text id='altdrump.push_device.user_uuid' x='138' y='1476'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <a xlink:href='#push_device.device_code'><text id='altdrump.push_device.device_code' x='138' y='1491'>device_code</text><title>device_code
smallint
2:android
3.ios</title></a>
<text x='237' y='1488' text-anchor='end' class='colType'>#</text>  <a xlink:href='#push_device.token'><text id='altdrump.push_device.token' x='138' y='1506'>token</text><title>token
varchar(4096)</title></a>
<text x='237' y='1503' text-anchor='end' class='colType'>t</text>  <a xlink:href='#push_device.created_at'><text id='altdrump.push_device.created_at' x='138' y='1521'>created_at</text><title>created_at
timestamptz</title></a>
<text x='237' y='1518' text-anchor='end' class='colType'>d</text>  <a xlink:href='#push_device.applicatoin_code'><text id='altdrump.push_device.applicatoin_code' x='138' y='1536'>applicatoin_code</text><title>applicatoin_code
smallint default 1</title></a>
<text x='237' y='1533' text-anchor='end' class='colType'>#</text>
<!-- == Table 'role_permission' == -->
<rect class='entity' x='315' y='413' width='105' height='90' rx='7' ry='7' style='stroke:none'/>
<path d='M 315 439 L 315 420 Q 315 413 322 413 L 413 413 Q 420 413 420 420 L 420 439 L315 439 ' style='fill:url(#tbg_bfd4f5);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='315' y='413' width='105' height='90' rx='7' ry='7' style='fill:none;stroke:#aeb5bf'/>
<line class='delim' x1='315' y1='439' x2='420' y2='439' style='stroke:#aeb5bf'/>
<line class='delim' x1='330' y1='439' x2='330' y2='503' style='stroke:#aeb5bf'/>
<line class='delim' x1='409' y1='439' x2='409' y2='503' style='stroke:#aeb5bf'/>
<a xlink:href='#role_permission'><text x='326' y='431'>role_permission</text><title>Table altdrump.role_permission
角色與權限關聯表</title></a>
  <use id='nn' x='317' y='447' xlink:href='#nn'/><a xlink:href='#role_permission.id'><use id='pk' x='317' y='446' xlink:href='#pk'/><title>Pk pk_role_permission_id ( id ) </title></a>
<a xlink:href='#role_permission.id'><text id='altdrump.role_permission.id' x='333' y='456'>id</text><title>id
* integer</title></a>
<text x='417' y='453' text-anchor='end' class='colType'>#</text>  <use id='nn' x='317' y='462' xlink:href='#nn'/><a xlink:href='#role_permission.role_id'><use id='idx' x='317' y='461' xlink:href='#idx'/><title>idx_role_permission_role_id ( role_id ) </title></a>
<a xlink:href='#role_permission.role_id'><text id='altdrump.role_permission.role_id' x='333' y='471'>role_id</text><title>role_id
* integer</title></a>
<text x='417' y='468' text-anchor='end' class='colType'>#</text>  <use id='nn' x='317' y='477' xlink:href='#nn'/><a xlink:href='#role_permission.permission_id'><use id='idx' x='317' y='476' xlink:href='#idx'/><title>idx_role_permission_permission_id ( permission_id ) </title></a>
<a xlink:href='#role_permission.permission_id'><text id='altdrump.role_permission.permission_id' x='333' y='486'>permission_id</text><title>permission_id
* integer</title></a>
<text x='417' y='483' text-anchor='end' class='colType'>#</text>
<!-- == Table 'permission' == -->
<rect class='entity' x='315' y='518' width='105' height='105' rx='7' ry='7' style='stroke:none'/>
<path d='M 315 544 L 315 525 Q 315 518 322 518 L 413 518 Q 420 518 420 525 L 420 544 L315 544 ' style='fill:url(#tbg_bfd4f5);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='315' y='518' width='105' height='105' rx='7' ry='7' style='fill:none;stroke:#aeb5bf'/>
<line class='delim' x1='315' y1='544' x2='420' y2='544' style='stroke:#aeb5bf'/>
<line class='delim' x1='330' y1='544' x2='330' y2='623' style='stroke:#aeb5bf'/>
<line class='delim' x1='409' y1='544' x2='409' y2='623' style='stroke:#aeb5bf'/>
<a xlink:href='#permission'><text x='339' y='536'>permission</text><title>Table altdrump.permission
功能權限定義</title></a>
  <use id='nn' x='317' y='552' xlink:href='#nn'/><a xlink:href='#permission.id'><use id='pk' x='317' y='551' xlink:href='#pk'/><title>Pk pk_permission_id ( id ) </title></a>
<a xlink:href='#permission.id'><text id='altdrump.permission.id' x='333' y='561'>id</text><title>id
* integer</title></a>
<text x='417' y='558' text-anchor='end' class='colType'>#</text>  <use id='nn' x='317' y='567' xlink:href='#nn'/><a xlink:href='#permission.per_key'><text id='altdrump.permission.per_key' x='333' y='576'>per_key</text><title>per_key
* varchar(255)
權限鍵值
&lt;br&gt;格式：model.function.{page|api}</title></a>
<text x='417' y='573' text-anchor='end' class='colType'>t</text>  <a xlink:href='#permission.display_name'><text id='altdrump.permission.display_name' x='333' y='591'>display_name</text><title>display_name
varchar(50)
權限顯示名稱</title></a>
<text x='417' y='588' text-anchor='end' class='colType'>t</text>  <a xlink:href='#permission.description'><text id='altdrump.permission.description' x='333' y='606'>description</text><title>description
varchar(255)
權限描述</title></a>
<text x='417' y='603' text-anchor='end' class='colType'>t</text>
<!-- == Table 'login_verification' == -->
<rect class='entity' x='495' y='413' width='120' height='165' rx='7' ry='7' style='stroke:none'/>
<path d='M 495 439 L 495 420 Q 495 413 502 413 L 608 413 Q 615 413 615 420 L 615 439 L495 439 ' style='fill:url(#tbg_c1d8ee);stroke:1;stroke-opacity:0.1;' />
<rect class='entity' x='495' y='413' width='120' height='165' rx='7' ry='7' style='fill:none;stroke:#aeb7bf'/>
<line class='delim' x1='495' y1='439' x2='615' y2='439' style='stroke:#aeb7bf'/>
<line class='delim' x1='510' y1='439' x2='510' y2='578' style='stroke:#aeb7bf'/>
<line class='delim' x1='604' y1='439' x2='604' y2='578' style='stroke:#aeb7bf'/>
<a xlink:href='#login_verification'><text x='509' y='431'>login_verification</text><title>Table altdrump.login_verification</title></a>
  <use id='nn' x='497' y='447' xlink:href='#nn'/><a xlink:href='#login_verification.uuid'><use id='pk' x='497' y='446' xlink:href='#pk'/><title>Pk pk_login_from_uuid ( uuid ) </title></a>
<a xlink:href='#login_verification.uuid'><text id='altdrump.login_verification.uuid' x='513' y='456'>uuid</text><title>uuid
* uuid</title></a>
  <use id='nn' x='497' y='462' xlink:href='#nn'/><a xlink:href='#login_verification.user_uuid'><text id='altdrump.login_verification.user_uuid' x='513' y='471'>user_uuid</text><title>user_uuid
* uuid</title></a>
  <use id='nn' x='497' y='477' xlink:href='#nn'/><a xlink:href='#login_verification.login_from'><text id='altdrump.login_verification.login_from' x='513' y='486'>login_from</text><title>login_from
* smallint default 1
1:other,2:window,3:mac,4:android,5:ios</title></a>
<text x='612' y='483' text-anchor='end' class='colType'>#</text>  <a xlink:href='#login_verification.os_udid'><text id='altdrump.login_verification.os_udid' x='513' y='501'>os_udid</text><title>os_udid
varchar(1024) default other</title></a>
<text x='612' y='498' text-anchor='end' class='colType'>t</text>  <a xlink:href='#login_verification.verification_code'><text id='altdrump.login_verification.verification_code' x='513' y='516'>verification_code</text><title>verification_code
varchar(6)</title></a>
<text x='612' y='513' text-anchor='end' class='colType'>t</text>  <use id='nn' x='497' y='522' xlink:href='#nn'/><a xlink:href='#login_verification.is_verified'><text id='altdrump.login_verification.is_verified' x='513' y='531'>is_verified</text><title>is_verified
* bool default false</title></a>
<text x='612' y='528' text-anchor='end' class='colType'>b</text>  <a xlink:href='#login_verification.created_at'><text id='altdrump.login_verification.created_at' x='513' y='546'>created_at</text><title>created_at
timestamptz default current_timestamp</title></a>
<text x='612' y='543' text-anchor='end' class='colType'>d</text>  <a xlink:href='#login_verification.updated_at'><text id='altdrump.login_verification.updated_at' x='513' y='561'>updated_at</text><title>updated_at
timestamptz default current_timestamp</title></a>
<text x='612' y='558' text-anchor='end' class='colType'>d</text>
<!-- == Callout == -->
<rect class='callout' x='90' y='120' width='150' height='66' rx='15' ry='15'  />
<text x='112' y='120' class='callout'>
    <tspan x='93' dx='7' dy='17'>關聯&#58;</tspan>
    <tspan x='93' dx='7' dy='17'>&#42;&#46; user&#58;role &#61;&gt; 1&#58;1</tspan>
    <tspan x='93' dx='7' dy='17'>&#42;&#46; role&#58;permission &#61;&gt; 1&#58;N</tspan>
</text>
<use x='105' y='186' xlink:href='#calloutArrowDown'/>

<!-- == Callout == -->
<rect class='callout' x='1755' y='105' width='270' height='66' rx='15' ry='15'  />
<text x='1777' y='105' class='callout'>
    <tspan x='1758' dx='7' dy='17'>關聯</tspan>
    <tspan x='1758' dx='7' dy='17'>&#42;&#46; device&#95;state&#40;channel&#41;&#58;commodity &#61;&gt; 1&#58;1</tspan>
    <tspan x='1758' dx='7' dy='17'>&#42;&#46; device&#95;state&#40;channel&#41;&#58;sale&#95;activity &#61;&gt; 1&#58;N</tspan>
</text>
<use x='1770' y='171' xlink:href='#calloutArrowDown'/>

<!-- == Callout == -->
<rect class='callout' x='915' y='60' width='270' height='116' rx='15' ry='15'  />
<text x='937' y='60' class='callout'>
    <tspan x='918' dx='7' dy='17'>關聯</tspan>
    <tspan x='918' dx='7' dy='17'>&#42;&#46; user&#58;operator &#61;&gt; 1&#58;1</tspan>
    <tspan x='918' dx='7' dy='17'>&#42;&#46; operator&#58;operator &#61;&gt; 1&#58;N&#40;營運商&#58;子營運商&#41;</tspan>
    <tspan x='918' dx='7' dy='17'>&#42;&#46; operator&#58;operator&#95;category &#61;&gt; 1&#58;1</tspan>
    <tspan x='918' dx='7' dy='17'>&#42;&#46; country&#58;city &#61;&gt; 1&#58;N</tspan>
    <tspan x='918' dx='7' dy='17'>&#42;&#46; city&#58;area &#61;&gt; 1&#58;N</tspan>
</text>
<use x='930' y='176' xlink:href='#calloutArrowDown'/>

<!-- == Callout == -->
<rect class='callout' x='1320' y='105' width='135' height='66' rx='15' ry='15'  />
<text x='1342' y='105' class='callout'>
    <tspan x='1323' dx='7' dy='17'>關聯</tspan>
    <tspan x='1323' dx='7' dy='17'>&#42;&#46; device&#58;action &#61;&gt;1&#58;N</tspan>
    <tspan x='1323' dx='7' dy='17'>&#42;&#46; device&#58;state &#61;&gt; 1&#58;N</tspan>
</text>
<use x='1335' y='171' xlink:href='#calloutArrowDown'/>

</g></svg></div>


<br/><br/>
<div class='card'><div class='card-block'><a name='app' onclick='window.scrollTo(60, 720);return false;' style='cursor:pointer;'><h4 class='card-title'>Table app</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='app.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='app.title'>title</a></td>
		<td> varchar&#40; 100 &#41;   DEFAULT application name </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='app.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td> user uuid </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='app.is_delete'>is&#95;delete</a></td>
		<td> bool   DEFAULT false </td>
		<td> 應用程式狀態是否被刪除 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='app.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='app.test'>test</a></td>
		<td> bigint   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;application&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;application&#95;u&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='area' onclick='window.scrollTo(1000, 570);return false;' style='cursor:pointer;'><h4 class='card-title'>Table area</h4></a>
<p class="text-muted">鄉鎮</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='area.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='area.city_id'>city&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='area.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 鄉鎮名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='area.code'>code</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td> 鄉鎮代碼 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;area&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;area&#95;country&#95;id</td>
		<td> ON city&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_area_country</td>
		<td > ( city&#95;id ) ref <a href='#city'>city</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='city' onclick='window.scrollTo(1195, 510);return false;' style='cursor:pointer;'><h4 class='card-title'>Table city</h4></a>
<p class="text-muted">縣市</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='city.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='city.country_id'>country&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='city.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 縣市名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='city.code'>code</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td> 縣市代碼 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;city&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;city&#95;country&#95;id</td>
		<td> ON country&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_city_country</td>
		<td > ( country&#95;id ) ref <a href='#country'>country</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='commodity' onclick='window.scrollTo(1810, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table commodity</h4></a>
<p class="text-muted">商品</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='commodity.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.serial_number'>serial&#95;number</a></td>
		<td> integer   </td>
		<td> 商品序號 </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='commodity.category_id'>category&#95;id</a></td>
		<td> integer   </td>
		<td> 商品類型 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='commodity.price'>price</a></td>
		<td> integer   DEFAULT 0 </td>
		<td> 商品價格 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='commodity.profile'>profile</a></td>
		<td> json   </td>
		<td> 商品其他資訊 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.is_delete'>is&#95;delete</a></td>
		<td> bool   DEFAULT false </td>
		<td> 是否為刪除狀態 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 最後更新時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.created_by_user_id'>created&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.updated_by_user_id'>updated&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 最後由user&#95;id更新 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity.active'>active</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td> 啟動狀態
&lt;br&gt;0&#58;關閉
&lt;br&gt;1&#58;啟動
&lt;br&gt;第一次新增預設為0 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;commodity&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;commodity&#95;category&#95;id</td>
		<td> ON category&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_commodity</td>
		<td > ( category&#95;id ) ref <a href='#commodity&#95;category'>commodity&#95;category</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='commodity_category' onclick='window.scrollTo(2050, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table commodity_category</h4></a>
<p class="text-muted">商品類型</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='commodity_category.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity_category.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 類型名稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity_category.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity_category.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 更新時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity_category.created_by_user_id'>created&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='commodity_category.updated_by_user_id'>updated&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 最後由user&#95;id更新 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;commodity&#95;category&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='country' onclick='window.scrollTo(1330, 420);return false;' style='cursor:pointer;'><h4 class='card-title'>Table country</h4></a>
<p class="text-muted">國家</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='country.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='country.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 國家名稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='country.code'>code</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td> 國家代碼 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;country&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='device' onclick='window.scrollTo(1120, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table device</h4></a>
<p class="text-muted">裝置。
<br>一台裝置只能屬於一位營運商。</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='device.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device.operator_id'>operator&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.serial_number'>serial&#95;number</a></td>
		<td> varchar&#40; 20 &#41;   </td>
		<td> 裝置序號 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 裝置暱稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.category'>category</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 類型名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device.profile'>profile</a></td>
		<td> json   </td>
		<td> 其他資訊
&lt;br&gt;JSON格式 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.active'>active</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td> 啟動狀態
&lt;br&gt;0&#58;關閉
&lt;br&gt;1&#58;啟動
&lt;br&gt;第一次新增時預設為關閉 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device.lat'>lat</a></td>
		<td> float8   </td>
		<td> 經度 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device.lon'>lon</a></td>
		<td> float8   </td>
		<td> 緯度 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立日期 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 更新日期 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.created_by_user_id'>created&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device.updated_by_user_id'>updated&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 最後由user&#95;id更新 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;device&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;operator&#95;id</td>
		<td> ON operator&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_operator</td>
		<td > ( operator&#95;id ) ref <a href='#operator'>operator</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='device_action' onclick='window.scrollTo(1315, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table device_action</h4></a>
<p class="text-muted">裝置指令記錄表
<br>action_key格式:/serial_number/param/action。如回傳裝置當前溫度:/abcd1234/current_temperature/return</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='device_action.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_action.device_id'>device&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_action.action_key'>action&#95;key</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 指令名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device_action.action_value'>action&#95;value</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 指令附帶參數 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device_action.description'>description</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 指令描述 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_action.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 指令發送時間 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device_action.return_result'>return&#95;result</a></td>
		<td> json   </td>
		<td> 返回結果 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device_action.return_at'>return&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 裝置回應時間 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;device&#95;action&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;action&#95;device&#95;id</td>
		<td> ON device&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_action_device</td>
		<td > ( device&#95;id ) ref <a href='#device'>device</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='device_channel_activity' onclick='window.scrollTo(1555, 480);return false;' style='cursor:pointer;'><h4 class='card-title'>Table device_channel_activity</h4></a>
<p class="text-muted">軌道商品活動關聯表
<br>一軌道商品可以有多個銷售活動</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='device_channel_activity.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_channel_activity.sale_activity_id'>sale&#95;activity&#95;id</a></td>
		<td> integer   </td>
		<td> 銷售活動ID </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_channel_activity.d_c_c_id'>d&#95;c&#95;c&#95;id</a></td>
		<td> integer   </td>
		<td> 裝置軌道商品ID </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;device&#95;channel&#95;activity&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;channel&#95;activity&#95;d&#95;c&#95;c&#95;id</td>
		<td> ON d&#95;c&#95;c&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;channel&#95;activity&#95;sale&#95;activity&#95;id</td>
		<td> ON sale&#95;activity&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_channel_activity</td>
		<td > ( d&#95;c&#95;c&#95;id ) ref <a href='#device&#95;channel&#95;commodity'>device&#95;channel&#95;commodity</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_channel_activity2</td>
		<td > ( sale&#95;activity&#95;id ) ref <a href='#sale&#95;activity'>sale&#95;activity</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='device_channel_commodity' onclick='window.scrollTo(1555, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table device_channel_commodity</h4></a>
<p class="text-muted">裝置軌道銷售商品
<br>一個軌道只能有一個商品</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='device_channel_commodity.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_channel_commodity.device_state_id'>device&#95;state&#95;id</a></td>
		<td> integer   </td>
		<td> 裝置軌道編號 </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_channel_commodity.commodity_id'>commodity&#95;id</a></td>
		<td> integer   </td>
		<td> 商品ID </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_channel_commodity.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_channel_commodity.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 更新時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_channel_commodity.created_by_use_id'>created&#95;by&#95;use&#95;id</a></td>
		<td> integer   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_channel_commodity.updated_by_user_id'>updated&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 最後由user&#95;id更新 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;sale&#95;history&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;channel&#95;commodity&#95;device&#95;state&#95;id</td>
		<td> ON device&#95;state&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;channel&#95;commodity&#95;commodity&#95;id</td>
		<td> ON commodity&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_channel_commodity</td>
		<td > ( device&#95;state&#95;id ) ref <a href='#device&#95;state'>device&#95;state</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_channel_commodity2</td>
		<td > ( commodity&#95;id ) ref <a href='#commodity'>commodity</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='device_state' onclick='window.scrollTo(1315, 405);return false;' style='cursor:pointer;'><h4 class='card-title'>Table device_state</h4></a>
<p class="text-muted">裝置狀態表
<br>state_key格式:/{serial_number}/param。如:/abcd1234/current_temperature</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='device_state.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='device_state.device_id'>device&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_state.state_key'>state&#95;key</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 裝置參數欄位名稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_state.state_value'>state&#95;value</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 參數內容 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='device_state.description'>description</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 狀態說明 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_state.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='device_state.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 最後更新時間 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;device&#95;state&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;device&#95;state&#95;device&#95;id</td>
		<td> ON device&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_device_state_device</td>
		<td > ( device&#95;id ) ref <a href='#device'>device</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='facebook_user' onclick='window.scrollTo(595, 480);return false;' style='cursor:pointer;'><h4 class='card-title'>Table facebook_user</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.local_user_uuid'>local&#95;user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.f_id'>f&#95;id</a></td>
		<td> bigint   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.token'>token</a></td>
		<td> varchar&#40; 1024 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.email'>email</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='facebook_user.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='firmware' onclick='window.scrollTo(655, 1500);return false;' style='cursor:pointer;'><h4 class='card-title'>Table firmware</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='firmware.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='firmware.product_code'>product&#95;code</a></td>
		<td> smallint   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='firmware.build_code'>build&#95;code</a></td>
		<td> smallint   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='firmware.name'>name</a></td>
		<td> varchar&#40; 64 &#41;   </td>
		<td> 上傳檔案名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='firmware.url'>url</a></td>
		<td> varchar&#40; 1024 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='firmware.sha256'>sha256</a></td>
		<td> varchar&#40; 64 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='firmware.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;firmware&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='firmware_release' onclick='window.scrollTo(775, 1500);return false;' style='cursor:pointer;'><h4 class='card-title'>Table firmware_release</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='firmware_release.product_code'>product&#95;code</a></td>
		<td> smallint   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='firmware_release.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;firmware&#95;release&#95;product&#95;code</td>
		<td> ON product&#95;code</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='interview_order' onclick='window.scrollTo(1345, 975);return false;' style='cursor:pointer;'><h4 class='card-title'>Table interview_order</h4></a>
<p class="text-muted">特洛依拜訪表單</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='interview_order.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.city'>city</a></td>
		<td> varchar&#40; 48 &#41;   </td>
		<td> 所屬區域單位 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.water'>water</a></td>
		<td> varchar&#40; 24 &#41;   </td>
		<td> 負責人員 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.school_type'>school&#95;type</a></td>
		<td> varchar&#40; 24 &#41;   </td>
		<td> 客戶學校屬性 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.demand'>demand</a></td>
		<td> text   </td>
		<td> 需求資訊&#44;json格式 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.c_school'>c&#95;school</a></td>
		<td> varchar&#40; 128 &#41;   </td>
		<td> 客戶學校 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_association'>c&#95;association</a></td>
		<td> varchar&#40; 256 &#41;   </td>
		<td> 客戶學校社團 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.c_name'>c&#95;name</a></td>
		<td> varchar&#40; 24 &#41;   </td>
		<td> 客戶名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_nick'>c&#95;nick</a></td>
		<td> varchar&#40; 48 &#41;   </td>
		<td> 客戶暱稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_phone'>c&#95;phone</a></td>
		<td> varchar&#40; 24 &#41;   </td>
		<td> 客戶手機 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_line_id'>c&#95;line&#95;id</a></td>
		<td> varchar&#40; 48 &#41;   </td>
		<td> 客戶LINE ID </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_book_date'>c&#95;book&#95;date</a></td>
		<td> timestamptz   </td>
		<td> 預定取貨日期 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='interview_order.c_action_date'>c&#95;action&#95;date</a></td>
		<td> timestamptz   </td>
		<td> 活動時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='interview_order.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;interview&#95;order&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='iot_device' onclick='window.scrollTo(490, 855);return false;' style='cursor:pointer;'><h4 class='card-title'>Table iot_device</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='iot_device.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device.name'>name</a></td>
		<td> varchar&#40; 100 &#41;   DEFAULT 'device name' </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device.udid'>udid</a></td>
		<td> varchar&#40; 64 &#41;   </td>
		<td> 裝置唯一識別碼 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device.aes'>aes</a></td>
		<td> varchar&#40; 128 &#41;   </td>
		<td> AES密鑰 </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='iot_device.create_by_uuid'>create&#95;by&#95;uuid</a></td>
		<td> uuid   </td>
		<td> 由user uuid建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device.is_disable'>is&#95;disable</a></td>
		<td> bool   DEFAULT true </td>
		<td> 裝置有效狀態，false代表此裝置已經不可用 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device.is_online'>is&#95;online</a></td>
		<td> bool   DEFAULT false </td>
		<td> 裝置是否在線上&#40;廢棄，使用ping&#95;at時間來判斷是在線&#41; </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device.ping_at'>ping&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 最後ping時間&#40;廢棄，使用redis&#41; </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device.secret'>secret</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td> 金鑰。裝置推播驗證使用。 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;iot&#95;device&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;iot&#95;device&#95;create&#95;by&#95;uuid</td>
		<td> ON create&#95;by&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='iot_device_behavior' onclick='window.scrollTo(355, 1050);return false;' style='cursor:pointer;'><h4 class='card-title'>Table iot_device_behavior</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.device_uuid '>device&#95;uuid </a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.name'>name</a></td>
		<td> varchar&#40; 32 &#41;   </td>
		<td> 行為名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.key'>key</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.value'>value</a></td>
		<td> varchar&#40; 64 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_behavior.definition'>definition</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 描述 </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='iot_device_chara' onclick='window.scrollTo(655, 735);return false;' style='cursor:pointer;'><h4 class='card-title'>Table iot_device_chara</h4></a>
<p class="text-muted">iot device characteristic</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='iot_device_chara.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='iot_device_chara.dev_uuid'>dev&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_chara.desciption'>desciption</a></td>
		<td> text   </td>
		<td> chars description </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device_chara.has_write'>has&#95;write</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='iot_device_chara.has_read'>has&#95;read</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='iot_device_chara.has_notify'>has&#95;notify</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_chara.write_role'>write&#95;role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_chara.read_role'>read&#95;role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_chara.notify_role'>notify&#95;role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;mq&#95;group&#95;permission&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;mq&#95;group&#95;permission&#95;mq&#95;g&#95;id</td>
		<td> ON has&#95;read</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;iot&#95;device&#95;chara&#95;d&#95;id</td>
		<td> ON dev&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='iot_device_media' onclick='window.scrollTo(505, 1065);return false;' style='cursor:pointer;'><h4 class='card-title'>Table iot_device_media</h4></a>
<p class="text-muted">裝置相關媒體</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='iot_device_media.uuid'>uuid</a></td>
		<td> uuid   DEFAULT gen_random_uuid() </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='iot_device_media.dev_uuid'>dev&#95;uuid</a></td>
		<td> uuid   </td>
		<td> device id </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='iot_device_media.uer_uuid'>uer&#95;uuid</a></td>
		<td> uuid   </td>
		<td> user uuid </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='iot_device_media.url'>url</a></td>
		<td> varchar&#40; 1024 &#41;   </td>
		<td> 資源網址 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;iot&#95;device&#95;media&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;iot&#95;device&#95;media&#95;d&#95;id</td>
		<td> ON dev&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;iot&#95;device&#95;media&#95;u&#95;id</td>
		<td> ON uer&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='key_value' onclick='window.scrollTo(580, 1200);return false;' style='cursor:pointer;'><h4 class='card-title'>Table key_value</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='key_value.key'>key</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='key_value.value'>value</a></td>
		<td> varchar&#40; 4096 &#41;   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;key&#95;value&#95;key</td>
		<td> ON key</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='local_role' onclick='window.scrollTo(115, 270);return false;' style='cursor:pointer;'><h4 class='card-title'>Table local_role</h4></a>
<p class="text-muted">角色</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='local_role.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_role.name'>name</a></td>
		<td> varchar&#40; 100 &#41;   </td>
		<td> 群組名稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_role.active'>active</a></td>
		<td> smallint   DEFAULT 1 </td>
		<td> 啟動狀態
&lt;br&gt;0&#58;關閉
&lt;br&gt;1&#58;啟動
&lt;br&gt;若此群組為關閉狀態，則歸屬於此群組的使用者也都會關閉。 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='local_role.created_by_uuid'>created&#95;by&#95;uuid</a></td>
		<td> uuid   </td>
		<td> 父UUID </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_role.is_super'>is&#95;super</a></td>
		<td> bool   DEFAULT false </td>
		<td> 是否為超級管理者群組 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;table&#95;0&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='local_user' onclick='window.scrollTo(445, 270);return false;' style='cursor:pointer;'><h4 class='card-title'>Table local_user</h4></a>
<p class="text-muted">使用者</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='local_user.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#unq'/></svg></td>
		<td><a name='local_user.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='local_user.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 使用者名稱 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.email'>email</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> email帳號
&lt;br&gt;須唯一值 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.secret'>secret</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 使用bcrypt加密 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.active'>active</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td> 啟動狀態
&lt;br&gt;0&#58;關閉
&lt;br&gt;1&#58;啟動
&lt;br&gt;第一次註冊或新增使用者皆為關閉，須由啟動通知信進行啟動 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='local_user.profile'>profile</a></td>
		<td> json   </td>
		<td> 使用者其他資訊
&lt;br&gt;JSON格式 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='local_user.created_by_uuid'>created&#95;by&#95;uuid</a></td>
		<td> uuid   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.is_delete'>is&#95;delete</a></td>
		<td> bool   DEFAULT false </td>
		<td> 帳號是否被刪除 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='local_user.is_super'>is&#95;super</a></td>
		<td> uuid   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='local_user.vendor_code'>vendor&#95;code</a></td>
		<td> smallint   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;table&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#unq'/></svg></td><td>unq&#95;user&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='login_verification' onclick='window.scrollTo(295, 420);return false;' style='cursor:pointer;'><h4 class='card-title'>Table login_verification</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='login_verification.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='login_verification.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='login_verification.login_from'>login&#95;from</a></td>
		<td> smallint   DEFAULT 1 </td>
		<td> 1&#58;other&#44;2&#58;window&#44;3&#58;mac&#44;4&#58;android&#44;5&#58;ios </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='login_verification.os_udid'>os&#95;udid</a></td>
		<td> varchar&#40; 1024 &#41;   DEFAULT other </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='login_verification.verification_code'>verification&#95;code</a></td>
		<td> varchar&#40; 6 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='login_verification.is_verified'>is&#95;verified</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='login_verification.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='login_verification.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;login&#95;from&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='mq_group' onclick='window.scrollTo(60, 720);return false;' style='cursor:pointer;'><h4 class='card-title'>Table mq_group</h4></a>
<p class="text-muted">mqtt群組</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='mq_group.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='mq_group.app_uuid'>app&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_group.name'>name</a></td>
		<td> varchar&#40; 100 &#41;   DEFAULT 'group name' </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='mq_group.key'>key</a></td>
		<td> varchar&#40; 32 &#41;   </td>
		<td> 加入群組所需驗證的密鑰 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_group.is_delete'>is&#95;delete</a></td>
		<td> bool   DEFAULT false </td>
		<td> 群組是否被刪除 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_group.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;mq&#95;group&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;mq&#95;group&#95;app&#95;id</td>
		<td> ON app&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='mq_message' onclick='window.scrollTo(60, 1035);return false;' style='cursor:pointer;'><h4 class='card-title'>Table mq_message</h4></a>
<p class="text-muted">群組資訊</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='mq_message.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='mq_message.mq_grp_uuid'>mq&#95;grp&#95;uuid</a></td>
		<td> uuid   </td>
		<td> mg group id </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_message.read_count'>read&#95;count</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='mq_message.message'>message</a></td>
		<td> text   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_message.type'>type</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 1 </td>
		<td> 1&#58; text </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='mq_message.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='mq_message.sender_uuid'>sender&#95;uuid</a></td>
		<td> uuid   </td>
		<td> 發送者的uuid </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;message&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;mq&#95;message&#95;mg&#95;g&#95;id</td>
		<td> ON mq&#95;grp&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='operator' onclick='window.scrollTo(1000, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table operator</h4></a>
<p class="text-muted">營運商
<br>一位營運商只能屬於一個使用者</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='operator.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='operator.category_id'>category&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.serial_number'>serial&#95;number</a></td>
		<td> varchar&#40; 16 &#41;   </td>
		<td> 运营商编号 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.name'>name</a></td>
		<td> varchar&#40; 100 &#41;   </td>
		<td> 运营商名称 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='operator.email'>email</a></td>
		<td> varchar&#40; 100 &#41;   </td>
		<td> 營運商信箱 </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='operator.country_id'>country&#95;id</a></td>
		<td> integer   </td>
		<td> 國家id </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='operator.city_id'>city&#95;id</a></td>
		<td> integer   </td>
		<td> 縣市id </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='operator.area_id'>area&#95;id</a></td>
		<td> integer   </td>
		<td> 鄉鎮id </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='operator.address1'>address1</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 地址1 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='operator.address2'>address2</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 地址2 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='operator.profile'>profile</a></td>
		<td> json   </td>
		<td> 其他營運商資訊 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立日期 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.updated_at'>updated&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 更新日期 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.created_by_user_id'>created&#95;by&#95;user&#95;id</a></td>
		<td> integer   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator.updated_by_user_id'>updated&#95;by&#95;user&#95;id</a></td>
		<td> timestamptz   </td>
		<td> 最後由user&#95;id更新 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;operator&#95;country&#95;id</td>
		<td> ON country&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;operator&#95;city&#95;id</td>
		<td> ON city&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;operator&#95;area&#95;id</td>
		<td> ON area&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;operator&#95;type&#95;id</td>
		<td> ON category&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;operator&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_operator_country</td>
		<td > ( country&#95;id ) ref <a href='#country'>country</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_operator_city</td>
		<td > ( city&#95;id ) ref <a href='#city'>city</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_operator_area</td>
		<td > ( area&#95;id ) ref <a href='#area'>area</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_operator_operator_type</td>
		<td > ( category&#95;id ) ref <a href='#operator&#95;category'>operator&#95;category</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='operator_category' onclick='window.scrollTo(1300, 225);return false;' style='cursor:pointer;'><h4 class='card-title'>Table operator_category</h4></a>
<p class="text-muted">營運商類型</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='operator_category.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='operator_category.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 類型名稱 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;operator&#95;type&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='order' onclick='window.scrollTo(1105, 780);return false;' style='cursor:pointer;'><h4 class='card-title'>Table order</h4></a>
<p class="text-muted">訂單記錄表</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='order.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='order.commodity_id'>commodity&#95;id</a></td>
		<td> integer   </td>
		<td> 商品ID </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='order.device_state_id'>device&#95;state&#95;id</a></td>
		<td> integer   </td>
		<td> 軌道ID </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='order.price'>price</a></td>
		<td> integer   </td>
		<td> 訂單金額 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='order.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 交易時間 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;order&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;order&#95;device&#95;state&#95;id</td>
		<td> ON device&#95;state&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;order&#95;commodity&#95;id</td>
		<td> ON commodity&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_order_device_state</td>
		<td > ( device&#95;state&#95;id ) ref <a href='#device&#95;state'>device&#95;state</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_order_commodity</td>
		<td > ( commodity&#95;id ) ref <a href='#commodity'>commodity</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='order_sale_activity' onclick='window.scrollTo(1300, 780);return false;' style='cursor:pointer;'><h4 class='card-title'>Table order_sale_activity</h4></a>
<p class="text-muted">訂單銷售活動關聯表</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='order_sale_activity.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='order_sale_activity.order_id'>order&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='order_sale_activity.sale_activity_id'>sale&#95;activity&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;order&#95;sale&#95;activity&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;order&#95;sale&#95;activity&#95;order&#95;id</td>
		<td> ON order&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;order&#95;sale&#95;activity&#95;sale&#95;activity&#95;id</td>
		<td> ON sale&#95;activity&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_order_sale_activity_order</td>
		<td > ( order&#95;id ) ref <a href='#order'>order</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_order_sale_activity</td>
		<td > ( sale&#95;activity&#95;id ) ref <a href='#sale&#95;activity'>sale&#95;activity</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='parent_operator' onclick='window.scrollTo(1225, 315);return false;' style='cursor:pointer;'><h4 class='card-title'>Table parent_operator</h4></a>
<p class="text-muted">子營運商關聯表。
<br>若operator.id不存在於parent_operator.operator_id則operator.id屬於parent operator。</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='parent_operator.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='parent_operator.operator_id'>operator&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='parent_operator.parent_id'>parent&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;parent&#95;operator&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;parent&#95;operator&#95;operator&#95;id</td>
		<td> ON operator&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_parent_operator_operator</td>
		<td > ( operator&#95;id ) ref <a href='#operator'>operator</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='permission' onclick='window.scrollTo(115, 525);return false;' style='cursor:pointer;'><h4 class='card-title'>Table permission</h4></a>
<p class="text-muted">功能權限定義</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='permission.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='permission.per_key'>per&#95;key</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 權限鍵值
&lt;br&gt;格式：model&#46;function&#46;&#123;page&#124;api&#125; </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='permission.display_name'>display&#95;name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 權限顯示名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='permission.description'>description</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 權限描述 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;permission&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_device' onclick='window.scrollTo(60, 1425);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_device</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='push_device.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_device.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_device.device_code'>device&#95;code</a></td>
		<td> smallint   </td>
		<td> 2&#58;android
3&#46;ios </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_device.token'>token</a></td>
		<td> varchar&#40; 4096 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_device.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_device.applicatoin_code'>applicatoin&#95;code</a></td>
		<td> smallint   DEFAULT 1 </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;device&#95;push&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_log' onclick='window.scrollTo(235, 1425);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_log</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='push_log.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='push_log.p_m_id'>p&#95;m&#95;id</a></td>
		<td> integer   </td>
		<td> message id </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='push_log.p_d_id'>p&#95;d&#95;id</a></td>
		<td> integer   </td>
		<td> device&#95;id </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_log.result'>result</a></td>
		<td> varchar&#40; 1024 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_log.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_log.success'>success</a></td>
		<td> varchar&#40; 1 &#41;   </td>
		<td> 傳送成功 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;push&#95;mesaage&#95;log&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;push&#95;log&#95;p&#95;m&#95;id</td>
		<td> ON p&#95;m&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;push&#95;log&#95;p&#95;d&#95;id</td>
		<td> ON p&#95;d&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_push_log_push_message</td>
		<td > ( p&#95;m&#95;id ) ref <a href='#push&#95;message'>push&#95;message</a> (id) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_push_log_push_device</td>
		<td > ( p&#95;d&#95;id ) ref <a href='#push&#95;device'>push&#95;device</a> (uuid) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_message' onclick='window.scrollTo(85, 1560);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_message</h4></a>
<p class="text-muted">推播訊息</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='push_message.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_message.payload'>payload</a></td>
		<td> varchar&#40; 4096 &#41;   </td>
		<td> 推播內容 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_message.is_delete'>is&#95;delete</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 0 </td>
		<td> 1&#58;代表已經刪除，將不被推播
0&#58;代表需要被推播 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_message.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_message.total'>total</a></td>
		<td> integer   </td>
		<td> 預計傳送總數 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;push&#95;message&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_noti' onclick='window.scrollTo(1255, 1440);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_noti</h4></a>
<p class="text-muted">自訂推播訊息</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='push_noti.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti.title'>title</a></td>
		<td> varchar&#40; 64 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.body'>body</a></td>
		<td> text   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.data'>data</a></td>
		<td> text   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti.by_uuid'>by&#95;uuid</a></td>
		<td> uuid   </td>
		<td> send by user uuid </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.application_code'>application&#95;code</a></td>
		<td> smallint   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti.query'>query</a></td>
		<td> varchar&#40; 256 &#41;   </td>
		<td> &#123;application&#95;code&#58;1000&#44; device&#95;type&#58; 1&#125;

device&#95;type&#58; 1&#61;&gt;all&#44; 2&#61;&gt;andoid&#44; 3&#61;&gt;ios </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.total'>total</a></td>
		<td> integer   DEFAULT 0 </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.success'>success</a></td>
		<td> integer   DEFAULT 0 </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='push_noti.error'>error</a></td>
		<td> integer   DEFAULT 0 </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;push&#95;noti&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_noti_log' onclick='window.scrollTo(1135, 1440);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_noti_log</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='push_noti_log.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti_log.noti_id'>noti&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti_log.token'>token</a></td>
		<td> varchar&#40; 1024 &#41;   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti_log.token_type'>token&#95;type</a></td>
		<td> smallint   </td>
		<td> 1&#58;android&#44;2&#58;ios </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti_log.success'>success</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='push_noti_log.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;push&#95;noti&#95;log&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='push_queue' onclick='window.scrollTo(85, 1440);return false;' style='cursor:pointer;'><h4 class='card-title'>Table push_queue</h4></a>
<p class="text-muted">推播訊息佇列</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='push_queue.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='push_queue.p_m_id'>p&#95;m&#95;id</a></td>
		<td> integer   </td>
		<td> 訊息ID </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='push_queue.p_d_id'>p&#95;d&#95;id</a></td>
		<td> integer   </td>
		<td> 裝置ID </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;push&#95;queue&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;push&#95;queue&#95;p&#95;d&#95;id</td>
		<td> ON p&#95;d&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;push&#95;queue&#95;p&#95;m&#95;id</td>
		<td> ON p&#95;m&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_push_queue_push_device</td>
		<td > ( p&#95;d&#95;id ) ref <a href='#push&#95;device'>push&#95;device</a> (uuid) </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_push_queue_push_message</td>
		<td > ( p&#95;m&#95;id ) ref <a href='#push&#95;message'>push&#95;message</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_friend' onclick='window.scrollTo(670, 930);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_friend</h4></a>
<p class="text-muted">朋友關係</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_friend.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_friend.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_friend.fri_user_uuid'>fri&#95;user&#95;uuid</a></td>
		<td> uuid   </td>
		<td> 朋友uuid </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_friend.is_friend'>is&#95;friend</a></td>
		<td> bool   DEFAULT true </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_friend.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;friend&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;friend&#95;u&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;friend&#95;fri&#95;u&#95;id</td>
		<td> ON fri&#95;user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_mq_group_device' onclick='window.scrollTo(130, 855);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_mq_group_device</h4></a>
<p class="text-muted">群組底下的成員(使用者/裝置)</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_mq_group_device.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_mq_group_device.mq_grp_uuid'>mq&#95;grp&#95;uuid</a></td>
		<td> uuid   </td>
		<td> mq ground uuid </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_mq_group_device.dev_uuid'>dev&#95;uuid</a></td>
		<td> uuid   </td>
		<td> user id or device uuid </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_mq_group_device.role'>role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_mq_group_device.join_at'>join&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td> 加入時間 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;mq&#95;group&#95;id&#95;0</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;mq&#95;group&#95;mq&#95;g&#95;id&#95;0</td>
		<td> ON mq&#95;grp&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;mq&#95;group&#95;device&#95;d&#95;id</td>
		<td> ON dev&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_mq_group_user' onclick='window.scrollTo(130, 720);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_mq_group_user</h4></a>
<p class="text-muted">群組底下的成員使用者</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_mq_group_user.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_mq_group_user.mq_grp_uuid'>mq&#95;grp&#95;uuid</a></td>
		<td> uuid   </td>
		<td> mq ground uuid </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_mq_group_user.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_mq_group_user.role'>role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_mq_group_user.join_at'>join&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td> 加入時間 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;mq&#95;group&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;mq&#95;group&#95;mq&#95;g&#95;id</td>
		<td> ON mq&#95;grp&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;mq&#95;group&#95;user&#95;user&#95;uuid</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_msg_device' onclick='window.scrollTo(60, 1215);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_msg_device</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_msg_device.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_msg_device.mq_msg_uuid'>mq&#95;msg&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_msg_device.dev_uuid'>dev&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_msg_device.send_at'>send&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_msg_device.read_at'>read&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_msg_device.owner'>owner</a></td>
		<td> bool   DEFAULT false </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;msg&#95;device&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;msg&#95;device&#95;mq&#95;m&#95;id</td>
		<td> ON mq&#95;msg&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;msg&#95;device&#95;d&#95;id</td>
		<td> ON dev&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_msg_user' onclick='window.scrollTo(60, 1035);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_msg_user</h4></a>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_msg_user.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_msg_user.mq_msg_uuid'>mq&#95;msg&#95;uuid</a></td>
		<td> uuid   </td>
		<td> mq message uuid </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_msg_user.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_msg_user.send_at'>send&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td> 傳送時間 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_msg_user.read_at'>read&#95;at</a></td>
		<td> timestamptz   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_msg_user.owner'>owner</a></td>
		<td> bool   DEFAULT false </td>
		<td> message owner </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;user&#95;msg&#95;id</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;msg&#95;user&#95;mq&#95;m&#95;id</td>
		<td> ON mq&#95;msg&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;msg&#95;user&#95;u&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_role_user' onclick='window.scrollTo(310, 270);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_role_user</h4></a>
<p class="text-muted">角色與使用者關聯表
<br>一個使用者對應一個角色</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_role_user.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_role_user.role_uuid'>role&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_role_user.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;role&#95;user&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;role&#95;user&#95;role&#95;id</td>
		<td> ON role&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;role&#95;user&#95;user&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_two_group' onclick='window.scrollTo(250, 720);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_two_group</h4></a>
<p class="text-muted">用來找尋已存在的兩人對話群組</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_two_group.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_two_group.a_uuid'>a&#95;uuid</a></td>
		<td> uuid   </td>
		<td> a person uuid </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_two_group.b_uuid'>b&#95;uuid</a></td>
		<td> uuid   </td>
		<td> b person uuid </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_two_group.mq_grp_uuid'>mq&#95;grp&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;two&#95;group&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;two&#95;group&#95;mq&#95;g&#95;id</td>
		<td> ON mq&#95;grp&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;two&#95;group&#95;a&#95;uuid</td>
		<td> ON a&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;two&#95;group&#95;b&#95;uuid</td>
		<td> ON b&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='rel_user_device' onclick='window.scrollTo(370, 855);return false;' style='cursor:pointer;'><h4 class='card-title'>Table rel_user_device</h4></a>
<p class="text-muted">使用者底下的裝置</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='rel_user_device.id'>id</a></td>
		<td> bigserial   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_user_device.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='rel_user_device.dev_uuid'>dev&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_user_device.bind_at'>bind&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td> 綁定時間 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_user_device.unbind_at'>unbind&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 解除綁定時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='rel_user_device.is_bind'>is&#95;bind</a></td>
		<td> bool   DEFAULT true </td>
		<td> 裝置是否已經綁定&#44;false代表使用者解除綁定 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='rel_user_device.role'>role</a></td>
		<td> varchar&#40; 1 &#41;   DEFAULT 2 </td>
		<td> 1&#58;manager&#44;2&#58;guest </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;rel&#95;user&#95;device&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;user&#95;device&#95;u&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;rel&#95;user&#95;device&#95;d&#95;id</td>
		<td> ON dev&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='role_permission' onclick='window.scrollTo(115, 420);return false;' style='cursor:pointer;'><h4 class='card-title'>Table role_permission</h4></a>
<p class="text-muted">角色與權限關聯表</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='role_permission.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='role_permission.role_id'>role&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='role_permission.permission_id'>permission&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;role&#95;permission&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;role&#95;permission&#95;role&#95;id</td>
		<td> ON role&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;role&#95;permission&#95;permission&#95;id</td>
		<td> ON permission&#95;id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='sale_activity' onclick='window.scrollTo(1810, 450);return false;' style='cursor:pointer;'><h4 class='card-title'>Table sale_activity</h4></a>
<p class="text-muted">銷售活動</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg><svg width='14' height='14'><use xlink:href='#ref'/></svg></td>
		<td><a name='sale_activity.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.activity_category_id'>activity&#95;category&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='sale_activity.name'>name</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 活動名稱 </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='sale_activity.descriptiosn'>descriptiosn</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 活動描述 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.code'>code</a></td>
		<td> varchar&#40; 50 &#41;   </td>
		<td> 活動代碼 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.active'>active</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td> 啟動狀態
&lt;br&gt;0&#58;關閉
&lt;br&gt;1&#58;啟動
&lt;br&gt;第一次建立活動時預設為關閉 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.base_price'>base&#95;price</a></td>
		<td> integer   </td>
		<td> 基礎價格。需滿足此架夠才可使用此活動 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.discount'>discount</a></td>
		<td> integer   </td>
		<td> 折扣百分比 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.priority'>priority</a></td>
		<td> integer   DEFAULT 0 </td>
		<td> 活動優先權。值越高代表優先權高 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.start_at'>start&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 活動開始時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.end_at'>end&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 活動結束時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.created_at'>created&#95;at</a></td>
		<td> timestamptz   </td>
		<td> 建立時間 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.created_by_user_id'>created&#95;by&#95;user&#95;id</a></td>
		<td> timestamptz   </td>
		<td> 由user&#95;id建立 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='sale_activity.is_delete'>is&#95;delete</a></td>
		<td> bool   DEFAULT false </td>
		<td> 活動狀態是否為刪除 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;sale&#95;activity&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='user_action' onclick='window.scrollTo(460, 510);return false;' style='cursor:pointer;'><h4 class='card-title'>Table user_action</h4></a>
<p class="text-muted">使用者行動授權表</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='user_action.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='user_action.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='user_action.access_key'>access&#95;key</a></td>
		<td> varchar&#40; 255 &#41;   </td>
		<td> 授權碼 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='user_action.action_code'>action&#95;code</a></td>
		<td> integer   </td>
		<td> 行為代碼
&lt;br&gt;1&#58;啟動帳號
&lt;br&gt;2&#58;重設密碼 </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='user_action.expire'>expire</a></td>
		<td> timestamptz   </td>
		<td> 有效時間。
當前時間&#43;24小時 </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;user&#95;action&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;user&#95;action&#95;user&#95;id</td>
		<td> ON user&#95;uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='user_other_profile' onclick='window.scrollTo(820, 270);return false;' style='cursor:pointer;'><h4 class='card-title'>Table user_other_profile</h4></a>
<p class="text-muted">使用者與營運商關聯表
<br>一個使用者對應一個營運商身份</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='user_other_profile.id'>id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg></td>
		<td><a name='user_other_profile.user_id'>user&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#idx'/></svg><svg width='14' height='14'><use xlink:href='#fk'/></svg></td>
		<td><a name='user_other_profile.operator_id'>operator&#95;id</a></td>
		<td> integer   </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;user&#95;operator&#95;id</td>
		<td> ON id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;user&#95;operator&#95;user&#95;id</td>
		<td> ON user&#95;id</td>
		<td>  </td>
	</tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#idx'/></svg></td><td>idx&#95;user&#95;operator&#95;operator&#95;id</td>
		<td> ON operator&#95;id</td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Foreign Keys</th></tr>
	<tr>
		<td><svg width='14' height='14'><use xlink:href='#fk'/></svg></td><td>fk_user_operator.id--operator.id</td>
		<td > ( operator&#95;id ) ref <a href='#operator'>operator</a> (id) </td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<br/><br/>
<div class='card'><div class='card-block'><a name='user_vendor' onclick='window.scrollTo(610, 270);return false;' style='cursor:pointer;'><h4 class='card-title'>Table user_vendor</h4></a>
<p class="text-muted">使用者與供應商綁定關係</p>
<table class='table-sm table-bordered'>
<thead>
<tr><th>Indexes</th><th>Field Name</th><th>Data Type</th><th>Description</th></tr></thead>
<tbody>
	<tr>
		<td>*<svg width='14' height='14'><use xlink:href='#pk'/></svg></td>
		<td><a name='user_vendor.uuid'>uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='user_vendor.code'>code</a></td>
		<td> smallint   DEFAULT 0 </td>
		<td>  </td>
	</tr>
	<tr>
		<td>*</td>
		<td><a name='user_vendor.user_uuid'>user&#95;uuid</a></td>
		<td> uuid   </td>
		<td>  </td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td><a name='user_vendor.created_at'>created&#95;at</a></td>
		<td> timestamptz   DEFAULT current_timestamp </td>
		<td>  </td>
	</tr>
<tr><th colspan='4'>Indexes</th></tr>
	<tr>		<td><svg width='14' height='14'><use xlink:href='#pk'/></svg></td><td>pk&#95;user&#95;vendor&#95;uuid</td>
		<td> ON uuid</td>
		<td>  </td>
	</tr>
</tbody>
</table></div></div>

<p align='right'><a href='https://www.dbschema.com' style='color:#aaa'>Powered by DbSchema</a></p></body></html>